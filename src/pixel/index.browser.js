!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.pixel=e():t.pixel=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=75)}([function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(31),r=n(32),o=n(15);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=s(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):p(t,e);if("Buffer"===e.type&&o(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(u(e),t=s(t,e<0?0:0|h(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(i)return M(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function _(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var u=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var f=!0,p=0;p<l;p++)if(c(t,o+p)!==c(e,p)){f=!1;break}if(f)return o}return-1}function g(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function y(t,e,n,i){return H(M(e,t.length-n),t,n,i)}function b(t,e,n,i){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return b(t,e,n,i)}function x(t,e,n,i){return H(N(e),t,n,i)}function k(t,e,n,i){return H(function(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function j(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,c=t[r],u=null,f=c>239?4:c>223?3:c>191?2:1;if(r+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=f}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=A));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return u(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return f(null,t)},l.allocUnsafeSlow=function(t){return f(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,r>>>=0,this===t)return 0;for(var o=r-i,a=n-e,s=Math.min(o,a),c=this.slice(i,r),u=t.slice(e,n),f=0;f<s;++f)if(c[f]!==u[f]){o=c[f],a=u[f];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return g(this,t,e,n);case"utf8":case"utf-8":return y(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function S(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=B(t[o]);return r}function R(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function I(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function L(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function O(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,i,o){return o||O(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function D(t,e,n,i,o){return o||O(t,0,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if(t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||C(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);C(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=l.isBuffer(t)?t:M(new l(t,i).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(2))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,f=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||u||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){var i,r,o,a,s,l={}.hasOwnProperty;o=n(10),i=n(34).PixelData,"undefined"!=typeof window&&null!==window||(s=n(41),a=n(42)),r=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(n,i),n.prototype.createBuffer=function(t){return function(){switch(this.getTypeof(t)){case"path":return this.fetchFile(t);case"url":return this.fetchBuffer(t);case"datauri":return o.resolve(this.getBuffer(t));case"binary":return o.resolve(this.getBufferBinary(t));case"blob":case"file":return this.readAsArrayBuffer(t);case"image":return this.fetchBuffer(t.src);default:return o.resolve(t)}}.call(this).then(function(t){return new e(new Uint8Array(t))})},n.prototype.fetchFile=function(t){return"undefined"==typeof window||null===window?o.resolve(a.readFileSync(t)):this.fetchBuffer(t)},n.prototype.fetchBuffer=function(t){return"undefined"==typeof window||null===window?new o(function(e,n){return s({url:t,encoding:null},function(t,i,r){return null!=t?n(t):e(r)})}):this.fetchArrayBuffer(t)},n.prototype.fetchArrayBuffer=function(t){return new o(function(e,n){var i;return(i=new XMLHttpRequest).open("GET",t,!0),i.responseType="arraybuffer",i.send(),i.onerror=function(t){return n(i.statusText)},i.onload=function(){return 4!==i.readyState?n(i.statusText):e(i.response)}})},n}(),t.exports=new r,t.exports.PixelUtil=r}).call(this,n(0).Buffer)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var i=n(7),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=n(6);o.inherits=n(4);var a=n(18),s=n(14);o.inherits(f,a);for(var l=r(s.prototype),c=0;c<l.length;c++){var u=l[c];f.prototype[u]||(f.prototype[u]=s.prototype[u])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||i.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(0).Buffer)},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,i)});case 4:return e.nextTick(function(){t.call(null,n,i,r)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,n(1))},function(t,e,n){var i=n(0),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e,n){(function(e,n,i){t.exports=function(){var t,r,o;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,n){"use strict";var i;try{throw new Error}catch(t){i=t}var r=t("./schedule.js"),o=t("./queue.js"),a=t("./util.js");function s(){this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=r.isStatic?r(this.drainQueues):r}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t){setTimeout(t,0)})},s.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},s.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},a.hasDevTools?(r.isStatic&&(r=function(t){setTimeout(t,0)}),s.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},s.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},s.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(s.prototype.invokeLater=l,s.prototype.invoke=c,s.prototype.settlePromises=u),s.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},s.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},e.exports=new s,e.exports.firstLineError=i},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=function(t,e){this._reject(e)},r=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},o=function(t,e){this._isPending()&&this._resolveCallback(e.target)},a=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){var s=n(i),l=new t(e);l._propagateFrom(this,1);var c=this._target();if(l._setBoundTo(s),s instanceof t){var u={promiseRejectionQueued:!1,promise:l,target:c,bindingPromise:s};c._then(e,r,l._progress,l,u),s._then(o,a,l._progress,l,u)}else l._resolveCallback(c);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072==(131072&this._bitField)},t.bind=function(i,r){var o=n(i),a=new t(e);return a._setBoundTo(o),o instanceof t?o._then(function(){a._resolveCallback(r)},a._reject,a._progress,a,null):a._resolveCallback(r),a}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=t("./promise.js")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(t){}return r},e.exports=r},{"./promise.js":23}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util.js"),i=n.canEvaluate;function r(t){var i=this.pop(),r=function(t,i){var r;if(null!=t&&(r=t[i]),"function"!=typeof r){var o="Object "+n.classString(t)+" has no method '"+n.toString(i)+"'";throw new e.TypeError(o)}return r}(t,i);return r.apply(t,this)}function o(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;i<e;++i)n[i-1]=arguments[i];return n.push(t),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=a;else if(i){var r=(void 0)(t);e=null!==r?r:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./errors.js"),i=t("./async.js"),r=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new r),i.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(i.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(t,n,i){"use strict";n.exports=function(){var n,i=t("./async.js"),r=t("./util.js"),o=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,a=null,s=null,l=!1;function c(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);_(this,c),e>32&&this.uncycle()}function u(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r=a.test(i)||"    (No stack trace)"===i,o=r&&p(i);r&&!o&&(l&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function f(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t.toString(),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{var n=JSON.stringify(t);e=n}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}r.inherits(c,Error),c.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;for(var i=(t=this._length=i)-1;i>=0;--i){var o=e[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<t;++i){var a=e[i].stack,s=n[a];if(void 0!==s&&s!==i){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var l=i>0?e[i-1]:this;s<t-1?(l._parent=e[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)e[u]._length=c,c++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=c.parseStackAndMessage(t),n=e.message,i=[e.stack],o=this;void 0!==o;)i.push(u(o.stack.split("\n"))),o=o._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,o=e[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=i[s];if(e[r]!==l)break;e.pop(),r--}e=i}}(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),r.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),r.notEnumerableProp(t,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||a.test(i))break}return n>0&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:u(e)}},c.formatAndLogError=function(t,e){if("undefined"!=typeof console){var i;if("object"==typeof t||"function"==typeof t){var r=t.stack;i=e+s(r,t)}else i=e+String(t);"function"==typeof n?n(i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}},c.unhandledRejection=function(t){c.formatAndLogError(t,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof _},c.fireRejectionEvent=function(t,e,n,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){i.throwLater(t)}var a=!1;try{a=m(t,n,r)}catch(t){a=!0,i.throwLater(t)}var s=!1;if(v)try{s=v(t.toLowerCase(),{reason:n,promise:r})}catch(t){s=!0,i.throwLater(t)}a||o||s||"unhandledRejection"!==t||c.formatAndLogError(n,"Unhandled rejection ")};var p=function(){return!1},h=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function d(t){var e=t.match(h);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}c.setBounds=function(t,e){if(c.isSupported()){for(var n,i,r=t.stack.split("\n"),a=e.stack.split("\n"),s=-1,l=-1,u=0;u<r.length;++u){var f=d(r[u]);if(f){n=f.fileName,s=f.line;break}}for(var u=0;u<a.length;++u){var f=d(a[u]);if(f){i=f.fileName,l=f.line;break}}s<0||l<0||!n||!i||n!==i||s>=l||(p=function(t){if(o.test(t))return!0;var e=d(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=l)})}};var v,_=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():f(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,a=t,s=e;var n=Error.captureStackTrace;return p=function(t){return o.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return a=/@/,s=e,l=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(s=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?f(e):e.toString()},null):(a=t,s=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}(),m=function(){if(r.isNode)return function(t,n,i){return"rejectionHandled"===t?e.emit(t,i):e.emit(t,n,i)};var t=!1,n=!0;try{var i=new self.CustomEvent("test");t=i instanceof CustomEvent}catch(t){}if(!t)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(t){n=!1}n&&(v=function(e,n){var i;return t?i=new self.CustomEvent(e,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,n),!!i&&!self.dispatchEvent(i)});var a={};return a.unhandledRejection="onunhandledRejection".toLowerCase(),a.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var i=a[t],r=self[i];return!!r&&("rejectionHandled"===t?r.call(self,n):r.call(self,e,n),!0)}}();return"undefined"!=typeof console&&void 0!==console.warn&&(n=function(t){console.warn(t)},r.isNode&&e.stderr.isTTY?n=function(t){e.stderr.write("[31m"+t+"[39m\n")}:r.isNode||"string"!=typeof(new Error).stack||(n=function(t){console.warn("%c"+t,"color: red")})),c}},{"./async.js":2,"./util.js":38}],8:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util.js"),i=t("./errors.js"),r=n.tryCatch,o=n.errorObj,a=t("./es5.js").keys,s=i.TypeError;function l(t,e,n){this._instances=t,this._callback=e,this._promise=n}function c(t,e){var n={},i=r(t).call(n,e);if(i===o)return i;var l=a(n);return l.length?(o.e=new s("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),o):i}return l.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,a=i._boundValue(),s=0,l=this._instances.length;s<l;++s){var u=this._instances[s],f=u===Error||null!=u&&u.prototype instanceof Error;if(f&&t instanceof u){var p=r(n).call(a,t);return p===o?(e.e=p.e,e):p}if("function"==typeof u&&!f){var h=c(u,t);if(h===o){t=o.e;break}if(h){var p=r(n).call(a,t);return p===o?(e.e=p.e,e):p}}}return e.e=t,e},l}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=[];function r(){this._trace=new e(o())}function o(){var t=i.length-1;if(t>=0)return i[t]}return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&i.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&i.pop()},t.prototype._peekContext=o,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,function(){if(n())return new r}}},{}],10:[function(t,n,i){"use strict";n.exports=function(n,i){var r,o,a=n._getDomain,s=t("./async.js"),l=t("./errors.js").Warning,c=t("./util.js"),u=c.canAttachTrace,f=c.isNode&&(!!e.env.BLUEBIRD_DEBUG||!1);return c.isNode&&0==e.env.BLUEBIRD_DEBUG&&(f=!1),f&&s.disableTrampolineIfNecessary(),n.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},n.prototype._ensurePossibleRejectionHandled=function(){0==(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return f&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(f&&u(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=i.parseStackAndMessage(t);c.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new l(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var r=i.parseStackAndMessage(e);e.stack=r.message+"\n"+r.stack.join("\n")}i.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){var e=a();o="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=a();r="function"==typeof t?null===e?t:e.bind(t):void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&!1===f)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(f=i.isSupported())&&s.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return f&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},f=!1),function(){return f}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e,n){"use strict";var i=t("./util.js"),r=i.isPrimitive;e.exports=function(t){var e=function(){return this},n=function(){throw this},i=function(){},o=function(){throw void 0},a=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(n){return void 0===n?this.then(i):r(n)?this._then(a(n,2),void 0,void 0,void 0,void 0):(n instanceof t&&n._ignoreRejections(),this._then(e,void 0,void 0,n,void 0))},t.prototype.throw=t.prototype.thenThrow=function(t){return void 0===t?this.then(o):r(t)?this._then(a(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,i){return n(t,i,null,e)}}},{}],13:[function(t,e,n){"use strict";var i,r,o=t("./es5.js"),a=o.freeze,s=t("./util.js"),l=s.inherits,c=s.notEnumerableProp;function u(t,e){function n(i){if(!(this instanceof n))return new n(i);c(this,"message","string"==typeof i?i:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}var f=u("Warning","warning"),p=u("CancellationError","cancellation error"),h=u("TimeoutError","timeout error"),d=u("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(t){i=u("TypeError","type error"),r=u("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<v.length;++_)"function"==typeof Array.prototype[v[_]]&&(d.prototype[v[_]]=Array.prototype[v[_]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;function g(t){if(!(this instanceof g))return new g(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=t+r[o];i=r.join("\n"),e+=i+"\n"}return m--,e},l(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:p,TimeoutError:h,OperationalError:g,RejectionError:g,AggregateError:d}),c(Error,"__BluebirdErrorTypes__",y)),e.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,r){return n(t,i,r,e)}}},{}],16:[function(t,e,n){"use strict";e.exports=function(e,n,i){var r=t("./util.js"),o=r.isPrimitive,a=r.thrower;function s(){return this}function l(){throw this}function c(t,e,n){var i;return i=o(e)?n?function(t){return function(){return t}}(e):function(t){return function(){throw t}}(e):n?s:l,t._then(i,a,void 0,e,void 0)}function u(t){var r=this.promise,o=this.handler,a=r._isBound()?o.call(r._boundValue()):o();if(void 0!==a){var s=i(a,r);if(s instanceof e)return c(s=s._target(),t,r.isFulfilled())}return r.isRejected()?(n.e=t,n):t}function f(t){var n=this.promise,r=this.handler,o=n._isBound()?r.call(n._boundValue(),t):r(t);if(void 0!==o){var a=i(o,n);if(a instanceof e)return c(a=a._target(),t,!0)}return t}e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?u:f,e?u:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./errors.js"),a=o.TypeError,s=t("./util.js"),l=s.errorObj,c=s.tryCatch,u=[];function f(t,n,r,o){var a=this._promise=new e(i);a._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(u):u}f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},f.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(!0===t.done)this._promise._resolveCallback(n);else{var i=r(n,this._promise);if(!(i instanceof e)&&null===(i=function(t,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=c(n[o])(t);if(i._popContext(),a===l){i._pushContext();var s=e.reject(l.e);return i._popContext(),s}var u=r(a,i);if(u instanceof e)return u}return null}(i,this._yieldHandlers,this._promise)))return void this._throw(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},f.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._next=function(t){this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,i=f,r=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new i(void 0,void 0,n,r);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("fn must be a function\n\n    See http://goo.gl/916lJJ\n");u.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new f(t,this),r=i.promise();return i._run(e.spawn),r}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);for(var i=arguments.length,r=new Array(i),o=0;o<i;++o)r[o]=arguments[o];t&&r.pop();var a=new n(r).promise();return void 0!==t?a.spread(t):a}}},{"./util.js":38}],19:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){var a=e._getDomain,s=t("./async.js"),l=t("./util.js"),c=l.tryCatch,u=l.errorObj,f={},p=[];function h(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var r=a();this._callback=null===r?e:r.bind(e),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,s.invoke(d,this,void 0)}function d(){this._init$(void 0,-2)}function v(t,e,n,i){var r="object"==typeof n&&null!==n?n.concurrency:0;return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new h(t,e,r,i)}l.inherits(h,n),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var i=this._values,o=this.length(),a=this._preservedValues,s=this._limit;if(i[n]===f){if(i[n]=t,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(s>=1&&this._inFlight>=s)return i[n]=t,void this._queue.push(n);null!==a&&(a[n]=t);var l=this._callback,p=this._promise._boundValue();this._promise._pushContext();var h=c(l).call(p,t,n,o);if(this._promise._popContext(),h===u)return this._reject(h.e);var d=r(h,this._promise);if(d instanceof e){if((d=d._target())._isPending())return s>=1&&this._inFlight++,i[n]=f,d._proxyPromiseArray(this,n);if(!d._isFulfilled())return this._reject(d._reason());h=d._value()}i[n]=h}var v=++this._totalResolved;v>=o&&(null!==a?this._filter(i,a):this._resolve(i))},h.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},h.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,o=0;o<n;++o)t[o]&&(i[r++]=e[o]);i.length=r,this._resolve(i)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(this,t,e,null).promise()},e.map=function(t,e,n,r){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(t,e,n,r).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var r=a(t).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(r),i}},e.attempt=e.try=function(t,i,s){if("function"!=typeof t)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l=new e(n);l._captureStackTrace(),l._pushContext();var c=o.isArray(i)?a(t).apply(s,i):a(t).call(s,i);return l._popContext(),l._resolveFromSyncValue(c),l},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util.js"),i=t("./async.js"),r=n.tryCatch,o=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=r(e).apply(this._boundValue(),[null].concat(t));a===o&&i.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?r(e).call(n,null):r(e).call(n,null,t);a===o&&i.throwLater(a.e)}function l(t,e){if(!t){var n=this._target(),a=n._getCarriedStackTrace();a.cause=t,t=a}var s=r(e).call(this._boundValue(),t);s===o&&i.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,l,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=t("./async.js"),o=i.tryCatch,a=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,r=t.handler,s=t.promise,l=t.receiver,c=o(r).call(l,n);if(c===a){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var u=i.canAttachTrace(c.e)?c.e:new Error(i.toString(c.e));s._attachExtraTrace(u),s._progress(c.e)}}else c instanceof e?c._then(s._progress,null,null,s,void 0):s._progress(c)},e.prototype._progressUnchecked=function(t){for(var i=this._length(),o=this._progress,a=0;a<i;a++){var s=this._progressHandlerAt(a),l=this._promiseAt(a);if(l instanceof e)"function"==typeof s?r.invoke(this._doProgressWith,this,{handler:s,promise:l,receiver:this._receiverAt(a),value:t}):r.invoke(o,l,t);else{var c=this._receiverAt(a);"function"==typeof s?s.call(c,t,l):c instanceof n&&!c._isResolved()&&c._promiseProgressed(t,l)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,n,i){"use strict";n.exports=function(){var i,r=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},o=function(){return new E.PromiseInspection(this._target())},a=function(t){return E.reject(new f(t))},s=t("./util.js");i=s.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},s.notEnumerableProp(E,"_getDomain",i);var l={},c=t("./async.js"),u=t("./errors.js"),f=E.TypeError=u.TypeError;E.RangeError=u.RangeError,E.CancellationError=u.CancellationError,E.TimeoutError=u.TimeoutError,E.OperationalError=u.OperationalError,E.RejectionError=u.OperationalError,E.AggregateError=u.AggregateError;var p=function(){},h={},d={e:null},v=t("./thenables.js")(E,p),_=t("./promise_array.js")(E,p,v,a),m=t("./captured_trace.js")(),g=t("./debuggability.js")(E,m),y=t("./context.js")(E,m,g),b=t("./catch_filter.js")(d),w=t("./promise_resolver.js"),x=w._nodebackForPromise,k=s.errorObj,j=s.tryCatch;function E(t){if("function"!=typeof t)throw new f("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==E)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==p&&this._resolveFromResolver(t)}function A(t){var e=new E(p);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._progressHandler0=t,e._promise0=t,e._receiver0=t,e._settledValue=t}return E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,i=new Array(e-1),r=0;for(n=0;n<e-1;++n){var o=arguments[n];if("function"!=typeof o)return E.reject(new f("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[r++]=o}i.length=r,t=arguments[n];var a=new b(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},E.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},E.prototype.then=function(t,e,n){if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var i=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(i+=", "+s.classString(e)),this._warn(i)}return this._then(t,e,n,void 0,void 0)},E.prototype.done=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);i._setIsFinal()},E.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,h,void 0)},E.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},E.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},E.prototype.all=function(){return new _(this).promise()},E.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},E.getNewLibraryCopy=n.exports,E.is=function(t){return t instanceof E},E.fromNode=function(t){var e=new E(p),n=j(t)(x(e));return n===k&&e._rejectCallback(n.e,!0,!0),e},E.all=function(t){return new _(t).promise()},E.defer=E.pending=function(){var t=new E(p);return new w(t)},E.cast=function(t){var e=v(t);if(!(e instanceof E)){var n=e;(e=new E(p))._fulfillUnchecked(n)}return e},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(t){var e=new E(p);return e._captureStackTrace(),e._rejectCallback(t,!0),e},E.setScheduler=function(t){if("function"!=typeof t)throw new f("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=c._schedule;return c._schedule=t,e},E.prototype._then=function(t,e,n,r,o){var a=void 0!==o,s=a?o:new E(p);a||(s._propagateFrom(this,5),s._captureStackTrace());var l=this._target();l!==this&&(void 0===r&&(r=this._boundTo),a||s._setIsMigrated());var u=l._addCallbacks(t,e,n,s,r,i());return l._isResolved()&&!l._isSettlePromisesQueued()&&c.invoke(l._settlePromiseAtPostResolution,l,u),s},E.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},E.prototype._length=function(){return 131071&this._bitField},E.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},E.prototype._isFollowing=function(){return 536870912==(536870912&this._bitField)},E.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},E.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},E.prototype._setRejected=function(){this._bitField=134217728|this._bitField},E.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},E.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},E.prototype._isFinal=function(){return(33554432&this._bitField)>0},E.prototype._cancellable=function(){return(67108864&this._bitField)>0},E.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},E.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},E.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},E.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},E.prototype._isMigrated=function(){return(4194304&this._bitField)>0},E.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];if(e!==l)return void 0===e&&this._isBound()?this._boundValue():e},E.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},E.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},E.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},E.prototype._boundValue=function(){var t=this._boundTo;return void 0!==t&&t instanceof E?t.isFulfilled()?t.value():void 0:t},E.prototype._migrateCallbacks=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),r=t._progressHandlerAt(e),o=t._promiseAt(e),a=t._receiverAt(e);o instanceof E&&o._setIsMigrated(),void 0===a&&(a=l),this._addCallbacks(n,i,r,o,a,null)},E.prototype._addCallbacks=function(t,e,n,i,r,o){var a=this._length();if(a>=131066&&(a=0,this._setLength(0)),0===a)this._promise0=i,void 0!==r&&(this._receiver0=r),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e)),"function"==typeof n&&(this._progressHandler0=null===o?n:o.bind(n));else{var s=5*a-5;this[s+3]=i,this[s+4]=r,"function"==typeof t&&(this[s+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[s+1]=null===o?e:o.bind(e)),"function"==typeof n&&(this[s+2]=null===o?n:o.bind(n))}return this._setLength(a+1),a},E.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var i=5*n-5;this[i+3]=e,this[i+4]=t}this._setLength(n+1)},E.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},E.prototype._resolveCallback=function(t,e){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var n=v(t,this);if(!(n instanceof E))return this._fulfill(t);var i=1|(e?4:0);this._propagateFrom(n,i);var o=n._target();if(o._isPending()){for(var a=this._length(),s=0;s<a;++s)o._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else o._isFulfilled()?this._fulfillUnchecked(o._value()):this._rejectUnchecked(o._reason(),o._getCarriedStackTrace())}},E.prototype._rejectCallback=function(t,e,n){n||s.markAsOriginatingFromRejection(t);var i=s.ensureErrorObject(t),r=i===t;this._attachExtraTrace(i,!!e&&r),this._reject(t,r?void 0:i)},E.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=j(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==i&&i===k&&null!==e&&(e._rejectCallback(i.e,!0,!0),e=null)},E.prototype._settlePromiseFromHandler=function(t,e,n,i){var o;if(!i._isRejected())if(i._pushContext(),o=e!==h||this._isRejected()?j(t).call(e,n):j(t).apply(this._boundValue(),n),i._popContext(),o===k||o===i||o===d){var a=o===i?r():o.e;i._rejectCallback(a,!1,!0)}else i._resolveCallback(o)},E.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},E.prototype._followee=function(){return this._rejectionHandler0},E.prototype._setFollowee=function(t){this._rejectionHandler0=t},E.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},E.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},E.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},E.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},E.prototype._settlePromiseAt=function(t){var e=this._promiseAt(t),n=e instanceof E;if(n&&e._isMigrated())return e._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),r=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,o=this._settledValue,a=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?n?this._settlePromiseFromHandler(i,a,o,e):i.call(a,o,e):a instanceof _?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(o,e):a._promiseRejected(o,e)):n&&(this._isFulfilled()?e._fulfill(o):e._reject(o,r)),t>=4&&4==(31&t)&&c.invokeLater(this._setLength,this,0)},E.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},E.prototype._isSettlePromisesQueued=function(){return-1073741824==(-1073741824&this._bitField)},E.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},E.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},E.prototype._queueSettlePromises=function(){c.settlePromises(this),this._setSettlePromisesQueued()},E.prototype._fulfillUnchecked=function(t){if(t===this){var e=r();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},E.prototype._rejectUncheckedCheckError=function(t){var e=s.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},E.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?c.throwLater(function(t){throw"stack"in t&&c.invokeFirst(m.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled())},E.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},s.notEnumerableProp(E,"_makeSelfResolutionError",r),t("./progress.js")(E,_),t("./method.js")(E,p,v,a),t("./bind.js")(E,p,v),t("./finally.js")(E,d,v),t("./direct_resolve.js")(E),t("./synchronous_inspection.js")(E),t("./join.js")(E,_,v,p),E.version="2.11.0",E.Promise=E,t("./map.js")(E,_,a,v,p),t("./cancel.js")(E),t("./using.js")(E,a,v,y),t("./generators.js")(E,a,p,v),t("./nodeify.js")(E),t("./call_get.js")(E),t("./props.js")(E,_,v,a),t("./race.js")(E,p,v,a),t("./reduce.js")(E,_,a,v,p),t("./settle.js")(E,_),t("./some.js")(E,_,a),t("./promisify.js")(E,p),t("./any.js")(E),t("./each.js")(E,p),t("./timers.js")(E,p),t("./filter.js")(E,p),s.toFastProperties(E),s.toFastProperties(E.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new E(p)),m.setBounds(c.firstLineError,s.lastLineError),E}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.isArray;function s(t){var i,r=this._promise=new e(n);t instanceof e&&(i=t,r._propagateFrom(i,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=i(this._values,this._promise);if(s instanceof e){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(t,this._reject,void 0,this,o):void this._reject(s._reason());if(s=s._value(),!a(s)){var l=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(l)}}else if(!a(s))return void this._promise._reject(r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0!==s.length){var c=this.getActualLength(s.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=0;f<c;++f){var p=this._isResolved(),h=i(s[f],u);h instanceof e?(h=h._target(),p?h._ignoreRejections():h._isPending()?h._proxyPromiseArray(this,f):h._isFulfilled()?this._promiseFulfilled(h._value(),f):this._promiseRejected(h._reason(),f)):p||this._promiseFulfilled(h,f)}}else-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{}}}(o))},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t,e){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e,n){"use strict";var i,r=t("./util.js"),o=r.maybeWrapAsError,a=t("./errors.js"),s=a.TimeoutError,l=a.OperationalError,c=r.haveGetters,u=t("./es5.js"),f=/^(?:name|message|stack|cause)$/;function p(t){var e;if(function(t){return t instanceof Error&&u.getPrototypeOf(t)===Error.prototype}(t)){(e=new l(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=u.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return r.markAsOriginatingFromRejection(t),t}function h(t){return function(e,n){if(null!==t){if(e){var i=p(o(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var r=arguments.length,a=new Array(r-1),s=1;s<r;++s)a[s-1]=arguments[s];t._fulfill(a)}else t._fulfill(n);t=null}}}if(i=c?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=h(t),this.callback=this.asCallback},c){var d={get:function(){return h(this.promise)}};u.defineProperty(i.prototype,"asCallback",d),u.defineProperty(i.prototype,"callback",d)}i._nodebackForPromise=h,i.prototype.toString=function(){return"[object PromiseResolver]"},i.prototype.resolve=i.prototype.fulfill=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},i.prototype.reject=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},i.prototype.progress=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},i.prototype.cancel=function(t){this.promise.cancel(t)},i.prototype.timeout=function(){this.reject(new s("timeout"))},i.prototype.isResolved=function(){return this.promise.isResolved()},i.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=i},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e,n){"use strict";e.exports=function(e,n){var i={},r=t("./util.js"),o=t("./promise_resolver.js")._nodebackForPromise,a=r.withAppended,s=r.maybeWrapAsError,l=r.canEvaluate,c=t("./errors").TypeError,u={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),p=function(t){return r.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function h(t){return!f.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,n){var i=r.getDataPropertyOrDefault(t,e+n,u);return!!i&&d(i)}function _(t,e,n,i){for(var o=r.inheritedDataKeys(t),a=[],s=0;s<o.length;++s){var l=o[s],u=t[l],f=i===p||p(l,u,t);"function"!=typeof u||d(u)||v(t,l,e)||!i(l,u,t,f)||a.push(l,u)}return function(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}(a,e,n),a}var m=function(t){return t.replace(/([$])/,"\\$")},g=l?void 0:function(t,l,c,u){var f=function(){return this}(),p=t;function h(){var r=l;l===i&&(r=this);var c=new e(n);c._captureStackTrace();var u="string"==typeof p&&this!==f?this[p]:t,h=o(c);try{u.apply(r,a(arguments,h))}catch(t){c._rejectCallback(s(t),!0,!0)}return c}return"string"==typeof p&&(t=u),r.notEnumerableProp(h,"__isPromisified__",!0),h};function y(t,e,n,o){for(var a=new RegExp(m(e)+"$"),s=_(t,e,a,n),l=0,c=s.length;l<c;l+=2){var u=s[l],f=s[l+1],p=u+e;if(o===g)t[p]=g(u,i,u,f,e);else{var h=o(f,function(){return g(u,i,u,f,e)});r.notEnumerableProp(h,"__isPromisified__",!0),t[p]=h}}return r.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(d(t))return t;var n=function(t,e){return g(t,e,void 0,t)}(t,arguments.length<2?i:e);return r.copyDescriptors(t,n,h),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");var n=(e=Object(e)).suffix;"string"!=typeof n&&(n="Async");var i=e.filter;"function"!=typeof i&&(i=p);var o=e.promisifier;if("function"!=typeof o&&(o=g),!r.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var a=r.inheritedDataKeys(t),s=0;s<a.length;++s){var l=t[a[s]];"constructor"!==a[s]&&r.isClass(l)&&(y(l.prototype,n,i,o),y(l,n,i,o))}return y(t,n,i,o)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.isObject,s=t("./es5.js");function l(t){for(var e=s.keys(t),n=e.length,i=new Array(2*n),r=0;r<n;++r){var o=e[r];i[r]=t[o],i[r+n]=o}this.constructor$(i)}function c(t){var n,o=i(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof e&&n._propagateFrom(o,4),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}o.inherits(l,n),l.prototype._init=function(){this._init$(void 0,-3)},l.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var i={},r=this.length(),o=0,a=this.length();o<a;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}},l.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return c(this)},e.props=function(t){return c(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e,n){"use strict";function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&e-1^e)-e;this[i]=t,this._front=i,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=t,this[r+1&o]=e,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,r=n+i&e-1;!function(t,e,n,i,r){for(var o=0;o<r;++o)n[o+i]=t[o+e],t[o+e]=void 0}(this,0,this,e,r)},e.exports=i},{}],29:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js").isArray,a=function(t){return t.then(function(e){return s(e,t)})};function s(t,s){var l=i(t);if(l instanceof e)return a(l);if(!o(t))return r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(n);void 0!==s&&c._propagateFrom(s,5);for(var u=c._fulfill,f=c._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(u,f,void 0,c,null)}return c}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util.js":38}],30:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){var a=e._getDomain,s=t("./async.js"),l=t("./util.js"),c=l.tryCatch,u=l.errorObj;function f(t,n,i,l){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=l===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var c=r(i,this._promise),u=!1,f=c instanceof e;f&&((c=c._target())._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(i=c._value(),this._gotAccum=!0):(this._reject(c._reason()),u=!0)),f||this._zerothIsAccum||(this._gotAccum=!0);var h=a();this._callback=null===h?n:h.bind(n),this._accum=i,u||s.invoke(p,this,void 0)}function p(){this._init$(void 0,-5)}function h(t,e,n,r){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new f(t,e,n,r);return o.promise()}l.inherits(f,n),f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},f.prototype._promiseFulfilled=function(t,n){var i=this._values;i[n]=t;var o,a=this.length(),s=this._preservedValues,l=null!==s,f=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=new Array(a),o=0;o<a;++o)p[o]=0;if(o=p[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=f=!0,p[n]=0===o?1:2):-1===n?(this._accum=t,this._gotAccum=f=!0):0===o?p[n]=1:(p[n]=2,this._accum=t),f){for(var h,d=this._callback,v=this._promise._boundValue(),_=this._reducingIndex;_<a;++_)if(2!==(o=p[_])){if(1!==o)return;if(t=i[_],this._promise._pushContext(),l?(s.push(t),h=c(d).call(v,t,_,a)):h=c(d).call(v,this._accum,t,_,a),this._promise._popContext(),h===u)return this._reject(h.e);var m=r(h,this._promise);if(m instanceof e){if((m=m._target())._isPending())return p[_]=4,m._proxyPromiseArray(this,_);if(!m._isFulfilled())return this._reject(m._reason());h=m._value()}this._reducingIndex=_+1,this._accum=h}else this._reducingIndex=_+1;this._resolve(l?s:this._accum)}},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,i){return h(t,e,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(t,r,o){"use strict";var a,s=t("./util");if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,c=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){c.call(e,t)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?a=void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}:(a=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}}).isStatic=!0;r.exports=a},{"./util":38}],32:[function(t,e,n){"use strict";e.exports=function(e,n){var i=e.PromiseInspection,r=t("./util.js");function o(t){this.constructor$(t)}r.inherits(o,n),o.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},o.prototype._promiseFulfilled=function(t,e){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new o(t).promise()},e.prototype.settle=function(){return new o(this).promise()}}},{"./util.js":38}],33:[function(t,e,n){"use strict";e.exports=function(e,n,i){var r=t("./util.js"),o=t("./errors.js").RangeError,a=t("./errors.js").AggregateError,s=r.isArray;function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new l(t),r=n.promise();return n.setHowMany(e),n.init(),r}r.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},l.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new a,n=this.length();n<this._values.length;++n)e.push(this._values[n]);this._reject(e)}},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=l}},{"./errors.js":13,"./util.js":38}],34:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0==(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=i.errorObj,o=i.isObject;function a(t){return t.then}var s={}.hasOwnProperty;return function(t,l){if(o(t)){if(t instanceof e)return t;if(function(t){return s.call(t,"_promise0")}(t)){var c=new e(n);return t._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var u=i.tryCatch(a)(t);if(u===r){l&&l._pushContext();var c=e.reject(u.e);return l&&l._popContext(),c}if("function"==typeof u)return function(t,o,a){var s=new e(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=i.tryCatch(o).call(t,function(t){s&&(s._resolveCallback(t),s=null)},function(t){s&&(s._rejectCallback(t,c,!0),s=null)},function(t){s&&"function"==typeof s._progress&&s._progress(t)});return c=!1,s&&u===r&&(s._rejectCallback(u.e,!0,!0),s=null),l}(t,u,l)}return t}}},{"./util.js":38}],36:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=e.TimeoutError,o=function(t){return a(+this).thenReturn(t)},a=e.delay=function(t,i){if(void 0===i){i=t,t=void 0;var r=new e(n);return setTimeout(function(){r._fulfill()},i),r}return i=+i,e.resolve(t)._then(o,null,null,i,void 0)};function s(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function l(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}e.prototype.delay=function(t){return a(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){!function(t,e){var n;t.isPending()&&(!i.isPrimitive(e)&&e instanceof Error?n=e:("string"!=typeof e&&(e="operation timed out"),n=new r(e)),i.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n))}(n,e)},t);return n._then(s,l,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./errors.js").TypeError,a=t("./util.js").inherits,s=e.PromiseInspection;function l(t){for(var n=t.length,i=0;i<n;++i){var r=t[i];if(r.isRejected())return e.reject(r.error());t[i]=r._settledValue}return t}function c(t){setTimeout(function(){throw t},0)}function u(t,n){var r=0,o=t.length,a=e.defer();return function s(){if(r>=o)return a.resolve();var l=function(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[r++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(t){return c(t)}if(l instanceof e)return l._then(s,c,null,null,null)}s()}(),a.promise}function f(t){var e=new s;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function p(t){var e=new s;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function h(t,e,n){this._data=t,this._promise=e,this._context=n}function d(t,e,n){this.constructor$(t,e,n)}function v(t){return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},h.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},a(d,h),d.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var r,o=arguments[t-1];if("function"!=typeof o)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var a=!0;2===t&&Array.isArray(arguments[0])?(r=arguments[0],t=r.length,a=!1):(r=arguments,t--);for(var s=new Array(t),c=0;c<t;++c){var u=r[c];if(h.isDisposer(u)){var d=u;(u=u.promise())._setDisposable(d)}else{var _=i(u);_ instanceof e&&(u=_._then(v,null,null,{resources:s,index:c},void 0))}s[c]=u}var m=e.settle(s).then(l).then(function(t){var e;m._pushContext();try{e=a?o.apply(void 0,t):o.call(void 0,t)}finally{m._popContext()}return e})._then(f,p,void 0,s,void 0);return s.promise=m,m},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new d(t,this,r());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(t,n,i){"use strict";var r=t("./es5.js"),o="undefined"==typeof navigator,a=function(){try{var t={};return r.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),s={e:{}},l;function c(){try{var t=l;return l=null,t.apply(this,arguments)}catch(t){return s.e=t,s}}function u(t){return l=t,c}var f=function(t,e){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=e.prototype[i])}return i.prototype=e.prototype,t.prototype=new i,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t){return!p(t)}function d(t){return p(t)?new Error(A(t)):t}function v(t,e){var n,i=t.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=t[n];return r[n]=e,r}function _(t,e,n){if(!r.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function m(t,e,n){if(p(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(t,e,i),t}function g(t){throw t}var y=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(r.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],o=Object.create(null);null!=t&&!e(t);){var a;try{a=n(t)}catch(t){return i}for(var s=0;s<a.length;++s){var l=a[s];if(!o[l]){o[l]=!0;var c=Object.getOwnPropertyDescriptor(t,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}t=r.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<t.length;++a)if(i.call(t[a],o))continue t;r.push(o)}return r}}(),b=/this\s*\.\s*\S+\s*=/;function w(t){try{if("function"==typeof t){var e=r.names(t.prototype),n=r.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=b.test(t+"")&&r.names(t).length>0;if(n||i||o)return!0}return!1}catch(t){return!1}}function x(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}var k=/^[a-z$_][a-z$_0-9]*$/i;function j(t){return k.test(t)}function E(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i}function A(t){try{return t+""}catch(t){return"[no string representation]"}}function T(t){try{m(t,"isOperational",!0)}catch(t){}}function P(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function S(t){return t instanceof Error&&r.propertyIsWritable(t,"stack")}var R="stack"in new Error?function(t){return S(t)?t:new Error(A(t))}:function(t){if(S(t))return t;try{throw new Error(A(t))}catch(t){return t}};function F(t){return{}.toString.call(t)}function C(t,e,n){for(var i=r.names(t),o=0;o<i.length;++o){var a=i[o];if(n(a))try{r.defineProperty(e,a,r.getDescriptor(t,a))}catch(t){}}}var I={isClass:w,isIdentifier:j,inheritedDataKeys:y,getDataPropertyOrDefault:_,thrower:g,isArray:r.isArray,haveGetters:a,notEnumerableProp:m,isPrimitive:p,isObject:h,canEvaluate:o,errorObj:s,tryCatch:u,inherits:f,withAppended:v,maybeWrapAsError:d,toFastProperties:x,filledRange:E,toString:A,canAttachTrace:S,ensureErrorObject:R,originatesFromRejection:P,markAsOriginatingFromRejection:T,classString:F,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:void 0!==e&&"[object process]"===F(e).toLowerCase()};I.isRecentNode=I.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),I.isNode&&I.toFastProperties(e);try{throw new Error}catch(t){I.lastLineError=t}n.exports=I},{"./es5.js":14}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(1),n(2),n(11).setImmediate)},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(33),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,a,s,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(o(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(r(n))for(s=Array.prototype.slice.call(arguments,1),a=(c=n.slice()).length,l=0;l<a;l++)c[l].apply(this,s);return!0},n.prototype.addListener=function(t,e){var a;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){if(!i(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this},n.prototype.removeListener=function(t,e){var n,o,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,o=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(e=t.exports=n(18)).Stream=e,e.Readable=e,e.Writable=n(14),e.Duplex=n(5),e.Transform=n(22),e.PassThrough=n(53)},function(t,e,n){"use strict";(function(e,i,r){var o=n(7);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=g;var s,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;g.WritableState=m;var c=n(6);c.inherits=n(4);var u={deprecate:n(52)},f=n(19),p=n(8).Buffer,h=r.Uint8Array||function(){};var d,v=n(20);function _(){}function m(t,e){s=s||n(5),t=t||{};var i=e instanceof s;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,c=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(j,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),j(t,e))}(t,n,i,e,r);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),i?l(b,t,n,a,r):b(t,n,a,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function g(t){if(s=s||n(5),!(d.call(g,this)||this instanceof s))return new g(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function y(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function b(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),j(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)r[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;r.allBuffers=l,y(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(y(t,e,!1,e.objectMode?1:c.length,c,u,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function k(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),j(t,e)})}function j(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(k,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(g,f),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===g&&(t&&t._writableState instanceof m)}})):d=function(t){return t instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(t,e,n){var i=this._writableState,r=!1,a=!i.objectMode&&function(t){return p.isBuffer(t)||t instanceof h}(t);return a&&!p.isBuffer(t)&&(t=function(t){return p.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var r=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(i,a),r=!1),r}(this,i,t,n))&&(i.pendingcb++,r=function(t,e,n,i,r,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n));return e}(e,i,r);i!==a&&(n=!0,r="buffer",i=a)}var s=e.objectMode?1:i.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,i,r,o);return l}(this,i,a,t,e,n)),r},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},g.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,j(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),g.prototype.destroy=v.destroy,g.prototype._undestroy=v.undestroy,g.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(1),n(11).setImmediate,n(2))},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){t.exports=r;var i=n(12).EventEmitter;function r(){i.call(this)}n(4)(r,i),r.Readable=n(13),r.Writable=n(54),r.Duplex=n(55),r.Transform=n(56),r.PassThrough=n(57),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",l));var a=!1;function s(){a||(a=!0,t.end())}function l(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},function(t,e,n){"use strict";(function(e,i){var r=n(7);t.exports=y;var o,a=n(15);y.ReadableState=g;n(12).EventEmitter;var s=function(t,e){return t.listeners(e).length},l=n(19),c=n(8).Buffer,u=e.Uint8Array||function(){};var f=n(6);f.inherits=n(4);var p=n(49),h=void 0;h=p&&p.debuglog?p.debuglog("stream"):function(){};var d,v=n(50),_=n(20);f.inherits(y,l);var m=["error","close","destroy","pause","resume"];function g(t,e){o=o||n(5),t=t||{};var i=e instanceof o;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(21).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function y(t){if(o=o||n(5),!(this instanceof y))return new y(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function b(t,e,n,i,r){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,j(t)}(t,a)):(r||(o=function(t,e){var n;(function(t){return c.isBuffer(t)||t instanceof u})(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),i?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):A(t,a)):w(t,a,e,!1))):i||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&j(t)),A(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=_.destroy,y.prototype._undestroy=_.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=c.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},y.prototype.unshift=function(t){return b(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return d||(d=n(21).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var x=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function j(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(E,t):E(t))}function E(t){h("emit readable"),t.emit("readable"),R(t)}function A(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function P(t){h("readable nexttick read 0"),t.read(0)}function S(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),R(t),e.flowing&&!e.reading&&t.read(0)}function R(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function F(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?r+=o:r+=o.slice(0,t),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=c.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(a));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function C(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?C(this):j(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&C(this),null;var i,r=e.needReadable;return h("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",r=!0),e.ended||e.reading?h("reading or ended",r=!1):r&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(i=t>0?F(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&C(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,e);var l=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?u:y;function c(e,i){h("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),t.removeListener("close",m),t.removeListener("finish",g),t.removeListener("drain",f),t.removeListener("error",_),t.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",y),n.removeListener("data",v),p=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function u(){h("onend"),t.end()}o.endEmitted?r.nextTick(l):n.once("end",l),t.on("unpipe",c);var f=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,R(t))}}(n);t.on("drain",f);var p=!1;var d=!1;function v(e){h("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==L(o.pipes,t))&&!p&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function _(e){h("onerror",e),y(),t.removeListener("error",_),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",g),y()}function g(){h("onfinish"),t.removeListener("close",m),y()}function y(){h("unpipe"),n.unpipe(t)}return n.on("data",v),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",_),t.once("close",m),t.once("finish",g),t.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var a=L(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},y.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&j(this):r.nextTick(P,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(S,t,e))}(this,t)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",function(){if(h("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(r){(h("wrapped data"),n.decoder&&(r=n.decoder.write(r)),!n.objectMode||null!==r&&void 0!==r)&&((n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause())))}),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){h("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=F}).call(this,n(2),n(1))},function(t,e,n){t.exports=n(12).EventEmitter},function(t,e,n){"use strict";var i=n(7);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";var i=n(8).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=u,this.end=f,e=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=a(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var i=n(5),r=n(6);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(this,null,null)}function s(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(4),r.inherits(o,i),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function i(t,e){if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0}function r(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(24),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function u(t){return!r(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var f=t.exports=m,p=/\s*function\s+([^\(\s]*)\s*/;function h(t){if(o.isFunction(t)){if(l)return t.name;var e=t.toString().match(p);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(l||!o.isFunction(t))return o.inspect(t);var e=h(t);return"[Function"+(e?": "+e:"")+"]"}function _(t,e,n,i,r){throw new f.AssertionError({message:n,actual:t,expected:e,operator:i,stackStartFunction:r})}function m(t,e){t||_(t,!0,e,"==",f.ok)}function g(t,e,n,a){if(t===e)return!0;if(r(t)&&r(e))return 0===i(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(u(t)&&u(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(r(t)!==r(e))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(t);return-1!==l&&l===a.expected.indexOf(e)||(a.actual.push(t),a.expected.push(e),function(t,e,n,i){if(null===t||void 0===t||null===e||void 0===e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var r=y(t),a=y(e);if(r&&!a||!r&&a)return!1;if(r)return t=s.call(t),e=s.call(e),g(t,e,n);var l,c,u=x(t),f=x(e);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),c=u.length-1;c>=0;c--)if(u[c]!==f[c])return!1;for(c=u.length-1;c>=0;c--)if(l=u[c],!g(t[l],e[l],n,i))return!1;return!0}(t,e,n,a))}return n?t===e:t==e}function y(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function b(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function w(t,e,n,i){var r;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(i=n,n=null),r=function(t){var e;try{t()}catch(t){e=t}return e}(e),i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),t&&!r&&_(r,n,"Missing expected exception"+i);var a="string"==typeof i,s=!t&&o.isError(r),l=!t&&r&&!n;if((s&&a&&b(r,n)||l)&&_(r,n,"Got unwanted exception"+i),t&&r&&n&&!b(r,n)||!t&&r)throw r}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(v(t.actual),128)+" "+t.operator+" "+d(v(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||_;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var i=n.stack,r=h(e),o=i.indexOf("\n"+r);if(o>=0){var a=i.indexOf("\n",o+1);i=i.substring(a+1)}this.stack=i}}},o.inherits(f.AssertionError,Error),f.fail=_,f.ok=m,f.equal=function(t,e,n){t!=e&&_(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&_(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){g(t,e,!1)||_(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){g(t,e,!0)||_(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){g(t,e,!1)&&_(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,i){g(e,n,!0)&&_(e,n,i,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&_(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&_(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){w(!0,t,e,n)},f.doesNotThrow=function(t,e,n){w(!1,t,e,n)},f.ifError=function(t){if(t)throw t};var x=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}}).call(this,n(2))},function(t,e,n){(function(t,i){var r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,a=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),l=i[n];n<o;l=i[++n])v(l)||!b(l)?a+=" "+l:a+=" "+s(l);return a},e.deprecate=function(n,r){if(g(t.process))return function(){return e.deprecate(n,r).apply(this,arguments)};if(!0===i.noDeprecation)return n;var o=!1;return function(){if(!o){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),d(n)?i.showHidden=n:n&&e._extend(i,n),g(i.showHidden)&&(i.showHidden=!1),g(i.depth)&&(i.depth=2),g(i.colors)&&(i.colors=!1),g(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),u(i,t,i.depth)}function l(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function c(t,e){return t}function u(t,n,i){if(t.customInspect&&n&&k(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=u(t,r,i)),r}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(_(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(v(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(k(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(y(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var c,b="",j=!1,E=["{","}"];(h(n)&&(j=!0,E=["[","]"]),k(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),x(n)&&(b=" "+f(n)),0!==a.length||j&&0!=n.length?i<0?y(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=j?function(t,e,n,i,r){for(var o=[],a=0,s=e.length;a<s;++a)T(e,String(a))?o.push(p(t,e,n,i,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(p(t,e,n,i,r,!0))}),o}(t,n,i,s,a):a.map(function(e){return p(t,n,i,s,e,j)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(c,b,E)):E[0]+b+E[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,n,i,r,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),T(i,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=v(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),g(a)){if(o&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function v(t){return null===t}function _(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function y(t){return b(t)&&"[object RegExp]"===j(t)}function b(t){return"object"==typeof t&&null!==t}function w(t){return b(t)&&"[object Date]"===j(t)}function x(t){return b(t)&&("[object Error]"===j(t)||t instanceof Error)}function k(t){return"function"==typeof t}function j(t){return Object.prototype.toString.call(t)}function E(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(o)&&(o=i.env.NODE_DEBUG||""),t=t.toUpperCase(),!a[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=i.pid;a[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else a[t]=function(){};return a[t]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=_,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=y,e.isObject=b,e.isDate=w,e.isError=x,e.isFunction=k,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(60);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",function(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),A[t.getMonth()],e].join(" ")}(),e.format.apply(e,arguments))},e.inherits=n(4),e._extend=function(t,e){if(!e||!b(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,n(2),n(1))},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){var i,r,o,a={}.hasOwnProperty;o=n(3).PixelUtil,i=n(43).GifReader,r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,o),e.prototype.parse=function(t){return this.createBuffer(t).then(function(t){return function(e){var n,r,o,a,s,l;return s=new i(new Uint8Array(e)),(o=function(){var t,e,i,o;for(o=[],n=t=0,e=s.numFrames();0<=e?t<e:t>e;n=0<=e?++t:--t){for(a in r=this.createImageData(s.width,s.height),i=s.frameInfo(n))l=i[a],r[a]=l;r.delay&&(r.delay=10*r.delay),s.decodeAndBlitFrameRGBA(n,r.data),o.push(r)}return o}.call(t)).loopCount=s.loopCount(),null==o.loopCount&&(o.loopCount=-1),o}}(this))},e}(),t.exports=new r,t.exports.PixelGif=r},function(t,e,n){var i,r,o,a={}.hasOwnProperty;r=n(3).PixelUtil,o=n(44),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.parse=function(t){return this.createBuffer(t).then(function(t){return function(e){var n,i,r,a;for(r in i=o.decode(e),n=t.createImageData(i.width,i.height),t.set(n,i),delete i.data,i)a=i[r],n[r]=a;return[n]}}(this))},e}(),t.exports=new i,t.exports.PixelJpg=i},function(t,e,n){var i,r,o,a={}.hasOwnProperty;r=n(3).PixelUtil,o=n(47),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.parse=function(t){return this.createBuffer(t).then(function(t){return o(t)}).then(function(t){return null==t.numPlays&&(t.numPlays=-1),t})},e}(),t.exports=new i,t.exports.PixelPng=i},function(t,e,n){var i,r,o,a={}.hasOwnProperty;r=n(3).PixelUtil,o=n(72),i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.parse=function(t){return this.createBuffer(t).then(function(t){return function(e){var n,i;return n=o.decode(e),i=t.createImageData(n.width,n.height),t.set(i,n),[i]}}(this))},e}(),t.exports=new i,t.exports.PixelBitmap=i},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=c(t),i=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,i,a)),l=0,u=a>0?i-4:i,f=0;f<u;f+=4)e=r[t.charCodeAt(f)]<<18|r[t.charCodeAt(f+1)]<<12|r[t.charCodeAt(f+2)]<<6|r[t.charCodeAt(f+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===a&&(e=r[t.charCodeAt(f)]<<2|r[t.charCodeAt(f+1)]>>4,s[l++]=255&e);1===a&&(e=r[t.charCodeAt(f)]<<10|r[t.charCodeAt(f+1)]<<4|r[t.charCodeAt(f+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(f(t,a,a+16383>s?s:a+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[63&t]}function f(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(u(i));return r.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,f=n?r-1:0,p=n?-1:1,h=t[e+f];for(f+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+t[e+f],f+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+f],f+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=c}return(h?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,f=u>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,d=i?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=u?(s=0,a=u):a+f>=1?(s=(e*l-1)*Math.pow(2,r),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=255&s,h+=d,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;t[n+h]=255&a,h+=d,a/=256,c-=8);t[n+h-d]|=128*v}},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r=1,o={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[r]=a,i(r),r++},l.clearImmediate=c}function c(t){delete o[t]}function u(t){if(a)setTimeout(u,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{c(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(1))},function(t,e,n){var i,r,o,a={}.hasOwnProperty;o=n(10),r=n(35).PixelType,i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)a.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,r),e.prototype.fetchImageData=function(t){return function(){switch(this.getTypeof(t)){case"path":case"url":return this.fetchImageDataViaUrl(t);case"datauri":return this.fetchImageDataViaDatauri(t);case"binary":return this.fetchImageDataViaBinary(t);case"blob":case"file":return this.fetchImageDataViaBlob(t);case"image":return this.fetchImageDataViaUrl(t.src);default:return this.fetchImageDataViaBuffer(t)}}.call(this)},e.prototype.fetchImageDataViaUrl=function(t){return new o(function(e){return function(n,i){var r;return(r=new Image).crossOrigin="Anonymous",r.src=t,r.onerror=function(t){return i(t.message)},r.onload=function(){return n(e.getImageData(r))}}}(this))},e.prototype.fetchImageDataViaDatauri=function(t){var e;return e=atob(t.slice(t.indexOf(",")+1)),this.fetchImageDataViaBinary(e)},e.prototype.fetchImageDataViaBinary=function(t){return this.fetchImageDataViaBuffer(this.getBufferBinary(t))},e.prototype.fetchImageDataViaBuffer=function(t){var e;return e=this.getImageType(t).type,this.fetchImageDataViaBlob(new Blob([t],{type:e}))},e.prototype.fetchImageDataViaBlob=function(t){var e;return e="undefined"!=typeof URL&&null!==URL?URL:webkitURL,this.fetchImageDataViaUrl(e.createObjectURL(t))},e.prototype.fetchObjectUrl=function(t){return new o(function(e,n){return e(t)})},e.prototype.getImageData=function(t){var e;return(e=document.createElement("canvas").getContext("2d")).canvas.width=t.width,e.canvas.height=t.height,e.drawImage(t,0,0),e.getImageData(0,0,t.width,t.height)},e.prototype.createImageData=function(t,e){var n,i;return n="undefined"!=typeof Uint8ClampedArray&&null!==Uint8ClampedArray?Uint8ClampedArray:Uint8Array,"undefined"!=typeof document&&null!==document?document.createElement("canvas").getContext("2d").createImageData(t,e):((i={width:t,height:e}).data=new n(t*e*4),i)},e.prototype.set=function(t,e){var n,i;if(Object.prototype.toString.call(t.data),null==t.data.set){if(t.data.length!==e.data.length)throw new RangeError("Source is invalid("+t.data.length+" == "+e.data.length+")");for(n=0,i=[];null!=e.data[n];)t.data[n]=e.data[n],i.push(n++);return i}return t.data.set(e.data)},e}(),t.exports=new i,t.exports.PixelData=i},function(t,e,n){(function(e){var i,r,o,a;r=n(10),o=n(36),(a=n(38)).define({"image/vnd.ms-photo":["jxr"]}),a.extensions["image/vnd.ms-photo"]="jxr",a.extensions["image/jpeg"]="jpg",a.extensions["image/tiff"]="tif",i=function(){function t(){}return t.prototype.get=function(t){var e,n,i,r;return i=this.getTypeof(t),n=function(){switch(i){case"datauri":return this.getBuffer(t);case"binary":return this.getBufferBinary(t);case"blob":case"file":return this.readAsArrayBufferSync(t);default:return t}}.call(this),null==(e=function(){var t;switch(i){case"url":return t=n.split("?"),r=t[0],t[1],this.lookupImageType(r);case"path":return this.lookupImageType(n);case"image":return this.lookupImageType(n.src);default:return this.getImageType(n)}}.call(this))&&(e={}),e.type=i,e},t.prototype.detect=function(t){var e;return e=this.getTypeof(t),function(){switch(e){case"datauri":return r.resolve(this.getBuffer(t));case"binary":return r.resolve(this.getBufferBinary(t));case"blob":case"file":return this.readAsArrayBuffer(t);default:return r.resolve(t)}}.call(this).then(function(t){return function(n){var i,r;return null==(i=function(){var t;switch(e){case"url":return t=n.split("?"),r=t[0],t[1],this.lookupImageType(r);case"path":return this.lookupImageType(n);case"image":return this.lookupImageType(n.src);default:return this.getImageType(n)}}.call(t))&&(i={}),i.type=e,i}}(this))},t.prototype.getTypeof=function(t){var n;if(e.isBuffer(t))return"buffer";switch(n=(n=Object.prototype.toString.call(t)).toString().match(/(\w+)\]/)[1].toLowerCase()){case"string":switch(!1){case!t.match(/^https?:\/\//):return"url";case!t.match(/^data:image\//):return"datauri";case!t.match(/^(?:\w:)?[\w\-\/\\.~ ]+$/):return"path";default:return"binary"}break;case"htmlimageelement":return"image";default:return n}},t.prototype.getImageType=function(t){return t instanceof ArrayBuffer&&(t=new Uint8Array(t)),o(t)},t.prototype.lookupImageType=function(t){var e;return{mime:e=a.lookup(t),ext:a.extension(e)}},t.prototype.getBuffer=function(t){return new e(t.slice(t.indexOf(",")+1),"base64")},t.prototype.getBufferBinary=function(t){return new e(t,"binary")},t.prototype.readAsArrayBuffer=function(t){return new r(function(e,n){var i;return"undefined"==typeof FileReader||null===FileReader?n(new ArrayBuffer(0)):((i=new FileReader).readAsArrayBuffer(t),i.onload=function(){return e(i.result)})})},t.prototype.readAsArrayBufferSync=function(t){return"undefined"!=typeof FileReaderSync&&null!==FileReaderSync?(new FileReaderSync).readAsArrayBuffer(t):new ArrayBuffer(0)},t}(),t.exports=new i,t.exports.PixelType=i}).call(this,n(0).Buffer)},function(t,e,n){"use strict";var i=n(37);t.exports=function(t){var e=i(t);return-1!==["jpg","png","gif","webp","tif","bmp","jxr","psd"].indexOf(e&&e.ext)?e:null}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.length>1?255===t[0]&&216===t[1]&&255===t[2]?{ext:"jpg",mime:"image/jpeg"}:137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]?{ext:"png",mime:"image/png"}:71===t[0]&&73===t[1]&&70===t[2]?{ext:"gif",mime:"image/gif"}:87===t[8]&&69===t[9]&&66===t[10]&&80===t[11]?{ext:"webp",mime:"image/webp"}:70===t[0]&&76===t[1]&&73===t[2]&&70===t[3]?{ext:"flif",mime:"image/flif"}:(73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3])&&67===t[8]&&82===t[9]?{ext:"cr2",mime:"image/x-canon-cr2"}:73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3]?{ext:"tif",mime:"image/tiff"}:66===t[0]&&77===t[1]?{ext:"bmp",mime:"image/bmp"}:73===t[0]&&73===t[1]&&188===t[2]?{ext:"jxr",mime:"image/vnd.ms-photo"}:56===t[0]&&66===t[1]&&80===t[2]&&83===t[3]?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:80===t[0]&&75===t[1]&&3===t[2]&&4===t[3]&&109===t[30]&&105===t[31]&&109===t[32]&&101===t[33]&&116===t[34]&&121===t[35]&&112===t[36]&&101===t[37]&&97===t[38]&&112===t[39]&&112===t[40]&&108===t[41]&&105===t[42]&&99===t[43]&&97===t[44]&&116===t[45]&&105===t[46]&&111===t[47]&&110===t[48]&&47===t[49]&&101===t[50]&&112===t[51]&&117===t[52]&&98===t[53]&&43===t[54]&&122===t[55]&&105===t[56]&&112===t[57]?{ext:"epub",mime:"application/epub+zip"}:80===t[0]&&75===t[1]&&3===t[2]&&4===t[3]&&77===t[30]&&69===t[31]&&84===t[32]&&65===t[33]&&45===t[34]&&73===t[35]&&78===t[36]&&70===t[37]&&47===t[38]&&109===t[39]&&111===t[40]&&122===t[41]&&105===t[42]&&108===t[43]&&108===t[44]&&97===t[45]&&46===t[46]&&114===t[47]&&115===t[48]&&97===t[49]?{ext:"xpi",mime:"application/x-xpinstall"}:80!==t[0]||75!==t[1]||3!==t[2]&&5!==t[2]&&7!==t[2]||4!==t[3]&&6!==t[3]&&8!==t[3]?117===t[257]&&115===t[258]&&116===t[259]&&97===t[260]&&114===t[261]?{ext:"tar",mime:"application/x-tar"}:82!==t[0]||97!==t[1]||114!==t[2]||33!==t[3]||26!==t[4]||7!==t[5]||0!==t[6]&&1!==t[6]?31===t[0]&&139===t[1]&&8===t[2]?{ext:"gz",mime:"application/gzip"}:66===t[0]&&90===t[1]&&104===t[2]?{ext:"bz2",mime:"application/x-bzip2"}:55===t[0]&&122===t[1]&&188===t[2]&&175===t[3]&&39===t[4]&&28===t[5]?{ext:"7z",mime:"application/x-7z-compressed"}:120===t[0]&&1===t[1]?{ext:"dmg",mime:"application/x-apple-diskimage"}:0===t[0]&&0===t[1]&&0===t[2]&&(24===t[3]||32===t[3])&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]||51===t[0]&&103===t[1]&&112===t[2]&&53===t[3]||0===t[0]&&0===t[1]&&0===t[2]&&28===t[3]&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]&&109===t[8]&&112===t[9]&&52===t[10]&&50===t[11]&&109===t[16]&&112===t[17]&&52===t[18]&&49===t[19]&&109===t[20]&&112===t[21]&&52===t[22]&&50===t[23]&&105===t[24]&&115===t[25]&&111===t[26]&&109===t[27]||0===t[0]&&0===t[1]&&0===t[2]&&28===t[3]&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]&&105===t[8]&&115===t[9]&&111===t[10]&&109===t[11]||0===t[0]&&0===t[1]&&0===t[2]&&28===t[3]&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]&&109===t[8]&&112===t[9]&&52===t[10]&&50===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&0===t[15]?{ext:"mp4",mime:"video/mp4"}:0===t[0]&&0===t[1]&&0===t[2]&&28===t[3]&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]&&77===t[8]&&52===t[9]&&86===t[10]?{ext:"m4v",mime:"video/x-m4v"}:77===t[0]&&84===t[1]&&104===t[2]&&100===t[3]?{ext:"mid",mime:"audio/midi"}:109===t[31]&&97===t[32]&&116===t[33]&&114===t[34]&&111===t[35]&&115===t[36]&&107===t[37]&&97===t[38]?{ext:"mkv",mime:"video/x-matroska"}:26===t[0]&&69===t[1]&&223===t[2]&&163===t[3]?{ext:"webm",mime:"video/webm"}:0===t[0]&&0===t[1]&&0===t[2]&&20===t[3]&&102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]?{ext:"mov",mime:"video/quicktime"}:82===t[0]&&73===t[1]&&70===t[2]&&70===t[3]&&65===t[8]&&86===t[9]&&73===t[10]?{ext:"avi",mime:"video/x-msvideo"}:48===t[0]&&38===t[1]&&178===t[2]&&117===t[3]&&142===t[4]&&102===t[5]&&207===t[6]&&17===t[7]&&166===t[8]&&217===t[9]?{ext:"wmv",mime:"video/x-ms-wmv"}:0===t[0]&&0===t[1]&&1===t[2]&&"b"===t[3].toString(16)[0]?{ext:"mpg",mime:"video/mpeg"}:73===t[0]&&68===t[1]&&51===t[2]||255===t[0]&&251===t[1]?{ext:"mp3",mime:"audio/mpeg"}:102===t[4]&&116===t[5]&&121===t[6]&&112===t[7]&&77===t[8]&&52===t[9]&&65===t[10]||77===t[0]&&52===t[1]&&65===t[2]&&32===t[3]?{ext:"m4a",mime:"audio/m4a"}:79===t[28]&&112===t[29]&&117===t[30]&&115===t[31]&&72===t[32]&&101===t[33]&&97===t[34]&&100===t[35]?{ext:"opus",mime:"audio/opus"}:79===t[0]&&103===t[1]&&103===t[2]&&83===t[3]?{ext:"ogg",mime:"audio/ogg"}:102===t[0]&&76===t[1]&&97===t[2]&&67===t[3]?{ext:"flac",mime:"audio/x-flac"}:82===t[0]&&73===t[1]&&70===t[2]&&70===t[3]&&87===t[8]&&65===t[9]&&86===t[10]&&69===t[11]?{ext:"wav",mime:"audio/x-wav"}:35===t[0]&&33===t[1]&&65===t[2]&&77===t[3]&&82===t[4]&&10===t[5]?{ext:"amr",mime:"audio/amr"}:37===t[0]&&80===t[1]&&68===t[2]&&70===t[3]?{ext:"pdf",mime:"application/pdf"}:77===t[0]&&90===t[1]?{ext:"exe",mime:"application/x-msdownload"}:67!==t[0]&&70!==t[0]||87!==t[1]||83!==t[2]?123===t[0]&&92===t[1]&&114===t[2]&&116===t[3]&&102===t[4]?{ext:"rtf",mime:"application/rtf"}:119===t[0]&&79===t[1]&&70===t[2]&&70===t[3]&&(0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]||79===t[4]&&84===t[5]&&84===t[6]&&79===t[7])?{ext:"woff",mime:"application/font-woff"}:119===t[0]&&79===t[1]&&70===t[2]&&50===t[3]&&(0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]||79===t[4]&&84===t[5]&&84===t[6]&&79===t[7])?{ext:"woff2",mime:"application/font-woff"}:76===t[34]&&80===t[35]&&(0===t[8]&&0===t[9]&&1===t[10]||1===t[8]&&0===t[9]&&2===t[10]||2===t[8]&&0===t[9]&&2===t[10])?{ext:"eot",mime:"application/octet-stream"}:0===t[0]&&1===t[1]&&0===t[2]&&0===t[3]&&0===t[4]?{ext:"ttf",mime:"application/font-sfnt"}:79===t[0]&&84===t[1]&&84===t[2]&&79===t[3]&&0===t[4]?{ext:"otf",mime:"application/font-sfnt"}:0===t[0]&&0===t[1]&&1===t[2]&&0===t[3]?{ext:"ico",mime:"image/x-icon"}:70===t[0]&&76===t[1]&&86===t[2]&&1===t[3]?{ext:"flv",mime:"video/x-flv"}:37===t[0]&&33===t[1]?{ext:"ps",mime:"application/postscript"}:253===t[0]&&55===t[1]&&122===t[2]&&88===t[3]&&90===t[4]&&0===t[5]?{ext:"xz",mime:"application/x-xz"}:83===t[0]&&81===t[1]&&76===t[2]&&105===t[3]?{ext:"sqlite",mime:"application/x-sqlite3"}:78===t[0]&&69===t[1]&&83===t[2]&&26===t[3]?{ext:"nes",mime:"application/x-nintendo-nes-rom"}:67===t[0]&&114===t[1]&&50===t[2]&&52===t[3]?{ext:"crx",mime:"application/x-google-chrome-extension"}:77===t[0]&&83===t[1]&&67===t[2]&&70===t[3]||73===t[0]&&83===t[1]&&99===t[2]&&40===t[3]?{ext:"cab",mime:"application/vnd.ms-cab-compressed"}:33===t[0]&&60===t[1]&&97===t[2]&&114===t[3]&&99===t[4]&&104===t[5]&&62===t[6]&&10===t[7]&&100===t[8]&&101===t[9]&&98===t[10]&&105===t[11]&&97===t[12]&&110===t[13]&&45===t[14]&&98===t[15]&&105===t[16]&&110===t[17]&&97===t[18]&&114===t[19]&&121===t[20]?{ext:"deb",mime:"application/x-deb"}:33===t[0]&&60===t[1]&&97===t[2]&&114===t[3]&&99===t[4]&&104===t[5]&&62===t[6]?{ext:"ar",mime:"application/x-unix-archive"}:237===t[0]&&171===t[1]&&238===t[2]&&219===t[3]?{ext:"rpm",mime:"application/x-rpm"}:31===t[0]&&160===t[1]||31===t[0]&&157===t[1]?{ext:"Z",mime:"application/x-compress"}:76===t[0]&&90===t[1]&&73===t[2]&&80===t[3]?{ext:"lz",mime:"application/x-lzip"}:208===t[0]&&207===t[1]&&17===t[2]&&224===t[3]&&161===t[4]&&177===t[5]&&26===t[6]&&225===t[7]?{ext:"msi",mime:"application/x-msi"}:null:{ext:"swf",mime:"application/x-shockwave-flash"}:{ext:"rar",mime:"application/x-rar-compressed"}:{ext:"zip",mime:"application/zip"}:null}},function(t,e,n){(function(e){n(39);var i=n(16);function r(){this.types=Object.create(null),this.extensions=Object.create(null)}r.prototype.define=function(t){for(var n in t){for(var i=t[n],r=0;r<i.length;r++)e.env.DEBUG_MIME&&this.types[i[r]]&&console.warn((this._loading||"define()").replace(/.*\//,""),'changes "'+i[r]+'" extension type from '+this.types[i[r]]+" to "+n),this.types[i[r]]=n;this.extensions[n]||(this.extensions[n]=i[0])}},r.prototype.load=function(t){this._loading=t;var e={};i.readFileSync(t,"ascii").split(/[\r\n]+/).forEach(function(t){var n=t.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);e[n.shift()]=n}),this.define(e),this._loading=null},r.prototype.lookup=function(t,e){var n=t.replace(/^.*[\.\/\\]/,"").toLowerCase();return this.types[n]||e||this.default_type},r.prototype.extension=function(t){var e=t.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[e]};var o=new r;o.define(n(40)),o.default_type=o.lookup("bin"),o.Mime=r,o.charsets={lookup:function(t,e){return/^text\/|^application\/(javascript|json)/.test(t)?"UTF-8":e}},t.exports=o}).call(this,n(1))},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var a=r>=0?arguments[r]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===a(t,-1);return(t=n(o(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;l<a;l++)if(r[l]!==o[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(1))},function(t){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":[],"application/font-woff2":[],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},function(t,e){},function(t,e){},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e++],o=1<<r,a=o+1,s=a+1,l=r+1,c=(1<<l)-1,u=0,f=0,p=0,h=t[e++],d=new Int32Array(4096),v=null;;){for(;u<16&&0!==h;)f|=t[e++]<<u,u+=8,1===h?h=t[e++]:--h;if(u<l)break;var _=f&c;if(f>>=l,u-=l,_!==o){if(_===a)break;for(var m=_<s?_:v,g=0,y=m;y>o;)y=d[y]>>8,++g;var b=y;if(p+g+(m!==_?1:0)>i)return void console.log("Warning, gif stream longer than expected.");n[p++]=b;var w=p+=g;for(m!==_&&(n[p++]=b),y=m;g--;)y=d[y],n[--w]=255&y,y>>=8;null!==v&&s<4096&&(d[s++]=v<<8|b,s>=c+1&&l<12&&(++l,c=c<<1|1)),v=_}else s=a+1,c=(1<<(l=r+1))-1,v=null}return p!==i&&console.log("Warning, gif stream shorter than expected."),n}try{e.GifWriter=function(t,e,n,i){var r=0,o=void 0===(i=void 0===i?{}:i).loop?null:i.loop,a=void 0===i.palette?null:i.palette;if(e<=0||n<=0||e>65535||n>65535)throw new Error("Width/Height invalid.");function s(t){var e=t.length;if(e<2||e>256||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}t[r++]=71,t[r++]=73,t[r++]=70,t[r++]=56,t[r++]=57,t[r++]=97;var l=0,c=0;if(null!==a){for(var u=s(a);u>>=1;)++l;if(u=1<<l,--l,void 0!==i.background){if((c=i.background)>=u)throw new Error("Background index out of range.");if(0===c)throw new Error("Background index explicitly passed as 0.")}}if(t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=(null!==a?128:0)|l,t[r++]=c,t[r++]=0,null!==a)for(var f=0,p=a.length;f<p;++f){var h=a[f];t[r++]=h>>16&255,t[r++]=h>>8&255,t[r++]=255&h}if(null!==o){if(o<0||o>65535)throw new Error("Loop count invalid.");t[r++]=33,t[r++]=255,t[r++]=11,t[r++]=78,t[r++]=69,t[r++]=84,t[r++]=83,t[r++]=67,t[r++]=65,t[r++]=80,t[r++]=69,t[r++]=50,t[r++]=46,t[r++]=48,t[r++]=3,t[r++]=1,t[r++]=255&o,t[r++]=o>>8&255,t[r++]=0}var d=!1;this.addFrame=function(e,n,i,o,l,c){if(!0===d&&(--r,d=!1),c=void 0===c?{}:c,e<0||n<0||e>65535||n>65535)throw new Error("x/y invalid.");if(i<=0||o<=0||i>65535||o>65535)throw new Error("Width/Height invalid.");if(l.length<i*o)throw new Error("Not enough pixels for the frame size.");var u=!0,f=c.palette;if(void 0!==f&&null!==f||(u=!1,f=a),void 0===f||null===f)throw new Error("Must supply either a local or global palette.");for(var p=s(f),h=0;p>>=1;)++h;p=1<<h;var v=void 0===c.delay?0:c.delay,_=void 0===c.disposal?0:c.disposal;if(_<0||_>3)throw new Error("Disposal out of range.");var m=!1,g=0;if(void 0!==c.transparent&&null!==c.transparent&&(m=!0,(g=c.transparent)<0||g>=p))throw new Error("Transparent color index.");if((0!==_||m||0!==v)&&(t[r++]=33,t[r++]=249,t[r++]=4,t[r++]=_<<2|(!0===m?1:0),t[r++]=255&v,t[r++]=v>>8&255,t[r++]=g,t[r++]=0),t[r++]=44,t[r++]=255&e,t[r++]=e>>8&255,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=255&i,t[r++]=i>>8&255,t[r++]=255&o,t[r++]=o>>8&255,t[r++]=!0===u?128|h-1:0,!0===u)for(var y=0,b=f.length;y<b;++y){var w=f[y];t[r++]=w>>16&255,t[r++]=w>>8&255,t[r++]=255&w}return r=function(t,e,n,i){t[e++]=n;var r=e++,o=1<<n,a=o-1,s=o+1,l=s+1,c=n+1,u=0,f=0;function p(n){for(;u>=n;)t[e++]=255&f,f>>=8,u-=8,e===r+256&&(t[r]=255,r=e++)}function h(t){f|=t<<u,u+=c,p(8)}var d=i[0]&a,v={};h(o);for(var _=1,m=i.length;_<m;++_){var g=i[_]&a,y=d<<8|g,b=v[y];if(void 0===b){for(f|=d<<u,u+=c;u>=8;)t[e++]=255&f,f>>=8,u-=8,e===r+256&&(t[r]=255,r=e++);4096===l?(h(o),l=s+1,c=n+1,v={}):(l>=1<<c&&++c,v[y]=l++),d=g}else d=b}return h(d),h(s),p(1),r+1===e?t[r]=0:(t[r]=e-r-1,t[e++]=0),e}(t,r,h<2?2:h,l)},this.end=function(){return!1===d&&(t[r++]=59,d=!0),r},this.getOutputBuffer=function(){return t},this.setOutputBuffer=function(e){t=e},this.getOutputBufferPosition=function(){return r},this.setOutputBufferPosition=function(t){r=t}},e.GifReader=function(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,o=t[e++],a=o>>7,s=1<<1+(7&o);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=s,e+=3*s);var u=!0,f=[],p=0,h=null,d=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(0===P)break;e+=P}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var _=t[e++];p=t[e++]|t[e++]<<8,h=t[e++],0==(1&_)&&(h=null),d=_>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(0===P)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var m=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],x=w>>6&1,k=1<<1+(7&w),j=l,E=c,A=!1;w>>7&&(A=!0,j=e,E=k,e+=3*k);var T=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(0===P)break;e+=P}f.push({x:m,y:g,width:y,height:b,has_local_palette:A,palette_offset:j,palette_size:E,data_offset:T,data_length:e-T,transparent_index:h,interlaced:!!x,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(t){if(t<0||t>=f.length)throw new Error("Frame index out of range.");return f[t]},this.decodeAndBlitFrameBGRA=function(e,r){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);i(t,o.data_offset,s,a);var l=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var u=o.width,f=n-u,p=u,h=4*(o.y*n+o.x),d=4*((o.y+o.height)*n+o.x),v=h,_=4*f;!0===o.interlaced&&(_+=4*n*7);for(var m=8,g=0,y=s.length;g<y;++g){var b=s[g];if(0===p&&(p=u,(v+=_)>=d&&(_=4*f+4*n*(m-1),v=h+(u+f)*(m<<1),m>>=1)),b===c)v+=4;else{var w=t[l+3*b],x=t[l+3*b+1],k=t[l+3*b+2];r[v++]=k,r[v++]=x,r[v++]=w,r[v++]=255}--p}},this.decodeAndBlitFrameRGBA=function(e,r){var o=this.frameInfo(e),a=o.width*o.height,s=new Uint8Array(a);i(t,o.data_offset,s,a);var l=o.palette_offset,c=o.transparent_index;null===c&&(c=256);var u=o.width,f=n-u,p=u,h=4*(o.y*n+o.x),d=4*((o.y+o.height)*n+o.x),v=h,_=4*f;!0===o.interlaced&&(_+=4*n*7);for(var m=8,g=0,y=s.length;g<y;++g){var b=s[g];if(0===p&&(p=u,(v+=_)>=d&&(_=4*f+4*n*(m-1),v=h+(u+f)*(m<<1),m>>=1)),b===c)v+=4;else{var w=t[l+3*b],x=t[l+3*b+1],k=t[l+3*b+2];r[v++]=w,r[v++]=x,r[v++]=k,r[v++]=255}--p}}}}catch(t){}},function(t,e,n){var i=n(45),r=n(46);t.exports={encode:i,decode:r}},function(t,e,n){(function(e){function n(t){Math.round;var n,i,r,o,a,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),h=new Array(65535),d=new Array(64),v=new Array(64),_=[],m=0,g=7,y=new Array(64),b=new Array(64),w=new Array(64),x=new Array(256),k=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(t,e){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)r[e[i]]=[],r[e[i]][0]=n,r[e[i]][1]=o,i++,n++;n*=2}return r}function L(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<g),n--,--g<0&&(255==m?(O(255),O(0)):O(m),g=7,m=0)}function O(t){_.push(t)}function U(t){O(t>>8&255),O(255&t)}function D(t,e,n,i,r){var o,a=r[0],s=r[240];for(var l=function(t,e){var n,i,r,o,a,s,l,c,u,f,p=0;for(u=0;u<8;++u){n=t[p],i=t[p+1],r=t[p+2],o=t[p+3],a=t[p+4],s=t[p+5],l=t[p+6];var h=n+(c=t[p+7]),v=n-c,_=i+l,m=i-l,g=r+s,y=r-s,b=o+a,w=o-a,x=h+b,k=h-b,j=_+g,E=_-g;t[p]=x+j,t[p+4]=x-j;var A=.707106781*(E+k);t[p+2]=k+A,t[p+6]=k-A;var T=.382683433*((x=w+y)-(E=m+v)),P=.5411961*x+T,S=1.306562965*E+T,R=.707106781*(j=y+m),F=v+R,C=v-R;t[p+5]=C+P,t[p+3]=C-P,t[p+1]=F+S,t[p+7]=F-S,p+=8}for(p=0,u=0;u<8;++u){n=t[p],i=t[p+8],r=t[p+16],o=t[p+24],a=t[p+32],s=t[p+40],l=t[p+48];var I=n+(c=t[p+56]),L=n-c,O=i+l,U=i-l,D=r+s,z=r-s,B=o+a,M=o-a,N=I+B,H=I-B,V=O+D,Z=O-D;t[p]=N+V,t[p+32]=N-V;var q=.707106781*(Z+H);t[p+16]=H+q,t[p+48]=H-q;var W=.382683433*((N=M+z)-(Z=U+L)),Y=.5411961*N+W,G=1.306562965*Z+W,$=.707106781*(V=z+U),J=L+$,Q=L-$;t[p+40]=Q+Y,t[p+24]=Q-Y,t[p+8]=J+G,t[p+56]=J-G,p++}for(u=0;u<64;++u)f=t[u]*e[u],d[u]=f>0?f+.5|0:f-.5|0;return d}(t,e),c=0;c<64;++c)v[j[c]]=l[c];var u=v[0]-n;n=v[0],0==u?L(i[0]):(L(i[h[o=32767+u]]),L(p[o]));for(var f=63;f>0&&0==v[f];f--);if(0==f)return L(a),n;for(var _,m=1;m<=f;){for(var g=m;0==v[m]&&m<=f;++m);var y=m-g;if(y>=16){_=y>>4;for(var b=1;b<=_;++b)L(s);y&=15}o=32767+v[m],L(r[(y<<4)+h[o]]),L(p[o]),m++}return 63!=f&&L(a),n}function z(t){if(t<=0&&(t=1),t>100&&(t=100),a!=t){(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=s((e[n]*t+50)/100);i<1?i=1:i>255&&(i=255),l[j[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=s((r[o]*t+50)/100);a<1?a=1:a>255&&(a=255),c[j[o]]=a}for(var p=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,d=0;d<8;d++)for(var v=0;v<8;v++)u[h]=1/(l[j[h]]*p[d]*p[v]*8),f[h]=1/(c[j[h]]*p[d]*p[v]*8),h++})(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),a=t}}this.encode=function(t,a){(new Date).getTime();a&&z(a),_=new Array,m=0,g=7,U(65496),U(65504),U(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),U(1),U(1),O(0),O(0),function(){U(65499),U(132),O(0);for(var t=0;t<64;t++)O(l[t]);O(1);for(var e=0;e<64;e++)O(c[e])}(),function(t,e){U(65472),U(17),O(8),U(e),U(t),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(t.width,t.height),function(){U(65476),U(418),O(0);for(var t=0;t<16;t++)O(E[t+1]);for(var e=0;e<=11;e++)O(A[e]);O(16);for(var n=0;n<16;n++)O(T[n+1]);for(var i=0;i<=161;i++)O(P[i]);O(1);for(var r=0;r<16;r++)O(S[r+1]);for(var o=0;o<=11;o++)O(R[o]);O(17);for(var a=0;a<16;a++)O(F[a+1]);for(var s=0;s<=161;s++)O(C[s])}(),U(65498),U(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var s=0,p=0,h=0;m=0,g=7,this.encode.displayName="_encode_";for(var d,v,x,j,I,B,M,N,H,V=t.data,Z=t.width,q=t.height,W=4*Z,Y=0;Y<q;){for(d=0;d<W;){for(B=I=W*Y+d,M=-1,N=0,H=0;H<64;H++)B=I+(N=H>>3)*W+(M=4*(7&H)),Y+N>=q&&(B-=W*(Y+1+N-q)),d+M>=W&&(B-=d+M-W+4),v=V[B++],x=V[B++],j=V[B++],y[H]=(k[v]+k[x+256>>0]+k[j+512>>0]>>16)-128,b[H]=(k[v+768>>0]+k[x+1024>>0]+k[j+1280>>0]>>16)-128,w[H]=(k[v+1280>>0]+k[x+1536>>0]+k[j+1792>>0]>>16)-128;s=D(y,u,s,n,r),p=D(b,f,p,i,o),h=D(w,f,h,i,o),d+=32}Y+=8}if(g>=0){var G=[];G[1]=g+1,G[0]=(1<<g+1)-1,L(G)}return U(65497),new e(_)},function(){(new Date).getTime();t||(t=50),function(){for(var t=String.fromCharCode,e=0;e<256;e++)x[e]=t(e)}(),n=I(E,A),i=I(S,R),r=I(T,P),o=I(F,C),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var i=t;i<e;i++)h[32767+i]=n,p[32767+i]=[],p[32767+i][1]=n,p[32767+i][0]=i;for(var r=-(e-1);r<=-t;r++)h[32767+r]=n,p[32767+r]=[],p[32767+r][1]=n,p[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)k[t]=19595*t,k[t+256>>0]=38470*t,k[t+512>>0]=7471*t+32768,k[t+768>>0]=-11059*t,k[t+1024>>0]=-21709*t,k[t+1280>>0]=32768*t+8421375,k[t+1536>>0]=-27439*t,k[t+1792>>0]=-5329*t}(),z(t),(new Date).getTime()}()}t.exports=function(t,e){void 0===e&&(e=50);return{data:new n(e).encode(t,e),width:t.width,height:t.height}}}).call(this,n(0).Buffer)},function(t,e,n){(function(e){var n=function(){"use strict";var t=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e=4017,n=799,i=3406,r=2276,o=1567,a=3784,s=5793,l=2896;function c(){}function u(t,e){for(var n,i,r=0,o=[],a=16;a>0&&!t[a-1];)a--;o.push({children:[],index:0});var s,l=o[0];for(n=0;n<a;n++){for(i=0;i<t[n];i++){for((l=o.pop()).children[l.index]=e[r];l.index>0;)l=o.pop();for(l.index++,o.push(l);o.length<=n;)o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s;r++}n+1<a&&(o.push(s={children:[],index:0}),l.children[l.index]=s.children,l=s)}return o[0].children}function f(e,n,i,r,o,a,s,l,c){i.precision,i.samplesPerLine,i.scanLines;var u=i.mcusPerLine,f=i.progressive,p=(i.maxH,i.maxV,n),h=0,d=0;function v(){if(d>0)return h>>--d&1;if(255==(h=e[n++])){var t=e[n++];if(t)throw"unexpected marker: "+(h<<8|t).toString(16)}return d=7,h>>>7}function _(t){for(var e,n=t;null!==(e=v());){if("number"==typeof(n=n[e]))return n;if("object"!=typeof n)throw"invalid huffman sequence"}return null}function m(t){for(var e=0;t>0;){var n=v();if(null===n)return;e=e<<1|n,t--}return e}function g(t){var e=m(t);return e>=1<<t-1?e:e+(-1<<t)+1}var y=0;var b,w=0;function x(t,e,n,i,r){var o=n%u,a=(n/u|0)*t.v+i,s=o*t.h+r;e(t,t.blocks[a][s])}function k(t,e,n){var i=n/t.blocksPerLine|0,r=n%t.blocksPerLine;e(t,t.blocks[i][r])}var j,E,A,T,P,S,R=r.length;S=f?0===a?0===l?function(t,e){var n=_(t.huffmanTableDC),i=0===n?0:g(n)<<c;e[0]=t.pred+=i}:function(t,e){e[0]|=v()<<c}:0===l?function(e,n){if(y>0)y--;else for(var i=a,r=s;i<=r;){var o=_(e.huffmanTableAC),l=15&o,u=o>>4;if(0!==l)n[t[i+=u]]=g(l)*(1<<c),i++;else{if(u<15){y=m(u)+(1<<u)-1;break}i+=16}}}:function(e,n){for(var i=a,r=s,o=0;i<=r;){var l=t[i];switch(w){case 0:var u=_(e.huffmanTableAC),f=15&u;if(o=u>>4,0===f)o<15?(y=m(o)+(1<<o),w=4):(o=16,w=1);else{if(1!==f)throw"invalid ACn encoding";b=g(f),w=o?2:3}continue;case 1:case 2:n[l]?n[l]+=v()<<c:0==--o&&(w=2==w?3:0);break;case 3:n[l]?n[l]+=v()<<c:(n[l]=b<<c,w=0);break;case 4:n[l]&&(n[l]+=v()<<c)}i++}4===w&&0==--y&&(w=0)}:function(e,n){var i=_(e.huffmanTableDC),r=0===i?0:g(i);n[0]=e.pred+=r;for(var o=1;o<64;){var a=_(e.huffmanTableAC),s=15&a,l=a>>4;if(0!==s)n[t[o+=l]]=g(s),o++;else{if(l<15)break;o+=16}}};var F,C,I,L,O=0;for(C=1==R?r[0].blocksPerLine*r[0].blocksPerColumn:u*i.mcusPerColumn,o||(o=C);O<C;){for(E=0;E<R;E++)r[E].pred=0;if(y=0,1==R)for(j=r[0],P=0;P<o;P++)k(j,S,O),O++;else for(P=0;P<o;P++){for(E=0;E<R;E++)for(I=(j=r[E]).h,L=j.v,A=0;A<L;A++)for(T=0;T<I;T++)x(j,S,O,A,T);if(++O===C)break}if(d=0,(F=e[n]<<8|e[n+1])<65280)throw"marker was not found";if(!(F>=65488&&F<=65495))break;n+=2}return n-p}function p(t,c){var u,f,p=[],h=c.blocksPerLine,d=c.blocksPerColumn,v=h<<3,_=new Int32Array(64),m=new Uint8Array(64);function g(t,u,f){var p,h,d,v,_,m,g,y,b,w,x=c.quantizationTable,k=f;for(w=0;w<64;w++)k[w]=t[w]*x[w];for(w=0;w<8;++w){var j=8*w;0!=k[1+j]||0!=k[2+j]||0!=k[3+j]||0!=k[4+j]||0!=k[5+j]||0!=k[6+j]||0!=k[7+j]?(p=s*k[0+j]+128>>8,h=s*k[4+j]+128>>8,d=k[2+j],v=k[6+j],_=l*(k[1+j]-k[7+j])+128>>8,y=l*(k[1+j]+k[7+j])+128>>8,m=k[3+j]<<4,g=k[5+j]<<4,b=p-h+1>>1,p=p+h+1>>1,h=b,b=d*a+v*o+128>>8,d=d*o-v*a+128>>8,v=b,b=_-g+1>>1,_=_+g+1>>1,g=b,b=y+m+1>>1,m=y-m+1>>1,y=b,b=p-v+1>>1,p=p+v+1>>1,v=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=_*r+y*i+2048>>12,_=_*i-y*r+2048>>12,y=b,b=m*n+g*e+2048>>12,m=m*e-g*n+2048>>12,g=b,k[0+j]=p+y,k[7+j]=p-y,k[1+j]=h+g,k[6+j]=h-g,k[2+j]=d+m,k[5+j]=d-m,k[3+j]=v+_,k[4+j]=v-_):(b=s*k[0+j]+512>>10,k[0+j]=b,k[1+j]=b,k[2+j]=b,k[3+j]=b,k[4+j]=b,k[5+j]=b,k[6+j]=b,k[7+j]=b)}for(w=0;w<8;++w){var E=w;0!=k[8+E]||0!=k[16+E]||0!=k[24+E]||0!=k[32+E]||0!=k[40+E]||0!=k[48+E]||0!=k[56+E]?(p=s*k[0+E]+2048>>12,h=s*k[32+E]+2048>>12,d=k[16+E],v=k[48+E],_=l*(k[8+E]-k[56+E])+2048>>12,y=l*(k[8+E]+k[56+E])+2048>>12,m=k[24+E],g=k[40+E],b=p-h+1>>1,p=p+h+1>>1,h=b,b=d*a+v*o+2048>>12,d=d*o-v*a+2048>>12,v=b,b=_-g+1>>1,_=_+g+1>>1,g=b,b=y+m+1>>1,m=y-m+1>>1,y=b,b=p-v+1>>1,p=p+v+1>>1,v=b,b=h-d+1>>1,h=h+d+1>>1,d=b,b=_*r+y*i+2048>>12,_=_*i-y*r+2048>>12,y=b,b=m*n+g*e+2048>>12,m=m*e-g*n+2048>>12,g=b,k[0+E]=p+y,k[56+E]=p-y,k[8+E]=h+g,k[48+E]=h-g,k[16+E]=d+m,k[40+E]=d-m,k[24+E]=v+_,k[32+E]=v-_):(b=s*f[w+0]+8192>>14,k[0+E]=b,k[8+E]=b,k[16+E]=b,k[24+E]=b,k[32+E]=b,k[40+E]=b,k[48+E]=b,k[56+E]=b)}for(w=0;w<64;++w){var A=128+(k[w]+8>>4);u[w]=A<0?0:A>255?255:A}}for(var y=0;y<d;y++){var b=y<<3;for(u=0;u<8;u++)p.push(new Uint8Array(v));for(var w=0;w<h;w++){g(c.blocks[y][w],m,_);var x=0,k=w<<3;for(f=0;f<8;f++){var j=p[b+f];for(u=0;u<8;u++)j[k+u]=m[x++]}}}return p}function h(t){return t<0?0:t>255?255:t}return c.prototype={load:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){var t=new Uint8Array(e.response||e.mozResponseArrayBuffer);this.parse(t),this.onload&&this.onload()}.bind(this),e.send(null)},parse:function(e){var n=0;e.length;function i(){var t=e[n]<<8|e[n+1];return n+=2,t}function r(){var t=i(),r=e.subarray(n,n+t-2);return n+=r.length,r}function o(t){var e,n,i=0,r=0;for(n in t.components)t.components.hasOwnProperty(n)&&(i<(e=t.components[n]).h&&(i=e.h),r<e.v&&(r=e.v));var o=Math.ceil(t.samplesPerLine/8/i),a=Math.ceil(t.scanLines/8/r);for(n in t.components)if(t.components.hasOwnProperty(n)){e=t.components[n];for(var s=Math.ceil(Math.ceil(t.samplesPerLine/8)*e.h/i),l=Math.ceil(Math.ceil(t.scanLines/8)*e.v/r),c=o*e.h,u=a*e.v,f=[],p=0;p<u;p++){for(var h=[],d=0;d<c;d++)h.push(new Int32Array(64));f.push(h)}e.blocksPerLine=s,e.blocksPerColumn=l,e.blocks=f}t.maxH=i,t.maxV=r,t.mcusPerLine=o,t.mcusPerColumn=a}var a,s,l=null,c=null,h=[],d=[],v=[],_=[],m=i();if(65496!=m)throw"SOI not found";for(m=i();65497!=m;){switch(m){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var g=r();65504===m&&74===g[0]&&70===g[1]&&73===g[2]&&70===g[3]&&0===g[4]&&(l={version:{major:g[5],minor:g[6]},densityUnits:g[7],xDensity:g[8]<<8|g[9],yDensity:g[10]<<8|g[11],thumbWidth:g[12],thumbHeight:g[13],thumbData:g.subarray(14,14+3*g[12]*g[13])}),65518===m&&65===g[0]&&100===g[1]&&111===g[2]&&98===g[3]&&101===g[4]&&0===g[5]&&(c={version:g[6],flags0:g[7]<<8|g[8],flags1:g[9]<<8|g[10],transformCode:g[11]});break;case 65499:for(var y=i()+n-2;n<y;){var b=e[n++],w=new Int32Array(64);if(b>>4==0)for(N=0;N<64;N++){w[t[N]]=e[n++]}else{if(b>>4!=1)throw"DQT: invalid table spec";for(N=0;N<64;N++){w[t[N]]=i()}}h[15&b]=w}break;case 65472:case 65473:case 65474:i(),(a={}).extended=65473===m,a.progressive=65474===m,a.precision=e[n++],a.scanLines=i(),a.samplesPerLine=i(),a.components={},a.componentsOrder=[];var x,k=e[n++];for(B=0;B<k;B++){x=e[n];var j=e[n+1]>>4,E=15&e[n+1],A=e[n+2];a.componentsOrder.push(x),a.components[x]={h:j,v:E,quantizationIdx:A},n+=3}o(a),d.push(a);break;case 65476:var T=i();for(B=2;B<T;){var P=e[n++],S=new Uint8Array(16),R=0;for(N=0;N<16;N++,n++)R+=S[N]=e[n];var F=new Uint8Array(R);for(N=0;N<R;N++,n++)F[N]=e[n];B+=17+R,(P>>4==0?_:v)[15&P]=u(S,F)}break;case 65501:i(),s=i();break;case 65498:i();var C=e[n++],I=[];for(B=0;B<C;B++){H=a.components[e[n++]];var L=e[n++];H.huffmanTableDC=_[L>>4],H.huffmanTableAC=v[15&L],I.push(H)}var O=e[n++],U=e[n++],D=e[n++],z=f(e,n,a,I,s,O,U,D>>4,15&D);n+=z;break;default:if(255==e[n-3]&&e[n-2]>=192&&e[n-2]<=254){n-=3;break}throw"unknown JPEG marker "+m.toString(16)}m=i()}if(1!=d.length)throw"only single frame JPEGs supported";for(var B=0;B<d.length;B++){var M=d[B].components;for(var N in M)M[N].quantizationTable=h[M[N].quantizationIdx],delete M[N].quantizationIdx}this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=l,this.adobe=c,this.components=[];for(B=0;B<a.componentsOrder.length;B++){var H=a.components[a.componentsOrder[B]];this.components.push({lines:p(0,H),scaleX:H.h/a.maxH,scaleY:H.v/a.maxV})}},getData:function(t,e){var n,i,r,o,a,s,l,c,u,f,p,d,v,_,m,g,y,b,w,x,k,j=this.width/t,E=this.height/e,A=0,T=t*e*this.components.length,P=new Uint8Array(T);switch(this.components.length){case 1:for(n=this.components[0],f=0;f<e;f++)for(a=n.lines[0|f*n.scaleY*E],u=0;u<t;u++)p=a[0|u*n.scaleX*j],P[A++]=p;break;case 2:for(n=this.components[0],i=this.components[1],f=0;f<e;f++)for(a=n.lines[0|f*n.scaleY*E],s=i.lines[0|f*i.scaleY*E],u=0;u<t;u++)p=a[0|u*n.scaleX*j],P[A++]=p,p=s[0|u*i.scaleX*j],P[A++]=p;break;case 3:for(k=!0,this.adobe&&this.adobe.transformCode?k=!0:void 0!==this.colorTransform&&(k=!!this.colorTransform),n=this.components[0],i=this.components[1],r=this.components[2],f=0;f<e;f++)for(a=n.lines[0|f*n.scaleY*E],s=i.lines[0|f*i.scaleY*E],l=r.lines[0|f*r.scaleY*E],u=0;u<t;u++)k?(p=a[0|u*n.scaleX*j],d=s[0|u*i.scaleX*j],b=h(p+1.402*((v=l[0|u*r.scaleX*j])-128)),w=h(p-.3441363*(d-128)-.71413636*(v-128)),x=h(p+1.772*(d-128))):(b=a[0|u*n.scaleX*j],w=s[0|u*i.scaleX*j],x=l[0|u*r.scaleX*j]),P[A++]=b,P[A++]=w,P[A++]=x;break;case 4:if(!this.adobe)throw"Unsupported color mode (4 components)";for(k=!1,this.adobe&&this.adobe.transformCode?k=!0:void 0!==this.colorTransform&&(k=!!this.colorTransform),n=this.components[0],i=this.components[1],r=this.components[2],o=this.components[3],f=0;f<e;f++)for(a=n.lines[0|f*n.scaleY*E],s=i.lines[0|f*i.scaleY*E],l=r.lines[0|f*r.scaleY*E],c=o.lines[0|f*o.scaleY*E],u=0;u<t;u++)k?(p=a[0|u*n.scaleX*j],d=s[0|u*i.scaleX*j],v=l[0|u*r.scaleX*j],_=c[0|u*o.scaleX*j],m=255-h(p+1.402*(v-128)),g=255-h(p-.3441363*(d-128)-.71413636*(v-128)),y=255-h(p+1.772*(d-128))):(m=a[0|u*n.scaleX*j],g=s[0|u*i.scaleX*j],y=l[0|u*r.scaleX*j],_=c[0|u*o.scaleX*j]),P[A++]=m,P[A++]=g,P[A++]=y,P[A++]=_;break;default:throw"Unsupported color mode"}return P},copyToImageData:function(t){var e,n,i,r,o,a,s,l,c,u=t.width,f=t.height,p=t.data,d=this.getData(u,f),v=0,_=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(e=0;e<u;e++)i=d[v++],p[_++]=i,p[_++]=i,p[_++]=i,p[_++]=255;break;case 3:for(n=0;n<f;n++)for(e=0;e<u;e++)s=d[v++],l=d[v++],c=d[v++],p[_++]=s,p[_++]=l,p[_++]=c,p[_++]=255;break;case 4:for(n=0;n<f;n++)for(e=0;e<u;e++)o=d[v++],a=d[v++],i=d[v++],s=255-h(o*(1-(r=d[v++])/255)+r),l=255-h(a*(1-r/255)+r),c=255-h(i*(1-r/255)+r),p[_++]=s,p[_++]=l,p[_++]=c,p[_++]=255;break;default:throw"Unsupported color mode"}}},c}();t.exports=function(t){var i=new Uint8Array(t),r=new n;r.parse(i);var o={width:r.width,height:r.height,data:new e(r.width*r.height*4)};return r.copyToImageData(o),o}}).call(this,n(0).Buffer)},function(t,e,n){"use strict";(function(e){var i=n(48),r="undefined"!=typeof document?document.createElement("canvas").getContext("2d"):null,o=function(t,e){var n=t.width,i=t.height,o=null;r?o=r.createImageData(n,i):(o={width:n,height:i}).data=new Uint8Array(n*i*4);var a=0,s=t.channels;switch(s){case 3:for(var l=0,c=t.data;c[l];)o.data[a+0]=c[l+0],o.data[a+1]=c[l+1],o.data[a+2]=c[l+2],o.data[a+3]=255,a+=4,l+=s;break;case 2:l=0;for(var u=t.data;u[a];)o.data[a+0]=u[l+0],o.data[a+1]=u[l+0],o.data[a+2]=u[l+0],o.data[a+3]=u[l+1],a+=4,l+=s;break;case 1:l=0;for(var f=t.data;f[a];)o.data[a+0]=f[l+0],o.data[a+1]=f[l+0],o.data[a+2]=f[l+0],o.data[a+3]=255,a+=4,l+=s;break;case 4:default:if(o.data.set)o.data.set(t.data);else for(var p=t.data;p[a];)o.data[a+0]=p[a+0],o.data[a+1]=p[a+1],o.data[a+2]=p[a+2],o.data[a+3]=p[a+3],a+=4}if(e)for(var h in delete e.dataParts,e)null==o[h]&&(o[h]=e[h]);return o},a=function(){for(var t=[],n=0;n<arguments.length;n++){var i=arguments[n];if(i instanceof Array)for(var r=0;r<i.length;r++)t.push(new e(i[r]));else t.push(new e(i))}return e.concat(t)},s=n(69),l=n(70),c=n(71),u=new Uint8Array([137,80,78,71,13,10,26,10]);t.exports=function(t){var e=[],n=new Uint8Array(t);return new s(function(r,c){for(var _=0;_<u.length;_++)if(u[_]!=n[_])return void c("Not a PNG file (invalid file signature)");var y=!1;if(f(n,function(t){return"acTL"!=t||(y=!0,!1)}),!y)return i.parseBuffer(t,function(t,n){t?c(t):(e.push(o(n,j)),r(e))});var b=[],w=[],x=null,k=null,j=new l;if(f(n,function(t,e,n,i){switch(t){case"IHDR":x=e.subarray(n+8,n+8+i),j.width=p(e,n+8),j.height=p(e,n+12);break;case"acTL":j.numPlays=p(e,n+8+4);break;case"fcTL":k&&j.frames.push(k),(k={}).width=p(e,n+8+4),k.height=p(e,n+8+8),k.left=p(e,n+8+12),k.top=p(e,n+8+16);var r=h(e,n+8+20),o=h(e,n+8+22);0==o&&(o=100),k.delay=1e3*r/o,k.delay<=10&&(k.delay=100),j.playTime+=k.delay,k.disposeOp=d(e,n+8+24),k.blendOp=d(e,n+8+25),k.dataParts=[];break;case"fdAT":k&&k.dataParts.push(e.subarray(n+8+4,n+8+i));break;case"IDAT":k&&k.dataParts.push(e.subarray(n+8,n+8+i));break;case"IEND":w.push(v(e,n,12+i));break;default:b.push(v(e,n,12+i))}}),k&&j.frames.push(k),0!=j.frames.length){for(var E=s.resolve(null),A=new a(b),T=new a(w),P=0;P<j.frames.length;P++){k=j.frames[P];var S=[];S.push(u),x.set(m(k.width),0),x.set(m(k.height),4),S.push(g("IHDR",x)),S.push(A);for(var R=0;R<k.dataParts.length;R++)S.push(g("IDAT",k.dataParts[R]));S.push(T),function(t,n){E=E.then(function(){return new s(function(r,a){i.parseBuffer(n,function(n,i){if(n)a(n);else{for(var s in e.push(o(i,t)),j)null==e[s]&&(e[s]=j[s]);r()}})})})}(k,new a(S))}E.then(function(){r(e)})}else c("Not an animated PNG")})};var f=function(t,e){var n=8;do{var i=p(t,n),r=_(t,n+4,4),o=e(r,t,n,i);n+=12+i}while(!1!==o&&"IEND"!=r&&n<t.length)},p=function(t,e){var n=0;n+=t[0+e]<<24>>>0;for(var i=1;i<4;i++)n+=t[i+e]<<8*(3-i);return n},h=function(t,e){for(var n=0,i=0;i<2;i++)n+=t[i+e]<<8*(1-i);return n},d=function(t,e){return t[e]},v=function(t,e,n){var i=new Uint8Array(n);return i.set(t.subarray(e,e+n)),i},_=function(t,e,n){var i=Array.prototype.slice.call(t.subarray(e,e+n));return String.fromCharCode.apply(String,i)},m=function(t){return[t>>>24&255,t>>>16&255,t>>>8&255,255&t]},g=function(t,e){var n=t.length+e.length,i=new Uint8Array(new ArrayBuffer(n+8));i.set(m(e.length),0),i.set(function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n));return e}(t),4),i.set(e,8);var r=c(i,4,n);return i.set(m(r),n+4),i}}).call(this,n(0).Buffer)},function(t,e,n){(function(t){var i=n(16),r=n(17),o=n(58),a=new t("89504e470d0a1a0a","hex");function s(t,e,n,i,r){this.width=t,this.height=e,this.channels=n,this.data=i,this.trailer=r}function l(t,e,n){var i=t+e-n,r=Math.abs(i-t),o=Math.abs(i-e),a=Math.abs(i-n);return r<=o&&r<=a?t:o<=a?e:n}s.prototype.getPixel=function(t,e){if(e|=0,(t|=0)<0||e<0||t>=this.width||e>=this.height)return 0;var n,i,r,o,a=(e*this.width+t)*this.channels;switch(this.channels){case 1:n=i=r=this.data[a],o=255;break;case 2:n=i=r=this.data[a],o=this.data[a+1];break;case 3:n=this.data[a],i=this.data[a+1],r=this.data[a+2],o=255;break;case 4:n=this.data[a],i=this.data[a+1],r=this.data[a+2],o=this.data[a+3]}return(n<<24|i<<16|r<<8|o)>>>0},e.parseStream=function(e,n){var i,r,c,u,f,p,h,d,v,_,m,g,y,b,w,x,k,j,E=o.createInflate(),A=0,T=0,P=new t(13),S=2,R=-1,F=0,C=0,I=0;function L(t){return e.destroy&&e.destroy(),E.destroy&&E.destroy(),n(t)}function O(){if(!--S)return n(void 0,new s(r,c,j,h,w))}e.on("error",L),E.on("error",L),e.on("end",function(){return e.destroy(),h&&w?O():L(new Error("Corrupt PNG?"))}),E.on("end",function(){return E.destroy&&E.destroy(),F!==h.length?L(new Error("Too little pixel data! (Corrupt PNG?)")):O()}),e.on("data",function(n){if(e.readable)for(var o,s,l=n.length,b=0;b!==l;)switch(A){case 0:if(n[b++]!==a[T++])return L(new Error("Invalid PNG header."));T===a.length&&(A=1,T=0);break;case 1:if(l-b<8-T)n.copy(P,T,b),T+=l-b,b=l;else switch(n.copy(P,T,b,b+8-T),b+=8-T,T=0,i=P.readUInt32BE(0),P.toString("ascii",4,8)){case"IHDR":A=2;break;case"PLTE":if(3!==p)A=7;else{if(i%3!=0)return L(new Error("Invalid PLTE size."));C=i/3,x=new t(i),A=3}break;case"tRNS":if(3!==p)return L(new Error("tRNS for non-paletted images not yet supported."));j++,I=i,k=new t(i),A=4;break;case"IDAT":h||(h=new t(r*c*j)),A=5;break;case"IEND":A=6;break;default:A=7}break;case 2:if(13!==i)return L(new Error("Invalid IHDR chunk."));if(l-b<i-T)n.copy(P,T,b),T+=l-b,b=l;else{if(n.copy(P,T,b,b+i-T),0!==P.readUInt8(10))return L(new Error("Unsupported compression method."));if(0!==P.readUInt8(11))return L(new Error("Unsupported filter method."));if(0!==P.readUInt8(12))return L(new Error("Unsupported interlace method."));switch(b+=i-T,A=8,T=0,r=P.readUInt32BE(0),c=P.readUInt32BE(4),u=P.readUInt8(8),f=255/((1<<u)-1),p=P.readUInt8(9)){case 0:d=1,v=Math.ceil(.125*u),j=1;break;case 2:d=3,v=Math.ceil(.375*u),j=3;break;case 3:d=1,v=1,j=3;break;case 4:d=2,v=Math.ceil(.25*u),j=2;break;case 6:d=4,v=Math.ceil(.5*u),j=4;break;default:return L(new Error("Unsupported color type: "+p))}_=Math.ceil(r*u*d/8),m=new t(d),g=new t(_),y=new t(_),g.fill(0)}break;case 3:if(l-b<i-T)n.copy(x,T,b),T+=l-b,b=l;else for(n.copy(x,T,b,b+i-T),b+=i-T,A=8,T=0,j=1,s=C;s--;)if(x[3*s+0]!==x[3*s+1]||x[3*s+0]!==x[3*s+2]){j=3;break}break;case 4:l-b<i-T?(n.copy(k,T,b),T+=l-b,b=l):(n.copy(k,T,b,b+i-T),b+=i-T,A=8,T=0);break;case 5:l-b<i-T?(E.write(n.slice(b)),T+=l-b,b=l):(E.write(n.slice(b,b+i-T)),b+=i-T,A=8,T=0);break;case 6:if(0!==i)return L(new Error("Invalid IEND chunk."));l-b<4-T?(T+=l-b,b=l):(w=new t(0),b+=4-T,A=9,T=0,E.end());break;case 7:l-b<i-T?(T+=l-b,b=l):(b+=i-T,A=8,T=0);break;case 8:l-b<4-T?(T+=l-b,b=l):(b+=4-T,A=1,T=0);break;case 9:o=new t(T+l-b),w.copy(o),n.copy(o,T,b,l),w=o,T+=l-b,b=l}}),E.on("data",function(t){if(E.readable){var e,n,i,o,a,s=t.length;for(e=0;e!==s;++e){if(-1===R)b=t[e],n=g,g=y,y=n;else switch(b){case 0:g[R]=t[e];break;case 1:g[R]=R<v?t[e]:t[e]+g[R-v]&255;break;case 2:g[R]=t[e]+y[R]&255;break;case 3:g[R]=t[e]+((R<v?y[R]:g[R-v]+y[R])>>>1)&255;break;case 4:g[R]=t[e]+(R<v?y[R]:l(g[R-v],y[R],y[R-v]))&255;break;default:return L(new Error("Unsupported scanline filter: "+b))}if(++R===_){if(F===h.length)return L(new Error("Too much pixel data! (Corrupt PNG?)"));for(o=0,i=0;i!==r;++i){for(a=0;a!==d;++o,++a)switch(u){case 1:m[a]=g[o>>>3]>>7-(7&o)&1;break;case 2:m[a]=g[o>>>2]>>(3-(3&o)<<1)&3;break;case 4:m[a]=g[o>>>1]>>(1-(1&o)<<2)&15;break;case 8:m[a]=g[o];break;default:return L(new Error("Unsupported bit depth: "+u))}switch(p){case 0:h[F++]=m[0]*f;break;case 2:h[F++]=m[0]*f,h[F++]=m[1]*f,h[F++]=m[2]*f;break;case 3:if(m[0]>=C)return L(new Error("Invalid palette index."));switch(j){case 1:h[F++]=x[3*m[0]];break;case 2:h[F++]=x[3*m[0]],h[F++]=m[0]<I?k[m[0]]:255;break;case 3:h[F++]=x[3*m[0]+0],h[F++]=x[3*m[0]+1],h[F++]=x[3*m[0]+2];break;case 4:h[F++]=x[3*m[0]+0],h[F++]=x[3*m[0]+1],h[F++]=x[3*m[0]+2],h[F++]=m[0]<I?k[m[0]]:255}break;case 4:h[F++]=m[0]*f,h[F++]=m[1]*f;break;case 6:h[F++]=m[0]*f,h[F++]=m[1]*f,h[F++]=m[2]*f,h[F++]=m[3]*f}}R=-1}}}})},e.parseFile=function(t,n){return e.parseStream(i.createReadStream(t),n)},e.parseBuffer=function(t,n){var i=new r.Stream;i.readable=!0,i.destroy=function(){i.readable=!1},e.parseStream(i,n),i.emit("data",t),i.readable&&i.emit("end")},e.parse=e.parseBuffer}).call(this,n(0).Buffer)},function(t,e){},function(t,e,n){"use strict";var i=n(8).Buffer,r=n(51);function o(t,e,n){t.copy(e,n)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),n=this.head,r=0;n;)o(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(2))},function(t,e,n){"use strict";t.exports=o;var i=n(22),r=n(6);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(4),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(14)},function(t,e,n){t.exports=n(5)},function(t,e,n){t.exports=n(13).Transform},function(t,e,n){t.exports=n(13).PassThrough},function(t,e,n){"use strict";(function(t){var i=n(0).Buffer,r=n(17).Transform,o=n(59),a=n(24),s=n(23).ok,l=n(0).kMaxLength,c="Cannot create final Buffer. It would be larger than 0x"+l.toString(16)+" bytes";o.Z_MIN_WINDOWBITS=8,o.Z_MAX_WINDOWBITS=15,o.Z_DEFAULT_WINDOWBITS=15,o.Z_MIN_CHUNK=64,o.Z_MAX_CHUNK=1/0,o.Z_DEFAULT_CHUNK=16384,o.Z_MIN_MEMLEVEL=1,o.Z_MAX_MEMLEVEL=9,o.Z_DEFAULT_MEMLEVEL=8,o.Z_MIN_LEVEL=-1,o.Z_MAX_LEVEL=9,o.Z_DEFAULT_LEVEL=o.Z_DEFAULT_COMPRESSION;for(var u=Object.keys(o),f=0;f<u.length;f++){var p=u[f];p.match(/^Z/)&&Object.defineProperty(e,p,{enumerable:!0,value:o[p],writable:!1})}for(var h={Z_OK:o.Z_OK,Z_STREAM_END:o.Z_STREAM_END,Z_NEED_DICT:o.Z_NEED_DICT,Z_ERRNO:o.Z_ERRNO,Z_STREAM_ERROR:o.Z_STREAM_ERROR,Z_DATA_ERROR:o.Z_DATA_ERROR,Z_MEM_ERROR:o.Z_MEM_ERROR,Z_BUF_ERROR:o.Z_BUF_ERROR,Z_VERSION_ERROR:o.Z_VERSION_ERROR},d=Object.keys(h),v=0;v<d.length;v++){var _=d[v];h[h[_]]=_}function m(t,e,n){var r=[],o=0;function a(){for(var e;null!==(e=t.read());)r.push(e),o+=e.length;t.once("readable",a)}function s(){var e,a=null;o>=l?a=new RangeError(c):e=i.concat(r,o),r=[],t.close(),n(a,e)}t.on("error",function(e){t.removeListener("end",s),t.removeListener("readable",a),n(e)}),t.on("end",s),t.end(e),a()}function g(t,e){if("string"==typeof e&&(e=i.from(e)),!i.isBuffer(e))throw new TypeError("Not a string or buffer");var n=t._finishFlushFlag;return t._processChunk(e,n)}function y(t){if(!(this instanceof y))return new y(t);T.call(this,t,o.DEFLATE)}function b(t){if(!(this instanceof b))return new b(t);T.call(this,t,o.INFLATE)}function w(t){if(!(this instanceof w))return new w(t);T.call(this,t,o.GZIP)}function x(t){if(!(this instanceof x))return new x(t);T.call(this,t,o.GUNZIP)}function k(t){if(!(this instanceof k))return new k(t);T.call(this,t,o.DEFLATERAW)}function j(t){if(!(this instanceof j))return new j(t);T.call(this,t,o.INFLATERAW)}function E(t){if(!(this instanceof E))return new E(t);T.call(this,t,o.UNZIP)}function A(t){return t===o.Z_NO_FLUSH||t===o.Z_PARTIAL_FLUSH||t===o.Z_SYNC_FLUSH||t===o.Z_FULL_FLUSH||t===o.Z_FINISH||t===o.Z_BLOCK}function T(t,n){var a=this;if(this._opts=t=t||{},this._chunkSize=t.chunkSize||e.Z_DEFAULT_CHUNK,r.call(this,t),t.flush&&!A(t.flush))throw new Error("Invalid flush flag: "+t.flush);if(t.finishFlush&&!A(t.finishFlush))throw new Error("Invalid flush flag: "+t.finishFlush);if(this._flushFlag=t.flush||o.Z_NO_FLUSH,this._finishFlushFlag=void 0!==t.finishFlush?t.finishFlush:o.Z_FINISH,t.chunkSize&&(t.chunkSize<e.Z_MIN_CHUNK||t.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+t.chunkSize);if(t.windowBits&&(t.windowBits<e.Z_MIN_WINDOWBITS||t.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+t.windowBits);if(t.level&&(t.level<e.Z_MIN_LEVEL||t.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+t.level);if(t.memLevel&&(t.memLevel<e.Z_MIN_MEMLEVEL||t.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+t.memLevel);if(t.strategy&&t.strategy!=e.Z_FILTERED&&t.strategy!=e.Z_HUFFMAN_ONLY&&t.strategy!=e.Z_RLE&&t.strategy!=e.Z_FIXED&&t.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+t.strategy);if(t.dictionary&&!i.isBuffer(t.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new o.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(t,n){P(s),s._hadError=!0;var i=new Error(t);i.errno=n,i.code=e.codes[n],s.emit("error",i)};var l=e.Z_DEFAULT_COMPRESSION;"number"==typeof t.level&&(l=t.level);var c=e.Z_DEFAULT_STRATEGY;"number"==typeof t.strategy&&(c=t.strategy),this._handle.init(t.windowBits||e.Z_DEFAULT_WINDOWBITS,l,t.memLevel||e.Z_DEFAULT_MEMLEVEL,c,t.dictionary),this._buffer=i.allocUnsafe(this._chunkSize),this._offset=0,this._level=l,this._strategy=c,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!a._handle},configurable:!0,enumerable:!0})}function P(e,n){n&&t.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function S(t){t.emit("close")}Object.defineProperty(e,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),e.Deflate=y,e.Inflate=b,e.Gzip=w,e.Gunzip=x,e.DeflateRaw=k,e.InflateRaw=j,e.Unzip=E,e.createDeflate=function(t){return new y(t)},e.createInflate=function(t){return new b(t)},e.createDeflateRaw=function(t){return new k(t)},e.createInflateRaw=function(t){return new j(t)},e.createGzip=function(t){return new w(t)},e.createGunzip=function(t){return new x(t)},e.createUnzip=function(t){return new E(t)},e.deflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new y(e),t,n)},e.deflateSync=function(t,e){return g(new y(e),t)},e.gzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new w(e),t,n)},e.gzipSync=function(t,e){return g(new w(e),t)},e.deflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new k(e),t,n)},e.deflateRawSync=function(t,e){return g(new k(e),t)},e.unzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new E(e),t,n)},e.unzipSync=function(t,e){return g(new E(e),t)},e.inflate=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new b(e),t,n)},e.inflateSync=function(t,e){return g(new b(e),t)},e.gunzip=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new x(e),t,n)},e.gunzipSync=function(t,e){return g(new x(e),t)},e.inflateRaw=function(t,e,n){return"function"==typeof e&&(n=e,e={}),m(new j(e),t,n)},e.inflateRawSync=function(t,e){return g(new j(e),t)},a.inherits(T,r),T.prototype.params=function(n,i,r){if(n<e.Z_MIN_LEVEL||n>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(i!=e.Z_FILTERED&&i!=e.Z_HUFFMAN_ONLY&&i!=e.Z_RLE&&i!=e.Z_FIXED&&i!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+i);if(this._level!==n||this._strategy!==i){var a=this;this.flush(o.Z_SYNC_FLUSH,function(){s(a._handle,"zlib binding closed"),a._handle.params(n,i),a._hadError||(a._level=n,a._strategy=i,r&&r())})}else t.nextTick(r)},T.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(t){this._transform(i.alloc(0),"",t)},T.prototype.flush=function(e,n){var r=this,a=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=o.Z_FULL_FLUSH),a.ended?n&&t.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return r.flush(e,n)}):(this._flushFlag=e,this.write(i.alloc(0),"",n))},T.prototype.close=function(e){P(this,e),t.nextTick(S,this)},T.prototype._transform=function(t,e,n){var r,a=this._writableState,s=(a.ending||a.ended)&&(!t||a.length===t.length);return null===t||i.isBuffer(t)?this._handle?(s?r=this._finishFlushFlag:(r=this._flushFlag,t.length>=a.length&&(this._flushFlag=this._opts.flush||o.Z_NO_FLUSH)),void this._processChunk(t,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},T.prototype._processChunk=function(t,e,n){var r=t&&t.length,o=this._chunkSize-this._offset,a=0,u=this,f="function"==typeof n;if(!f){var p,h=[],d=0;this.on("error",function(t){p=t}),s(this._handle,"zlib binding closed");do{var v=this._handle.writeSync(e,t,a,r,this._buffer,this._offset,o)}while(!this._hadError&&g(v[0],v[1]));if(this._hadError)throw p;if(d>=l)throw P(this),new RangeError(c);var _=i.concat(h,d);return P(this),_}s(this._handle,"zlib binding closed");var m=this._handle.write(e,t,a,r,this._buffer,this._offset,o);function g(l,c){if(this&&(this.buffer=null,this.callback=null),!u._hadError){var p=o-c;if(s(p>=0,"have should not go down"),p>0){var v=u._buffer.slice(u._offset,u._offset+p);u._offset+=p,f?u.push(v):(h.push(v),d+=v.length)}if((0===c||u._offset>=u._chunkSize)&&(o=u._chunkSize,u._offset=0,u._buffer=i.allocUnsafe(u._chunkSize)),0===c){if(a+=r-l,r=l,!f)return!0;var _=u._handle.write(e,t,a,r,u._buffer,u._offset,u._chunkSize);return _.callback=g,void(_.buffer=t)}if(!f)return!1;n()}}m.buffer=t,m.callback=g},a.inherits(y,T),a.inherits(b,T),a.inherits(w,T),a.inherits(x,T),a.inherits(k,T),a.inherits(j,T),a.inherits(E,T)}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){var r=n(23),o=n(61),a=n(62),s=n(65),l=n(68);for(var c in l)e[c]=l[c];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7;function u(t){if("number"!=typeof t||t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}u.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,r(this.init_done,"close before init"),r(this.mode<=e.UNZIP),this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?a.deflateEnd(this.strm):this.mode!==e.INFLATE&&this.mode!==e.GUNZIP&&this.mode!==e.INFLATERAW&&this.mode!==e.UNZIP||s.inflateEnd(this.strm),this.mode=e.NONE,this.dictionary=null)},u.prototype.write=function(t,e,n,i,r,o,a){return this._write(!0,t,e,n,i,r,o,a)},u.prototype.writeSync=function(t,e,n,i,r,o,a){return this._write(!1,t,e,n,i,r,o,a)},u.prototype._write=function(n,o,a,s,l,c,u,f){if(r.equal(arguments.length,8),r(this.init_done,"write before init"),r(this.mode!==e.NONE,"already finalized"),r.equal(!1,this.write_in_progress,"write already in progress"),r.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,r.equal(!1,void 0===o,"must provide flush value"),this.write_in_progress=!0,o!==e.Z_NO_FLUSH&&o!==e.Z_PARTIAL_FLUSH&&o!==e.Z_SYNC_FLUSH&&o!==e.Z_FULL_FLUSH&&o!==e.Z_FINISH&&o!==e.Z_BLOCK)throw new Error("Invalid flush value");if(null==a&&(a=t.alloc(0),l=0,s=0),this.strm.avail_in=l,this.strm.input=a,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=c,this.strm.next_out=u,this.flush=o,!n)return this._process(),this._checkError()?this._afterSync():void 0;var p=this;return i.nextTick(function(){p._process(),p._after()}),this},u.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},u.prototype._process=function(){var t=null;switch(this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=a.deflate(this.strm,this.flush);break;case e.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(31!==this.strm.input[t]){this.mode=e.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;139===this.strm.input[t]?(this.gzip_id_bytes_read=2,this.mode=e.GUNZIP):this.mode=e.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===e.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===e.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===e.Z_DATA_ERROR&&(this.err=e.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===e.GUNZIP&&this.err===e.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},u.prototype._checkError=function(){switch(this.err){case e.Z_OK:case e.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===e.Z_FINISH)return this._error("unexpected end of file"),!1;break;case e.Z_STREAM_END:break;case e.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},u.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},u.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},u.prototype.init=function(t,n,i,o,a){r(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),r(t>=8&&t<=15,"invalid windowBits"),r(n>=-1&&n<=9,"invalid compression level"),r(i>=1&&i<=9,"invalid memlevel"),r(o===e.Z_FILTERED||o===e.Z_HUFFMAN_ONLY||o===e.Z_RLE||o===e.Z_FIXED||o===e.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,t,i,o,a),this._setDictionary()},u.prototype.params=function(){throw new Error("deflateParams Not supported")},u.prototype.reset=function(){this._reset(),this._setDictionary()},u.prototype._init=function(t,n,i,r,l){switch(this.level=t,this.windowBits=n,this.memLevel=i,this.strategy=r,this.flush=e.Z_NO_FLUSH,this.err=e.Z_OK,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:this.err=a.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==e.Z_OK&&this._error("Init error"),this.dictionary=l,this.write_in_progress=!1,this.init_done=!0},u.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:this.err=a.deflateSetDictionary(this.strm,this.dictionary)}this.err!==e.Z_OK&&this._error("Failed to set dictionary")}},u.prototype._reset=function(){switch(this.err=e.Z_OK,this.mode){case e.DEFLATE:case e.DEFLATERAW:case e.GZIP:this.err=a.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:case e.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==e.Z_OK&&this._error("Failed to reset stream")},e.Zlib=u}).call(this,n(0).Buffer,n(1))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";var i,r=n(9),o=n(63),a=n(25),s=n(26),l=n(64),c=0,u=1,f=3,p=4,h=5,d=0,v=1,_=-2,m=-3,g=-5,y=-1,b=1,w=2,x=3,k=4,j=0,E=2,A=8,T=9,P=15,S=8,R=286,F=30,C=19,I=2*R+1,L=15,O=3,U=258,D=U+O+1,z=32,B=42,M=69,N=73,H=91,V=103,Z=113,q=666,W=1,Y=2,G=3,$=4,J=3;function Q(t,e){return t.msg=l[e],e}function X(t){return(t<<1)-(t>4?9:0)}function K(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e,n,i){var o=t.avail_in;return o>i&&(o=i),0===o?0:(t.avail_in-=o,r.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=a(t.adler,e,o,n):2===t.state.wrap&&(t.adler=s(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function ot(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-D?t.strstart-(t.w_size-D):0,c=t.window,u=t.w_mask,f=t.prev,p=t.strstart+U,h=c[o+a-1],d=c[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===d&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=U-(p-o),o=p-U,i>a){if(t.match_start=e,a=i,i>=s)break;h=c[o+a-1],d=c[o+a]}}}while((e=f[e&u])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function at(t){var e,n,i,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-D)){r.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--n);e=n=s;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--n);o+=s}if(0===t.strm.avail_in)break;if(n=rt(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=O)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+O-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<D&&0!==t.strm.avail_in)}function st(t,e){for(var n,i;;){if(t.lookahead<D){if(at(t),t.lookahead<D&&e===c)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-D&&(t.match_length=ot(t,n)),t.match_length>=O)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=t.strstart<O-1?t.strstart:O-1,e===p?(et(t,!0),0===t.strm.avail_out?G:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:Y}function lt(t,e){for(var n,i,r;;){if(t.lookahead<D){if(at(t),t.lookahead<D&&e===c)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-D&&(t.match_length=ot(t,n),t.match_length<=5&&(t.strategy===b||t.match_length===O&&t.strstart-t.match_start>4096)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-O,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=O-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return W}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return W}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,e===p?(et(t,!0),0===t.strm.avail_out?G:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:Y}function ct(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function ut(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=E,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?B:Z,t.adler=2===e.wrap?0:1,e.last_flush=c,o._tr_init(e),d):Q(t,_)}function ft(t){var e=ut(t);return e===d&&function(t){t.window_size=2*t.w_size,K(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=O-1,t.match_available=0,t.ins_h=0}(t.state),e}function pt(t,e,n,i,o,a){if(!t)return _;var s=1;if(e===y&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>T||n!==A||i<8||i>15||e<0||e>9||a<0||a>k)return Q(t,_);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*I),this.dyn_dtree=new r.Buf16(2*(2*F+1)),this.bl_tree=new r.Buf16(2*(2*C+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*R+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*R+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+O-1)/O),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,ft(t)}i=[new ct(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===c)return W;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return W;if(t.strstart-t.block_start>=t.w_size-D&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?G:$):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),W)}),new ct(4,4,8,4,st),new ct(4,5,16,8,st),new ct(4,6,32,32,st),new ct(4,4,16,16,lt),new ct(8,16,32,32,lt),new ct(8,16,128,128,lt),new ct(8,32,128,256,lt),new ct(32,128,258,1024,lt),new ct(32,258,258,4096,lt)],e.deflateInit=function(t,e){return pt(t,e,A,P,S,j)},e.deflateInit2=pt,e.deflateReset=ft,e.deflateResetKeep=ut,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,d):_},e.deflate=function(t,e){var n,r,a,l;if(!t||!t.state||e>h||e<0)return t?Q(t,_):_;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===q&&e!==p)return Q(t,0===t.avail_out?g:_);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===B)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=M):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,J),r.status=Z);else{var m=A+(r.w_bits-8<<4)<<8;m|=(r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=z),m+=31-m%31,r.status=Z,it(r,m),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===M)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=N)}else r.status=N;if(r.status===N)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=V)}else r.status=V;if(r.status===V&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=Z)):r.status=Z),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,d}else if(0===t.avail_in&&X(e)<=X(n)&&e!==p)return Q(t,g);if(r.status===q&&0!==t.avail_in)return Q(t,g);if(0!==t.avail_in||0!==r.lookahead||e!==c&&r.status!==q){var y=r.strategy===w?function(t,e){for(var n;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===c)return W;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?G:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:Y}(r,e):r.strategy===x?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=U){if(at(t),t.lookahead<=U&&e===c)return W;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=O&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+U;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=U-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=O?(n=o._tr_tally(t,1,t.match_length-O),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?G:$):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:Y}(r,e):i[r.level].func(r,e);if(y!==G&&y!==$||(r.status=q),y===W||y===G)return 0===t.avail_out&&(r.last_flush=-1),d;if(y===Y&&(e===u?o._tr_align(r):e!==h&&(o._tr_stored_block(r,0,0,!1),e===f&&(K(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,d}return e!==p?d:r.wrap<=0?v:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:v)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==B&&e!==M&&e!==N&&e!==H&&e!==V&&e!==Z&&e!==q?Q(t,_):(t.state=null,e===Z?Q(t,m):d):_},e.deflateSetDictionary=function(t,e){var n,i,o,s,l,c,u,f,p=e.length;if(!t||!t.state)return _;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==B||n.lookahead)return _;for(1===s&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(K(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new r.Buf8(n.w_size),r.arraySet(f,e,p-n.w_size,n.w_size,0),e=f,p=n.w_size),l=t.avail_in,c=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,at(n);n.lookahead>=O;){i=n.strstart,o=n.lookahead-(O-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+O-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=O-1,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=l,n.wrap=s,d},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(9),r=4,o=0,a=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,u=1,f=2,p=29,h=256,d=h+1+p,v=30,_=19,m=2*d+1,g=15,y=16,b=7,w=256,x=16,k=17,j=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(d+2));l(S);var R=new Array(2*v);l(R);var F=new Array(512);l(F);var C=new Array(256);l(C);var I=new Array(p);l(I);var L,O,U,D=new Array(v);function z(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function B(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function M(t){return t<256?F[t]:F[256+(t>>>7)]}function N(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function H(t,e,n){t.bi_valid>y-n?(t.bi_buf|=e<<t.bi_valid&65535,N(t,t.bi_buf),t.bi_buf=e>>y-t.bi_valid,t.bi_valid+=n-y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function V(t,e,n){H(t,n[2*e],n[2*e+1])}function Z(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function q(t,e,n){var i,r,o=new Array(g+1),a=0;for(i=1;i<=g;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=Z(o[s]++,s))}}function W(t){var e;for(e=0;e<d;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<_;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?N(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function $(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&G(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!G(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function J(t,e,n){var i,r,o,a,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?V(t,r,e):(V(t,(o=C[r])+h+1,e),0!==(a=E[o])&&H(t,r-=I[o],a),V(t,o=M(--i),n),0!==(a=A[o])&&H(t,i-=D[o],a))}while(s<t.last_lit);V(t,w,e)}function Q(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=m,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)$(t,o,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],$(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,$(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,f=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,d=e.stat_desc.max_length,v=0;for(o=0;o<=g;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<m;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>d&&(o=d,v++),l[2*i+1]=o,i>c||(t.bl_count[o]++,a=0,i>=h&&(a=p[i-h]),s=l[2*i],t.opt_len+=s*(o+a),f&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==v){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,v-=2}while(v>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>c||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),q(o,c,t.bl_count)}function X(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*k]++:t.bl_tree[2*j]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function K(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)do{V(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(V(t,r,t.bl_tree),s--),V(t,x,t.bl_tree),H(t,s-3,2)):s<=10?(V(t,k,t.bl_tree),H(t,s-3,3)):(V(t,j,t.bl_tree),H(t,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(D);var tt=!1;function et(t,e,n,r){H(t,(c<<1)+(r?1:0),3),function(t,e,n,r){Y(t),r&&(N(t,n),N(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,o=new Array(g+1);for(n=0,i=0;i<p-1;i++)for(I[i]=n,t=0;t<1<<E[i];t++)C[n++]=i;for(C[n-1]=i,r=0,i=0;i<16;i++)for(D[i]=r,t=0;t<1<<A[i];t++)F[r++]=i;for(r>>=7;i<v;i++)for(D[i]=r<<7,t=0;t<1<<A[i]-7;t++)F[256+r++]=i;for(e=0;e<=g;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(q(S,d+1,o),t=0;t<v;t++)R[2*t+1]=5,R[2*t]=Z(t,5);L=new z(S,E,h+1,d,g),O=new z(R,A,0,v,g),U=new z(new Array(0),T,0,_,b)}(),tt=!0),t.l_desc=new B(t.dyn_ltree,L),t.d_desc=new B(t.dyn_dtree,O),t.bl_desc=new B(t.bl_tree,U),t.bi_buf=0,t.bi_valid=0,W(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var l,c,p=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<h;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),Q(t,t.l_desc),Q(t,t.d_desc),p=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=_-1;e>=3&&0===t.bl_tree[2*P[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==e?et(t,e,n,i):t.strategy===r||c===l?(H(t,(u<<1)+(i?1:0),3),J(t,S,R)):(H(t,(f<<1)+(i?1:0),3),function(t,e,n,i){var r;for(H(t,e-257,5),H(t,n-1,5),H(t,i-4,4),r=0;r<i;r++)H(t,t.bl_tree[2*P[r]+1],3);K(t,t.dyn_ltree,e-1),K(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,p+1),J(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&Y(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(C[n]+h+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){H(t,u<<1,3),V(t,w,S),function(t){16===t.bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";var i=n(9),r=n(25),o=n(26),a=n(66),s=n(67),l=0,c=1,u=2,f=4,p=5,h=6,d=0,v=1,_=2,m=-2,g=-3,y=-4,b=-5,w=8,x=1,k=2,j=3,E=4,A=5,T=6,P=7,S=8,R=9,F=10,C=11,I=12,L=13,O=14,U=15,D=16,z=17,B=18,M=19,N=20,H=21,V=22,Z=23,q=24,W=25,Y=26,G=27,$=28,J=29,Q=30,X=31,K=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,d):m}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):m}function at(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?m:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ot(t))):m}function st(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=at(t,e))!==d&&(t.state=null),n):m}var lt,ct,ut=!0;function ft(t){if(ut){var e;for(lt=new i.Buf32(512),ct=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,lt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(u,t.lens,0,32,ct,0,t.work,{bits:5}),ut=!1}t.lencode=lt,t.lenbits=9,t.distcode=ct,t.distbits=5}function pt(t,e,n,r){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,e,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=rt,e.inflateInit=function(t){return st(t,nt)},e.inflateInit2=st,e.inflate=function(t,e){var n,tt,et,nt,rt,ot,at,st,lt,ct,ut,ht,dt,vt,_t,mt,gt,yt,bt,wt,xt,kt,jt,Et,At=0,Tt=new i.Buf8(4),Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return m;(n=t.state).mode===I&&(n.mode=L),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,lt=n.bits,ct=ot,ut=at,kt=d;t:for(;;)switch(n.mode){case x:if(0===n.wrap){n.mode=L;break}for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===st){n.check=0,Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0),st=0,lt=0,n.mode=k;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=Q;break}if((15&st)!==w){t.msg="unknown compression method",n.mode=Q;break}if(lt-=4,xt=8+(15&(st>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=Q;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&st?F:I,st=0,lt=0;break;case k:for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(n.flags=st,(255&n.flags)!==w){t.msg="unknown compression method",n.mode=Q;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Q;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,lt=0,n.mode=j;case j:for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=st),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,Tt[2]=st>>>16&255,Tt[3]=st>>>24&255,n.check=o(n.check,Tt,4,0)),st=0,lt=0,n.mode=E;case E:for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,lt=0,n.mode=A;case A:if(1024&n.flags){for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(Tt[0]=255&st,Tt[1]=st>>>8&255,n.check=o(n.check,Tt,2,0)),st=0,lt=0}else n.head&&(n.head.extra=null);n.mode=T;case T:if(1024&n.flags&&((ht=n.length)>ot&&(ht=ot),ht&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ht,xt)),512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,n.length-=ht),n.length))break t;n.length=0,n.mode=P;case P:if(2048&n.flags){if(0===ot)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt))}while(xt&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=S;case S:if(4096&n.flags){if(0===ot)break t;ht=0;do{xt=tt[nt+ht++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt))}while(xt&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,xt)break t}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Q;break}st=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=I;break;case F:for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}t.adler=n.check=it(st),st=0,lt=0,n.mode=C;case C:if(0===n.havedict)return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,_;t.adler=n.check=1,n.mode=I;case I:if(e===p||e===h)break t;case L:if(n.last){st>>>=7&lt,lt-=7&lt,n.mode=G;break}for(;lt<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}switch(n.last=1&st,lt-=1,3&(st>>>=1)){case 0:n.mode=O;break;case 1:if(ft(n),n.mode=N,e===h){st>>>=2,lt-=2;break t}break;case 2:n.mode=z;break;case 3:t.msg="invalid block type",n.mode=Q}st>>>=2,lt-=2;break;case O:for(st>>>=7&lt,lt-=7&lt;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Q;break}if(n.length=65535&st,st=0,lt=0,n.mode=U,e===h)break t;case U:n.mode=D;case D:if(ht=n.length){if(ht>ot&&(ht=ot),ht>at&&(ht=at),0===ht)break t;i.arraySet(et,tt,nt,ht,rt),ot-=ht,nt+=ht,at-=ht,rt+=ht,n.length-=ht;break}n.mode=I;break;case z:for(;lt<14;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&st),st>>>=5,lt-=5,n.ndist=1+(31&st),st>>>=5,lt-=5,n.ncode=4+(15&st),st>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Q;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;lt<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.lens[Pt[n.have++]]=7&st,st>>>=3,lt-=3}for(;n.have<19;)n.lens[Pt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,jt={bits:n.lenbits},kt=s(l,n.lens,0,19,n.lencode,0,n.work,jt),n.lenbits=jt.bits,kt){t.msg="invalid code lengths set",n.mode=Q;break}n.have=0,n.mode=M;case M:for(;n.have<n.nlen+n.ndist;){for(;mt=(At=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,gt=65535&At,!((_t=At>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(gt<16)st>>>=_t,lt-=_t,n.lens[n.have++]=gt;else{if(16===gt){for(Et=_t+2;lt<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st>>>=_t,lt-=_t,0===n.have){t.msg="invalid bit length repeat",n.mode=Q;break}xt=n.lens[n.have-1],ht=3+(3&st),st>>>=2,lt-=2}else if(17===gt){for(Et=_t+3;lt<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}lt-=_t,xt=0,ht=3+(7&(st>>>=_t)),st>>>=3,lt-=3}else{for(Et=_t+7;lt<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}lt-=_t,xt=0,ht=11+(127&(st>>>=_t)),st>>>=7,lt-=7}if(n.have+ht>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Q;break}for(;ht--;)n.lens[n.have++]=xt}}if(n.mode===Q)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Q;break}if(n.lenbits=9,jt={bits:n.lenbits},kt=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,jt),n.lenbits=jt.bits,kt){t.msg="invalid literal/lengths set",n.mode=Q;break}if(n.distbits=6,n.distcode=n.distdyn,jt={bits:n.distbits},kt=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,jt),n.distbits=jt.bits,kt){t.msg="invalid distances set",n.mode=Q;break}if(n.mode=N,e===h)break t;case N:n.mode=H;case H:if(ot>=6&&at>=258){t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,a(t,ut),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,lt=n.bits,n.mode===I&&(n.back=-1);break}for(n.back=0;mt=(At=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,gt=65535&At,!((_t=At>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(mt&&0==(240&mt)){for(yt=_t,bt=mt,wt=gt;mt=(At=n.lencode[wt+((st&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&At,!(yt+(_t=At>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}st>>>=yt,lt-=yt,n.back+=yt}if(st>>>=_t,lt-=_t,n.back+=_t,n.length=gt,0===mt){n.mode=Y;break}if(32&mt){n.back=-1,n.mode=I;break}if(64&mt){t.msg="invalid literal/length code",n.mode=Q;break}n.extra=15&mt,n.mode=V;case V:if(n.extra){for(Et=n.extra;lt<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Z;case Z:for(;mt=(At=n.distcode[st&(1<<n.distbits)-1])>>>16&255,gt=65535&At,!((_t=At>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(0==(240&mt)){for(yt=_t,bt=mt,wt=gt;mt=(At=n.distcode[wt+((st&(1<<yt+bt)-1)>>yt)])>>>16&255,gt=65535&At,!(yt+(_t=At>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}st>>>=yt,lt-=yt,n.back+=yt}if(st>>>=_t,lt-=_t,n.back+=_t,64&mt){t.msg="invalid distance code",n.mode=Q;break}n.offset=gt,n.extra=15&mt,n.mode=q;case q:if(n.extra){for(Et=n.extra;lt<Et;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Q;break}n.mode=W;case W:if(0===at)break t;if(ht=ut-at,n.offset>ht){if((ht=n.offset-ht)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Q;break}ht>n.wnext?(ht-=n.wnext,dt=n.wsize-ht):dt=n.wnext-ht,ht>n.length&&(ht=n.length),vt=n.window}else vt=et,dt=rt-n.offset,ht=n.length;ht>at&&(ht=at),at-=ht,n.length-=ht;do{et[rt++]=vt[dt++]}while(--ht);0===n.length&&(n.mode=H);break;case Y:if(0===at)break t;et[rt++]=n.length,at--,n.mode=H;break;case G:if(n.wrap){for(;lt<32;){if(0===ot)break t;ot--,st|=tt[nt++]<<lt,lt+=8}if(ut-=at,t.total_out+=ut,n.total+=ut,ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,rt-ut):r(n.check,et,ut,rt-ut)),ut=at,(n.flags?st:it(st))!==n.check){t.msg="incorrect data check",n.mode=Q;break}st=0,lt=0}n.mode=$;case $:if(n.wrap&&n.flags){for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Q;break}st=0,lt=0}n.mode=J;case J:kt=v;break t;case Q:kt=g;break t;case X:return y;case K:default:return m}return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,(n.wsize||ut!==t.avail_out&&n.mode<Q&&(n.mode<G||e!==f))&&pt(t,t.output,t.next_out,ut-t.avail_out)?(n.mode=X,y):(ct-=t.avail_in,ut-=t.avail_out,t.total_in+=ct,t.total_out+=ut,n.total+=ut,n.wrap&&ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,t.next_out-ut):r(n.check,et,ut,t.next_out-ut)),t.data_type=n.bits+(n.last?64:0)+(n.mode===I?128:0)+(n.mode===N||n.mode===U?256:0),(0===ct&&0===ut||e===f)&&kt===d&&(kt=b),kt)},e.inflateEnd=function(t){if(!t||!t.state)return m;var e=t.state;return e.window&&(e.window=null),t.state=null,d},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?m:(n.head=e,e.done=!1,d):m},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==C?m:n.mode===C&&r(1,e,i,0)!==n.check?g:pt(t,e,i,i)?(n.mode=X,y):(n.havedict=1,d):m},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,a,s,l,c,u,f,p,h,d,v,_,m,g,y,b,w,x,k,j,E,A;n=t.state,i=t.next_in,E=t.input,r=i+(t.avail_in-5),o=t.next_out,A=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,f=n.wnext,p=n.window,h=n.hold,d=n.bits,v=n.lencode,_=n.distcode,m=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;t:do{d<15&&(h+=E[i++]<<d,d+=8,h+=E[i++]<<d,d+=8),y=v[h&m];e:for(;;){if(h>>>=b=y>>>24,d-=b,0===(b=y>>>16&255))A[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=v[(65535&y)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&y,(b&=15)&&(d<b&&(h+=E[i++]<<d,d+=8),w+=h&(1<<b)-1,h>>>=b,d-=b),d<15&&(h+=E[i++]<<d,d+=8,h+=E[i++]<<d,d+=8),y=_[h&g];n:for(;;){if(h>>>=b=y>>>24,d-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=_[(65535&y)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&y,d<(b&=15)&&(h+=E[i++]<<d,(d+=8)<b&&(h+=E[i++]<<d,d+=8)),(x+=h&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,d-=b,x>(b=o-a)){if((b=x-b)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,j=p,0===f){if(k+=c-b,b<w){w-=b;do{A[o++]=p[k++]}while(--b);k=o-x,j=A}}else if(f<b){if(k+=c+f-b,(b-=f)<w){w-=b;do{A[o++]=p[k++]}while(--b);if(k=0,f<w){w-=b=f;do{A[o++]=p[k++]}while(--b);k=o-x,j=A}}}else if(k+=f-b,b<w){w-=b;do{A[o++]=p[k++]}while(--b);k=o-x,j=A}for(;w>2;)A[o++]=j[k++],A[o++]=j[k++],A[o++]=j[k++],w-=3;w&&(A[o++]=j[k++],w>1&&(A[o++]=j[k++]))}else{k=o-x;do{A[o++]=A[k++],A[o++]=A[k++],A[o++]=A[k++],w-=3}while(w>2);w&&(A[o++]=A[k++],w>1&&(A[o++]=A[k++]))}break}}break}}while(i<r&&o<s);i-=w=d>>3,h&=(1<<(d-=w<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=d}},function(t,e,n){"use strict";var i=n(9),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,c,u,f,p){var h,d,v,_,m,g,y,b,w,x=p.bits,k=0,j=0,E=0,A=0,T=0,P=0,S=0,R=0,F=0,C=0,I=null,L=0,O=new i.Buf16(16),U=new i.Buf16(16),D=null,z=0;for(k=0;k<=15;k++)O[k]=0;for(j=0;j<l;j++)O[e[n+j]]++;for(T=x,A=15;A>=1&&0===O[A];A--);if(T>A&&(T=A),0===A)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(E=1;E<A&&0===O[E];E++);for(T<E&&(T=E),R=1,k=1;k<=15;k++)if(R<<=1,(R-=O[k])<0)return-1;if(R>0&&(0===t||1!==A))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+O[k];for(j=0;j<l;j++)0!==e[n+j]&&(f[U[e[n+j]]++]=j);if(0===t?(I=D=f,g=19):1===t?(I=r,L-=257,D=o,z-=257,g=256):(I=a,D=s,g=-1),C=0,j=0,k=E,m=u,P=T,S=0,v=-1,_=(F=1<<T)-1,1===t&&F>852||2===t&&F>592)return 1;for(;;){y=k-S,f[j]<g?(b=0,w=f[j]):f[j]>g?(b=D[z+f[j]],w=I[L+f[j]]):(b=96,w=0),h=1<<k-S,E=d=1<<P;do{c[m+(C>>S)+(d-=h)]=y<<24|b<<16|w|0}while(0!==d);for(h=1<<k-1;C&h;)h>>=1;if(0!==h?(C&=h-1,C+=h):C=0,j++,0==--O[k]){if(k===A)break;k=e[n+f[j]]}if(k>T&&(C&_)!==v){for(0===S&&(S=T),m+=E,R=1<<(P=k-S);P+S<A&&!((R-=O[P+S])<=0);)P++,R<<=1;if(F+=1<<P,1===t&&F>852||2===t&&F>592)return 1;c[v=C&_]=T<<24|P<<16|m-u|0}}return 0!==C&&(c[m+C]=k-S<<24|64<<16|0),p.bits=T,0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){(function(e,n,i){t.exports=function(){var t,r,o;return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return r(n||t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,n){"use strict";var i;try{throw new Error}catch(t){i=t}var r=t("./schedule.js"),o=t("./queue.js"),a=t("./util.js");function s(){this._isTickUsed=!1,this._lateQueue=new o(16),this._normalQueue=new o(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=r.isStatic?r(this.drainQueues):r}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function u(t){this._normalQueue._pushOne(t),this._queueTick()}s.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},s.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t){setTimeout(t,0)})},s.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},s.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},a.hasDevTools?(r.isStatic&&(r=function(t){setTimeout(t,0)}),s.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},s.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},s.prototype.settlePromises=function(t){this._trampolineEnabled?u.call(this,t):this._schedule(function(){t._settlePromises()})}):(s.prototype.invokeLater=l,s.prototype.invoke=c,s.prototype.settlePromises=u),s.prototype.invokeFirst=function(t,e,n){this._normalQueue.unshift(t,e,n),this._queueTick()},s.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),i=t.shift();e.call(n,i)}else e._settlePromises()}},s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},e.exports=new s,e.exports.firstLineError=i},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=function(t,e){this._reject(e)},r=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(i,i,null,this,t)},o=function(t,e){this._isPending()&&this._resolveCallback(e.target)},a=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(i){var s=n(i),l=new t(e);l._propagateFrom(this,1);var c=this._target();if(l._setBoundTo(s),s instanceof t){var u={promiseRejectionQueued:!1,promise:l,target:c,bindingPromise:s};c._then(e,r,l._progress,l,u),s._then(o,a,l._progress,l,u)}else l._resolveCallback(c);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072==(131072&this._bitField)},t.bind=function(i,r){var o=n(i),a=new t(e);return a._setBoundTo(o),o instanceof t?o._then(function(){a._resolveCallback(r)},a._reject,a._progress,a,null):a._resolveCallback(r),a}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var r=t("./promise.js")();r.noConflict=function(){try{Promise===r&&(Promise=i)}catch(t){}return r},e.exports=r},{"./promise.js":23}],5:[function(t,e,n){"use strict";var i=Object.create;if(i){var r=i(null),o=i(null);r[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util.js"),i=n.canEvaluate;function r(t){var i=this.pop(),r=function(t,i){var r;if(null!=t&&(r=t[i]),"function"!=typeof r){var o="Object "+n.classString(t)+" has no method '"+n.toString(i)+"'";throw new e.TypeError(o)}return r}(t,i);return r.apply(t,this)}function o(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}n.isIdentifier,e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;i<e;++i)n[i-1]=arguments[i];return n.push(t),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=a;else if(i){var r=(void 0)(t);e=null!==r?r:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./errors.js"),i=t("./async.js"),r=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new r),i.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(i.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(t,n,i){"use strict";n.exports=function(){var n,i=t("./async.js"),r=t("./util.js"),o=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,a=null,s=null,l=!1;function c(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);_(this,c),e>32&&this.uncycle()}function u(t){for(var e=[],n=0;n<t.length;++n){var i=t[n],r=a.test(i)||"    (No stack trace)"===i,o=r&&p(i);r&&!o&&(l&&" "!==i.charAt(0)&&(i="    "+i),e.push(i))}return e}function f(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t.toString(),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{var n=JSON.stringify(t);e=n}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}r.inherits(c,Error),c.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},i=0,r=this;void 0!==r;++i)e.push(r),r=r._parent;for(var i=(t=this._length=i)-1;i>=0;--i){var o=e[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;i<t;++i){var a=e[i].stack,s=n[a];if(void 0!==s&&s!==i){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[i]._parent=void 0,e[i]._length=1;var l=i>0?e[i-1]:this;s<t-1?(l._parent=e[s+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)e[u]._length=c,c++;return}}}},c.prototype.parent=function(){return this._parent},c.prototype.hasParent=function(){return void 0!==this._parent},c.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=c.parseStackAndMessage(t),n=e.message,i=[e.stack],o=this;void 0!==o;)i.push(u(o.stack.split("\n"))),o=o._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var i=t[n],r=e.length-1,o=e[r],a=-1,s=i.length-1;s>=0;--s)if(i[s]===o){a=s;break}for(var s=a;s>=0;--s){var l=i[s];if(e[r]!==l)break;e.pop(),r--}e=i}}(i),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(i),r.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,i)),r.notEnumerableProp(t,"__stackCleaned__",!0)}},c.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var i=e[n];if("    (No stack trace)"===i||a.test(i))break}return n>0&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:u(e)}},c.formatAndLogError=function(t,e){if("undefined"!=typeof console){var i;if("object"==typeof t||"function"==typeof t){var r=t.stack;i=e+s(r,t)}else i=e+String(t);"function"==typeof n?n(i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}},c.unhandledRejection=function(t){c.formatAndLogError(t,"^--- With additional stack trace: ")},c.isSupported=function(){return"function"==typeof _},c.fireRejectionEvent=function(t,e,n,r){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){i.throwLater(t)}var a=!1;try{a=m(t,n,r)}catch(t){a=!0,i.throwLater(t)}var s=!1;if(v)try{s=v(t.toLowerCase(),{reason:n,promise:r})}catch(t){s=!0,i.throwLater(t)}a||o||s||"unhandledRejection"!==t||c.formatAndLogError(n,"Unhandled rejection ")};var p=function(){return!1},h=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function d(t){var e=t.match(h);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}c.setBounds=function(t,e){if(c.isSupported()){for(var n,i,r=t.stack.split("\n"),a=e.stack.split("\n"),s=-1,l=-1,u=0;u<r.length;++u){var f=d(r[u]);if(f){n=f.fileName,s=f.line;break}}for(var u=0;u<a.length;++u){var f=d(a[u]);if(f){i=f.fileName,l=f.line;break}}s<0||l<0||!n||!i||n!==i||s>=l||(p=function(t){if(o.test(t))return!0;var e=d(t);return!!(e&&e.fileName===n&&s<=e.line&&e.line<=l)})}};var v,_=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():f(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,a=t,s=e;var n=Error.captureStackTrace;return p=function(t){return o.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return a=/@/,s=e,l=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(s=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?f(e):e.toString()},null):(a=t,s=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}(),m=function(){if(r.isNode)return function(t,n,i){return"rejectionHandled"===t?e.emit(t,i):e.emit(t,n,i)};var t=!1,n=!0;try{var i=new self.CustomEvent("test");t=i instanceof CustomEvent}catch(t){}if(!t)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(t){n=!1}n&&(v=function(e,n){var i;return t?i=new self.CustomEvent(e,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,n),!!i&&!self.dispatchEvent(i)});var a={};return a.unhandledRejection="onunhandledRejection".toLowerCase(),a.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var i=a[t],r=self[i];return!!r&&("rejectionHandled"===t?r.call(self,n):r.call(self,e,n),!0)}}();return"undefined"!=typeof console&&void 0!==console.warn&&(n=function(t){console.warn(t)},r.isNode&&e.stderr.isTTY?n=function(t){e.stderr.write("[31m"+t+"[39m\n")}:r.isNode||"string"!=typeof(new Error).stack||(n=function(t){console.warn("%c"+t,"color: red")})),c}},{"./async.js":2,"./util.js":38}],8:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util.js"),i=t("./errors.js"),r=n.tryCatch,o=n.errorObj,a=t("./es5.js").keys,s=i.TypeError;function l(t,e,n){this._instances=t,this._callback=e,this._promise=n}function c(t,e){var n={},i=r(t).call(n,e);if(i===o)return i;var l=a(n);return l.length?(o.e=new s("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),o):i}return l.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,a=i._boundValue(),s=0,l=this._instances.length;s<l;++s){var u=this._instances[s],f=u===Error||null!=u&&u.prototype instanceof Error;if(f&&t instanceof u){var p=r(n).call(a,t);return p===o?(e.e=p.e,e):p}if("function"==typeof u&&!f){var h=c(u,t);if(h===o){t=o.e;break}if(h){var p=r(n).call(a,t);return p===o?(e.e=p.e,e):p}}}return e.e=t,e},l}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e,n){"use strict";e.exports=function(t,e,n){var i=[];function r(){this._trace=new e(o())}function o(){var t=i.length-1;if(t>=0)return i[t]}return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&i.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&i.pop()},t.prototype._peekContext=o,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,function(){if(n())return new r}}},{}],10:[function(t,n,i){"use strict";n.exports=function(n,i){var r,o,a=n._getDomain,s=t("./async.js"),l=t("./errors.js").Warning,c=t("./util.js"),u=c.canAttachTrace,f=c.isNode&&(!!e.env.BLUEBIRD_DEBUG||!1);return c.isNode&&0==e.env.BLUEBIRD_DEBUG&&(f=!1),f&&s.disableTrampolineIfNecessary(),n.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},n.prototype._ensurePossibleRejectionHandled=function(){0==(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return f&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(f&&u(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=i.parseStackAndMessage(t);c.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new l(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var r=i.parseStackAndMessage(e);e.stack=r.message+"\n"+r.stack.join("\n")}i.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){var e=a();o="function"==typeof t?null===e?t:e.bind(t):void 0},n.onUnhandledRejectionHandled=function(t){var e=a();r="function"==typeof t?null===e?t:e.bind(t):void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&!1===f)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(f=i.isSupported())&&s.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return f&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},f=!1),function(){return f}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e,n){"use strict";var i=t("./util.js"),r=i.isPrimitive;e.exports=function(t){var e=function(){return this},n=function(){throw this},i=function(){},o=function(){throw void 0},a=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(n){return void 0===n?this.then(i):r(n)?this._then(a(n,2),void 0,void 0,void 0,void 0):(n instanceof t&&n._ignoreRejections(),this._then(e,void 0,void 0,n,void 0))},t.prototype.throw=t.prototype.thenThrow=function(t){return void 0===t?this.then(o):r(t)?this._then(a(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,i){return n(t,i,null,e)}}},{}],13:[function(t,e,n){"use strict";var i,r,o=t("./es5.js"),a=o.freeze,s=t("./util.js"),l=s.inherits,c=s.notEnumerableProp;function u(t,e){function n(i){if(!(this instanceof n))return new n(i);c(this,"message","string"==typeof i?i:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}var f=u("Warning","warning"),p=u("CancellationError","cancellation error"),h=u("TimeoutError","timeout error"),d=u("AggregateError","aggregate error");try{i=TypeError,r=RangeError}catch(t){i=u("TypeError","type error"),r=u("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<v.length;++_)"function"==typeof Array.prototype[v[_]]&&(d.prototype[v[_]]=Array.prototype[v[_]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var m=0;function g(t){if(!(this instanceof g))return new g(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=t+r[o];i=r.join("\n"),e+=i+"\n"}return m--,e},l(g,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:p,TimeoutError:h,OperationalError:g,RejectionError:g,AggregateError:d}),c(Error,"__BluebirdErrorTypes__",y)),e.exports={Error:Error,TypeError:i,RangeError:r,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(t){return a}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,i){return n(this,t,i,e)},t.filter=function(t,i,r){return n(t,i,r,e)}}},{}],16:[function(t,e,n){"use strict";e.exports=function(e,n,i){var r=t("./util.js"),o=r.isPrimitive,a=r.thrower;function s(){return this}function l(){throw this}function c(t,e,n){var i;return i=o(e)?n?function(t){return function(){return t}}(e):function(t){return function(){throw t}}(e):n?s:l,t._then(i,a,void 0,e,void 0)}function u(t){var r=this.promise,o=this.handler,a=r._isBound()?o.call(r._boundValue()):o();if(void 0!==a){var s=i(a,r);if(s instanceof e)return c(s=s._target(),t,r.isFulfilled())}return r.isRejected()?(n.e=t,n):t}function f(t){var n=this.promise,r=this.handler,o=n._isBound()?r.call(n._boundValue(),t):r(t);if(void 0!==o){var a=i(o,n);if(a instanceof e)return c(a=a._target(),t,!0)}return t}e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?u:f,e?u:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./errors.js"),a=o.TypeError,s=t("./util.js"),l=s.errorObj,c=s.tryCatch,u=[];function f(t,n,r,o){var a=this._promise=new e(i);a._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(u):u}f.prototype.promise=function(){return this._promise},f.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},f.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(!0===t.done)this._promise._resolveCallback(n);else{var i=r(n,this._promise);if(!(i instanceof e)&&null===(i=function(t,n,i){for(var o=0;o<n.length;++o){i._pushContext();var a=c(n[o])(t);if(i._popContext(),a===l){i._pushContext();var s=e.reject(l.e);return i._popContext(),s}var u=r(a,i);if(u instanceof e)return u}return null}(i,this._yieldHandlers,this._promise)))return void this._throw(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},f.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},f.prototype._next=function(t){this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,i=f,r=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new i(void 0,void 0,n,r);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("fn must be a function\n\n    See http://goo.gl/916lJJ\n");u.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new f(t,this),r=i.promise();return i._run(e.spawn),r}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj,e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);for(var i=arguments.length,r=new Array(i),o=0;o<i;++o)r[o]=arguments[o];t&&r.pop();var a=new n(r).promise();return void 0!==t?a.spread(t):a}}},{"./util.js":38}],19:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){var a=e._getDomain,s=t("./async.js"),l=t("./util.js"),c=l.tryCatch,u=l.errorObj,f={},p=[];function h(t,e,n,i){this.constructor$(t),this._promise._captureStackTrace();var r=a();this._callback=null===r?e:r.bind(e),this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,s.invoke(d,this,void 0)}function d(){this._init$(void 0,-2)}function v(t,e,n,i){var r="object"==typeof n&&null!==n?n.concurrency:0;return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new h(t,e,r,i)}l.inherits(h,n),h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var i=this._values,o=this.length(),a=this._preservedValues,s=this._limit;if(i[n]===f){if(i[n]=t,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(s>=1&&this._inFlight>=s)return i[n]=t,void this._queue.push(n);null!==a&&(a[n]=t);var l=this._callback,p=this._promise._boundValue();this._promise._pushContext();var h=c(l).call(p,t,n,o);if(this._promise._popContext(),h===u)return this._reject(h.e);var d=r(h,this._promise);if(d instanceof e){if((d=d._target())._isPending())return s>=1&&this._inFlight++,i[n]=f,d._proxyPromiseArray(this,n);if(!d._isFulfilled())return this._reject(d._reason());h=d._value()}i[n]=h}var v=++this._totalResolved;v>=o&&(null!==a?this._filter(i,a):this._resolve(i))},h.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var i=t.pop();this._promiseFulfilled(n[i],i)}},h.prototype._filter=function(t,e){for(var n=e.length,i=new Array(n),r=0,o=0;o<n;++o)t[o]&&(i[r++]=e[o]);i.length=r,this._resolve(i)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(this,t,e,null).promise()},e.map=function(t,e,n,r){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):v(t,e,n,r).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new e(n);i._captureStackTrace(),i._pushContext();var r=a(t).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(r),i}},e.attempt=e.try=function(t,i,s){if("function"!=typeof t)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l=new e(n);l._captureStackTrace(),l._pushContext();var c=o.isArray(i)?a(t).apply(s,i):a(t).call(s,i);return l._popContext(),l._resolveFromSyncValue(c),l},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util.js"),i=t("./async.js"),r=n.tryCatch,o=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=r(e).apply(this._boundValue(),[null].concat(t));a===o&&i.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?r(e).call(n,null):r(e).call(n,null,t);a===o&&i.throwLater(a.e)}function l(t,e){if(!t){var n=this._target(),a=n._getCarriedStackTrace();a.cause=t,t=a}var s=r(e).call(this._boundValue(),t);s===o&&i.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,l,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=t("./async.js"),o=i.tryCatch,a=i.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,r=t.handler,s=t.promise,l=t.receiver,c=o(r).call(l,n);if(c===a){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var u=i.canAttachTrace(c.e)?c.e:new Error(i.toString(c.e));s._attachExtraTrace(u),s._progress(c.e)}}else c instanceof e?c._then(s._progress,null,null,s,void 0):s._progress(c)},e.prototype._progressUnchecked=function(t){for(var i=this._length(),o=this._progress,a=0;a<i;a++){var s=this._progressHandlerAt(a),l=this._promiseAt(a);if(l instanceof e)"function"==typeof s?r.invoke(this._doProgressWith,this,{handler:s,promise:l,receiver:this._receiverAt(a),value:t}):r.invoke(o,l,t);else{var c=this._receiverAt(a);"function"==typeof s?s.call(c,t,l):c instanceof n&&!c._isResolved()&&c._promiseProgressed(t,l)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,n,i){"use strict";n.exports=function(){var i,r=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},o=function(){return new E.PromiseInspection(this._target())},a=function(t){return E.reject(new f(t))},s=t("./util.js");i=s.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},s.notEnumerableProp(E,"_getDomain",i);var l={},c=t("./async.js"),u=t("./errors.js"),f=E.TypeError=u.TypeError;E.RangeError=u.RangeError,E.CancellationError=u.CancellationError,E.TimeoutError=u.TimeoutError,E.OperationalError=u.OperationalError,E.RejectionError=u.OperationalError,E.AggregateError=u.AggregateError;var p=function(){},h={},d={e:null},v=t("./thenables.js")(E,p),_=t("./promise_array.js")(E,p,v,a),m=t("./captured_trace.js")(),g=t("./debuggability.js")(E,m),y=t("./context.js")(E,m,g),b=t("./catch_filter.js")(d),w=t("./promise_resolver.js"),x=w._nodebackForPromise,k=s.errorObj,j=s.tryCatch;function E(t){if("function"!=typeof t)throw new f("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==E)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==p&&this._resolveFromResolver(t)}function A(t){var e=new E(p);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._progressHandler0=t,e._promise0=t,e._receiver0=t,e._settledValue=t}return E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,i=new Array(e-1),r=0;for(n=0;n<e-1;++n){var o=arguments[n];if("function"!=typeof o)return E.reject(new f("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[r++]=o}i.length=r,t=arguments[n];var a=new b(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},E.prototype.reflect=function(){return this._then(o,o,void 0,this,void 0)},E.prototype.then=function(t,e,n){if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var i=".then() only accepts functions but was passed: "+s.classString(t);arguments.length>1&&(i+=", "+s.classString(e)),this._warn(i)}return this._then(t,e,n,void 0,void 0)},E.prototype.done=function(t,e,n){var i=this._then(t,e,n,void 0,void 0);i._setIsFinal()},E.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,h,void 0)},E.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},E.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},E.prototype.all=function(){return new _(this).promise()},E.prototype.error=function(t){return this.caught(s.originatesFromRejection,t)},E.getNewLibraryCopy=n.exports,E.is=function(t){return t instanceof E},E.fromNode=function(t){var e=new E(p),n=j(t)(x(e));return n===k&&e._rejectCallback(n.e,!0,!0),e},E.all=function(t){return new _(t).promise()},E.defer=E.pending=function(){var t=new E(p);return new w(t)},E.cast=function(t){var e=v(t);if(!(e instanceof E)){var n=e;(e=new E(p))._fulfillUnchecked(n)}return e},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(t){var e=new E(p);return e._captureStackTrace(),e._rejectCallback(t,!0),e},E.setScheduler=function(t){if("function"!=typeof t)throw new f("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=c._schedule;return c._schedule=t,e},E.prototype._then=function(t,e,n,r,o){var a=void 0!==o,s=a?o:new E(p);a||(s._propagateFrom(this,5),s._captureStackTrace());var l=this._target();l!==this&&(void 0===r&&(r=this._boundTo),a||s._setIsMigrated());var u=l._addCallbacks(t,e,n,s,r,i());return l._isResolved()&&!l._isSettlePromisesQueued()&&c.invoke(l._settlePromiseAtPostResolution,l,u),s},E.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},E.prototype._length=function(){return 131071&this._bitField},E.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},E.prototype._isFollowing=function(){return 536870912==(536870912&this._bitField)},E.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},E.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},E.prototype._setRejected=function(){this._bitField=134217728|this._bitField},E.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},E.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},E.prototype._isFinal=function(){return(33554432&this._bitField)>0},E.prototype._cancellable=function(){return(67108864&this._bitField)>0},E.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},E.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},E.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},E.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},E.prototype._isMigrated=function(){return(4194304&this._bitField)>0},E.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];if(e!==l)return void 0===e&&this._isBound()?this._boundValue():e},E.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},E.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},E.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},E.prototype._boundValue=function(){var t=this._boundTo;return void 0!==t&&t instanceof E?t.isFulfilled()?t.value():void 0:t},E.prototype._migrateCallbacks=function(t,e){var n=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),r=t._progressHandlerAt(e),o=t._promiseAt(e),a=t._receiverAt(e);o instanceof E&&o._setIsMigrated(),void 0===a&&(a=l),this._addCallbacks(n,i,r,o,a,null)},E.prototype._addCallbacks=function(t,e,n,i,r,o){var a=this._length();if(a>=131066&&(a=0,this._setLength(0)),0===a)this._promise0=i,void 0!==r&&(this._receiver0=r),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e)),"function"==typeof n&&(this._progressHandler0=null===o?n:o.bind(n));else{var s=5*a-5;this[s+3]=i,this[s+4]=r,"function"==typeof t&&(this[s+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[s+1]=null===o?e:o.bind(e)),"function"==typeof n&&(this[s+2]=null===o?n:o.bind(n))}return this._setLength(a+1),a},E.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var i=5*n-5;this[i+3]=e,this[i+4]=t}this._setLength(n+1)},E.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},E.prototype._resolveCallback=function(t,e){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var n=v(t,this);if(!(n instanceof E))return this._fulfill(t);var i=1|(e?4:0);this._propagateFrom(n,i);var o=n._target();if(o._isPending()){for(var a=this._length(),s=0;s<a;++s)o._migrateCallbacks(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else o._isFulfilled()?this._fulfillUnchecked(o._value()):this._rejectUnchecked(o._reason(),o._getCarriedStackTrace())}},E.prototype._rejectCallback=function(t,e,n){n||s.markAsOriginatingFromRejection(t);var i=s.ensureErrorObject(t),r=i===t;this._attachExtraTrace(i,!!e&&r),this._reject(t,r?void 0:i)},E.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,i=j(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==i&&i===k&&null!==e&&(e._rejectCallback(i.e,!0,!0),e=null)},E.prototype._settlePromiseFromHandler=function(t,e,n,i){var o;if(!i._isRejected())if(i._pushContext(),o=e!==h||this._isRejected()?j(t).call(e,n):j(t).apply(this._boundValue(),n),i._popContext(),o===k||o===i||o===d){var a=o===i?r():o.e;i._rejectCallback(a,!1,!0)}else i._resolveCallback(o)},E.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},E.prototype._followee=function(){return this._rejectionHandler0},E.prototype._setFollowee=function(t){this._rejectionHandler0=t},E.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},E.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},E.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},E.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},E.prototype._settlePromiseAt=function(t){var e=this._promiseAt(t),n=e instanceof E;if(n&&e._isMigrated())return e._unsetIsMigrated(),c.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),r=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,o=this._settledValue,a=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?n?this._settlePromiseFromHandler(i,a,o,e):i.call(a,o,e):a instanceof _?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(o,e):a._promiseRejected(o,e)):n&&(this._isFulfilled()?e._fulfill(o):e._reject(o,r)),t>=4&&4==(31&t)&&c.invokeLater(this._setLength,this,0)},E.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},E.prototype._isSettlePromisesQueued=function(){return-1073741824==(-1073741824&this._bitField)},E.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},E.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},E.prototype._queueSettlePromises=function(){c.settlePromises(this),this._setSettlePromisesQueued()},E.prototype._fulfillUnchecked=function(t){if(t===this){var e=r();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},E.prototype._rejectUncheckedCheckError=function(t){var e=s.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},E.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?c.throwLater(function(t){throw"stack"in t&&c.invokeFirst(m.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled())},E.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},s.notEnumerableProp(E,"_makeSelfResolutionError",r),t("./progress.js")(E,_),t("./method.js")(E,p,v,a),t("./bind.js")(E,p,v),t("./finally.js")(E,d,v),t("./direct_resolve.js")(E),t("./synchronous_inspection.js")(E),t("./join.js")(E,_,v,p),E.version="2.11.0",E.Promise=E,t("./map.js")(E,_,a,v,p),t("./cancel.js")(E),t("./using.js")(E,a,v,y),t("./generators.js")(E,a,p,v),t("./nodeify.js")(E),t("./call_get.js")(E),t("./props.js")(E,_,v,a),t("./race.js")(E,p,v,a),t("./reduce.js")(E,_,a,v,p),t("./settle.js")(E,_),t("./some.js")(E,_,a),t("./promisify.js")(E,p),t("./any.js")(E),t("./each.js")(E,p),t("./timers.js")(E,p),t("./filter.js")(E,p),s.toFastProperties(E),s.toFastProperties(E.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new E(p)),m.setBounds(c.firstLineError,s.lastLineError),E}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.isArray;function s(t){var i,r=this._promise=new e(n);t instanceof e&&(i=t,r._propagateFrom(i,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=i(this._values,this._promise);if(s instanceof e){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(t,this._reject,void 0,this,o):void this._reject(s._reason());if(s=s._value(),!a(s)){var l=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(l)}}else if(!a(s))return void this._promise._reject(r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0!==s.length){var c=this.getActualLength(s.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var u=this._promise,f=0;f<c;++f){var p=this._isResolved(),h=i(s[f],u);h instanceof e?(h=h._target(),p?h._ignoreRejections():h._isPending()?h._proxyPromiseArray(this,f):h._isFulfilled()?this._promiseFulfilled(h._value(),f):this._promiseRejected(h._reason(),f)):p||this._promiseFulfilled(h,f)}}else-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(t){case-2:return[];case-3:return{}}}(o))},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t,e){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e,n){"use strict";var i,r=t("./util.js"),o=r.maybeWrapAsError,a=t("./errors.js"),s=a.TimeoutError,l=a.OperationalError,c=r.haveGetters,u=t("./es5.js"),f=/^(?:name|message|stack|cause)$/;function p(t){var e;if(function(t){return t instanceof Error&&u.getPrototypeOf(t)===Error.prototype}(t)){(e=new l(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=u.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return r.markAsOriginatingFromRejection(t),t}function h(t){return function(e,n){if(null!==t){if(e){var i=p(o(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var r=arguments.length,a=new Array(r-1),s=1;s<r;++s)a[s-1]=arguments[s];t._fulfill(a)}else t._fulfill(n);t=null}}}if(i=c?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=h(t),this.callback=this.asCallback},c){var d={get:function(){return h(this.promise)}};u.defineProperty(i.prototype,"asCallback",d),u.defineProperty(i.prototype,"callback",d)}i._nodebackForPromise=h,i.prototype.toString=function(){return"[object PromiseResolver]"},i.prototype.resolve=i.prototype.fulfill=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},i.prototype.reject=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},i.prototype.progress=function(t){if(!(this instanceof i))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},i.prototype.cancel=function(t){this.promise.cancel(t)},i.prototype.timeout=function(){this.reject(new s("timeout"))},i.prototype.isResolved=function(){return this.promise.isResolved()},i.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=i},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e,n){"use strict";e.exports=function(e,n){var i={},r=t("./util.js"),o=t("./promise_resolver.js")._nodebackForPromise,a=r.withAppended,s=r.maybeWrapAsError,l=r.canEvaluate,c=t("./errors").TypeError,u={__isPromisified__:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),p=function(t){return r.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function h(t){return!f.test(t)}function d(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function v(t,e,n){var i=r.getDataPropertyOrDefault(t,e+n,u);return!!i&&d(i)}function _(t,e,n,i){for(var o=r.inheritedDataKeys(t),a=[],s=0;s<o.length;++s){var l=o[s],u=t[l],f=i===p||p(l,u,t);"function"!=typeof u||d(u)||v(t,l,e)||!i(l,u,t,f)||a.push(l,u)}return function(t,e,n){for(var i=0;i<t.length;i+=2){var r=t[i];if(n.test(r))for(var o=r.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}(a,e,n),a}var m=function(t){return t.replace(/([$])/,"\\$")},g=l?void 0:function(t,l,c,u){var f=function(){return this}(),p=t;function h(){var r=l;l===i&&(r=this);var c=new e(n);c._captureStackTrace();var u="string"==typeof p&&this!==f?this[p]:t,h=o(c);try{u.apply(r,a(arguments,h))}catch(t){c._rejectCallback(s(t),!0,!0)}return c}return"string"==typeof p&&(t=u),r.notEnumerableProp(h,"__isPromisified__",!0),h};function y(t,e,n,o){for(var a=new RegExp(m(e)+"$"),s=_(t,e,a,n),l=0,c=s.length;l<c;l+=2){var u=s[l],f=s[l+1],p=u+e;if(o===g)t[p]=g(u,i,u,f,e);else{var h=o(f,function(){return g(u,i,u,f,e)});r.notEnumerableProp(h,"__isPromisified__",!0),t[p]=h}}return r.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(d(t))return t;var n=function(t,e){return g(t,e,void 0,t)}(t,arguments.length<2?i:e);return r.copyDescriptors(t,n,h),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");var n=(e=Object(e)).suffix;"string"!=typeof n&&(n="Async");var i=e.filter;"function"!=typeof i&&(i=p);var o=e.promisifier;if("function"!=typeof o&&(o=g),!r.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var a=r.inheritedDataKeys(t),s=0;s<a.length;++s){var l=t[a[s]];"constructor"!==a[s]&&r.isClass(l)&&(y(l.prototype,n,i,o),y(l,n,i,o))}return y(t,n,i,o)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js"),a=o.isObject,s=t("./es5.js");function l(t){for(var e=s.keys(t),n=e.length,i=new Array(2*n),r=0;r<n;++r){var o=e[r];i[r]=t[o],i[r+n]=o}this.constructor$(i)}function c(t){var n,o=i(t);return a(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof e&&n._propagateFrom(o,4),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}o.inherits(l,n),l.prototype._init=function(){this._init$(void 0,-3)},l.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var i={},r=this.length(),o=0,a=this.length();o<a;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}},l.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return c(this)},e.props=function(t){return c(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e,n){"use strict";function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&e-1^e)-e;this[i]=t,this._front=i,this._length=this.length()+1},i.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=t,this[r+1&o]=e,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,r=n+i&e-1;!function(t,e,n,i,r){for(var o=0;o<r;++o)n[o+i]=t[o+e],t[o+e]=void 0}(this,0,this,e,r)},e.exports=i},{}],29:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./util.js").isArray,a=function(t){return t.then(function(e){return s(e,t)})};function s(t,s){var l=i(t);if(l instanceof e)return a(l);if(!o(t))return r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new e(n);void 0!==s&&c._propagateFrom(s,5);for(var u=c._fulfill,f=c._reject,p=0,h=t.length;p<h;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(u,f,void 0,c,null)}return c}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util.js":38}],30:[function(t,e,n){"use strict";e.exports=function(e,n,i,r,o){var a=e._getDomain,s=t("./async.js"),l=t("./util.js"),c=l.tryCatch,u=l.errorObj;function f(t,n,i,l){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=l===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var c=r(i,this._promise),u=!1,f=c instanceof e;f&&((c=c._target())._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(i=c._value(),this._gotAccum=!0):(this._reject(c._reason()),u=!0)),f||this._zerothIsAccum||(this._gotAccum=!0);var h=a();this._callback=null===h?n:h.bind(n),this._accum=i,u||s.invoke(p,this,void 0)}function p(){this._init$(void 0,-5)}function h(t,e,n,r){if("function"!=typeof e)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new f(t,e,n,r);return o.promise()}l.inherits(f,n),f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},f.prototype._promiseFulfilled=function(t,n){var i=this._values;i[n]=t;var o,a=this.length(),s=this._preservedValues,l=null!==s,f=this._gotAccum,p=this._valuesPhase;if(!p)for(p=this._valuesPhase=new Array(a),o=0;o<a;++o)p[o]=0;if(o=p[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=f=!0,p[n]=0===o?1:2):-1===n?(this._accum=t,this._gotAccum=f=!0):0===o?p[n]=1:(p[n]=2,this._accum=t),f){for(var h,d=this._callback,v=this._promise._boundValue(),_=this._reducingIndex;_<a;++_)if(2!==(o=p[_])){if(1!==o)return;if(t=i[_],this._promise._pushContext(),l?(s.push(t),h=c(d).call(v,t,_,a)):h=c(d).call(v,this._accum,t,_,a),this._promise._popContext(),h===u)return this._reject(h.e);var m=r(h,this._promise);if(m instanceof e){if((m=m._target())._isPending())return p[_]=4,m._proxyPromiseArray(this,_);if(!m._isFulfilled())return this._reject(m._reason());h=m._value()}this._reducingIndex=_+1,this._accum=h}else this._reducingIndex=_+1;this._resolve(l?s:this._accum)}},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,i){return h(t,e,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(t,r,o){"use strict";var a,s=t("./util");if(s.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,c=e.nextTick;a=s.isRecentNode?function(t){l.call(n,t)}:function(t){c.call(e,t)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?a=void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}:(a=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}}).isStatic=!0;r.exports=a},{"./util":38}],32:[function(t,e,n){"use strict";e.exports=function(e,n){var i=e.PromiseInspection,r=t("./util.js");function o(t){this.constructor$(t)}r.inherits(o,n),o.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},o.prototype._promiseFulfilled=function(t,e){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new o(t).promise()},e.prototype.settle=function(){return new o(this).promise()}}},{"./util.js":38}],33:[function(t,e,n){"use strict";e.exports=function(e,n,i){var r=t("./util.js"),o=t("./errors.js").RangeError,a=t("./errors.js").AggregateError,s=r.isArray;function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new l(t),r=n.promise();return n.setHowMany(e),n.init(),r}r.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},l.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new a,n=this.length();n<this._values.length;++n)e.push(this._values[n]);this._reject(e)}},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=l}},{"./errors.js":13,"./util.js":38}],34:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0==(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=i.errorObj,o=i.isObject;function a(t){return t.then}var s={}.hasOwnProperty;return function(t,l){if(o(t)){if(t instanceof e)return t;if(function(t){return s.call(t,"_promise0")}(t)){var c=new e(n);return t._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var u=i.tryCatch(a)(t);if(u===r){l&&l._pushContext();var c=e.reject(u.e);return l&&l._popContext(),c}if("function"==typeof u)return function(t,o,a){var s=new e(n),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,u=i.tryCatch(o).call(t,function(t){s&&(s._resolveCallback(t),s=null)},function(t){s&&(s._rejectCallback(t,c,!0),s=null)},function(t){s&&"function"==typeof s._progress&&s._progress(t)});return c=!1,s&&u===r&&(s._rejectCallback(u.e,!0,!0),s=null),l}(t,u,l)}return t}}},{"./util.js":38}],36:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util.js"),r=e.TimeoutError,o=function(t){return a(+this).thenReturn(t)},a=e.delay=function(t,i){if(void 0===i){i=t,t=void 0;var r=new e(n);return setTimeout(function(){r._fulfill()},i),r}return i=+i,e.resolve(t)._then(o,null,null,i,void 0)};function s(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function l(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}e.prototype.delay=function(t){return a(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){!function(t,e){var n;t.isPending()&&(!i.isPrimitive(e)&&e instanceof Error?n=e:("string"!=typeof e&&(e="operation timed out"),n=new r(e)),i.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n))}(n,e)},t);return n._then(s,l,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e,n){"use strict";e.exports=function(e,n,i,r){var o=t("./errors.js").TypeError,a=t("./util.js").inherits,s=e.PromiseInspection;function l(t){for(var n=t.length,i=0;i<n;++i){var r=t[i];if(r.isRejected())return e.reject(r.error());t[i]=r._settledValue}return t}function c(t){setTimeout(function(){throw t},0)}function u(t,n){var r=0,o=t.length,a=e.defer();return function s(){if(r>=o)return a.resolve();var l=function(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[r++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(t){return c(t)}if(l instanceof e)return l._then(s,c,null,null,null)}s()}(),a.promise}function f(t){var e=new s;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function p(t){var e=new s;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function h(t,e,n){this._data=t,this._promise=e,this._context=n}function d(t,e,n){this.constructor$(t,e,n)}function v(t){return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},h.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},a(d,h),d.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var r,o=arguments[t-1];if("function"!=typeof o)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var a=!0;2===t&&Array.isArray(arguments[0])?(r=arguments[0],t=r.length,a=!1):(r=arguments,t--);for(var s=new Array(t),c=0;c<t;++c){var u=r[c];if(h.isDisposer(u)){var d=u;(u=u.promise())._setDisposable(d)}else{var _=i(u);_ instanceof e&&(u=_._then(v,null,null,{resources:s,index:c},void 0))}s[c]=u}var m=e.settle(s).then(l).then(function(t){var e;m._pushContext();try{e=a?o.apply(void 0,t):o.call(void 0,t)}finally{m._popContext()}return e})._then(f,p,void 0,s,void 0);return s.promise=m,m},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new d(t,this,r());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(t,n,i){"use strict";var r=t("./es5.js"),o="undefined"==typeof navigator,a=function(){try{var t={};return r.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),s={e:{}},l;function c(){try{var t=l;return l=null,t.apply(this,arguments)}catch(t){return s.e=t,s}}function u(t){return l=t,c}var f=function(t,e){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=e.prototype[i])}return i.prototype=e.prototype,t.prototype=new i,t.prototype};function p(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t){return!p(t)}function d(t){return p(t)?new Error(A(t)):t}function v(t,e){var n,i=t.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=t[n];return r[n]=e,r}function _(t,e,n){if(!r.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var i=Object.getOwnPropertyDescriptor(t,e);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function m(t,e,n){if(p(t))return t;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(t,e,i),t}function g(t){throw t}var y=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(r.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],o=Object.create(null);null!=t&&!e(t);){var a;try{a=n(t)}catch(t){return i}for(var s=0;s<a.length;++s){var l=a[s];if(!o[l]){o[l]=!0;var c=Object.getOwnPropertyDescriptor(t,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}t=r.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<t.length;++a)if(i.call(t[a],o))continue t;r.push(o)}return r}}(),b=/this\s*\.\s*\S+\s*=/;function w(t){try{if("function"==typeof t){var e=r.names(t.prototype),n=r.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),o=b.test(t+"")&&r.names(t).length>0;if(n||i||o)return!0}return!1}catch(t){return!1}}function x(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}var k=/^[a-z$_][a-z$_0-9]*$/i;function j(t){return k.test(t)}function E(t,e,n){for(var i=new Array(t),r=0;r<t;++r)i[r]=e+r+n;return i}function A(t){try{return t+""}catch(t){return"[no string representation]"}}function T(t){try{m(t,"isOperational",!0)}catch(t){}}function P(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function S(t){return t instanceof Error&&r.propertyIsWritable(t,"stack")}var R="stack"in new Error?function(t){return S(t)?t:new Error(A(t))}:function(t){if(S(t))return t;try{throw new Error(A(t))}catch(t){return t}};function F(t){return{}.toString.call(t)}function C(t,e,n){for(var i=r.names(t),o=0;o<i.length;++o){var a=i[o];if(n(a))try{r.defineProperty(e,a,r.getDescriptor(t,a))}catch(t){}}}var I={isClass:w,isIdentifier:j,inheritedDataKeys:y,getDataPropertyOrDefault:_,thrower:g,isArray:r.isArray,haveGetters:a,notEnumerableProp:m,isPrimitive:p,isObject:h,canEvaluate:o,errorObj:s,tryCatch:u,inherits:f,withAppended:v,maybeWrapAsError:d,toFastProperties:x,filledRange:E,toString:A,canAttachTrace:S,ensureErrorObject:R,originatesFromRejection:P,markAsOriginatingFromRejection:T,classString:F,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:void 0!==e&&"[object process]"===F(e).toLowerCase()};I.isRecentNode=I.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),I.isNode&&I.toFastProperties(e);try{throw new Error}catch(t){I.lastLineError=t}n.exports=I},{"./es5.js":14}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(1),n(2),n(11).setImmediate)},function(t,e,n){"use strict";t.exports=function(){this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[],this.play=function(){r||o||(this.rewind(),r=!0,requestAnimationFrame(s))},this.rewind=function(){e=0,n=0,i=null,r=!1,o=!1},this.addContext=function(t){if(a.length>0){var e=a[0].getImageData(0,0,this.width,this.height);t.putImageData(e,0,0)}a.push(t),t._apng_animation=this},this.removeContext=function(t){var e=a.indexOf(t);-1!==e&&(a.splice(e,1),0===a.length&&this.rewind(),"_apng_animation"in t&&delete t._apng_animation)},this.isPlayed=function(){return r},this.isFinished=function(){return o};var t=this,e=0,n=0,i=null,r=!1,o=!1,a=[],s=function(t){for(;r&&e<=t;)l(t);r&&requestAnimationFrame(s)},l=function(s){var l=n++%t.frames.length,c=t.frames[l];if(0==l&&(a.forEach(function(e){e.clearRect(0,0,t.width,t.height)}),i=null,2==c.disposeOp&&(c.disposeOp=1)),i&&1==i.disposeOp?a.forEach(function(t){t.clearRect(i.left,i.top,i.width,i.height)}):i&&2==i.disposeOp&&a.forEach(function(t){t.putImageData(i.iData,i.left,i.top)}),(i=c).iData=null,2==i.disposeOp&&(i.iData=a[0].getImageData(c.left,c.top,c.width,c.height)),0==c.blendOp&&a.forEach(function(t){t.clearRect(c.left,c.top,c.width,c.height)}),a.forEach(function(t){t.drawImage(c.img,c.left,c.top)}),0==t.numPlays||n/t.frames.length<t.numPlays){for(0==e&&(e=s);s>e+t.playTime;)e+=t.playTime;e+=c.delay}else r=!1,o=!1}}},function(t,e,n){"use strict";for(var i=new Uint32Array(256),r=0;r<256;r++){for(var o=r,a=0;a<8;a++)o=1&o?3988292384^o>>>1:o>>>1;i[r]=o}t.exports=function(t,e,n){for(var r=-1,o=e=e||0,a=e+(n=n||t.length-e);o<a;o++)r=r>>>8^i[255&(r^t[o])];return-1^r}},function(t,e,n){var i=n(73),r=n(74);t.exports={encode:i,decode:r}},function(t,e,n){(function(e){function n(t){this.buffer=t.data,this.width=t.width,this.height=t.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}n.prototype.encode=function(){var t=new e(this.offset+this.rgbSize);this.pos=0,t.write(this.flag,this.pos,2),this.pos+=2,t.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,t.writeUInt32LE(this.reserved,this.pos),this.pos+=4,t.writeUInt32LE(this.offset,this.pos),this.pos+=4,t.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,t.writeUInt32LE(this.width,this.pos),this.pos+=4,t.writeUInt32LE(this.height,this.pos),this.pos+=4,t.writeUInt16LE(this.planes,this.pos),this.pos+=2,t.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,t.writeUInt32LE(this.compress,this.pos),this.pos+=4,t.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,t.writeUInt32LE(this.hr,this.pos),this.pos+=4,t.writeUInt32LE(this.vr,this.pos),this.pos+=4,t.writeUInt32LE(this.colors,this.pos),this.pos+=4,t.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var n=0,i=3*this.width+this.extraBytes,r=this.height-1;r>=0;r--){for(var o=0;o<this.width;o++){var a=this.pos+r*i+3*o;t[a+2]=this.buffer[n++],t[a+1]=this.buffer[n++],t[a]=this.buffer[n++],n++}if(this.extraBytes>0){var s=this.pos+r*i+3*this.width;t.fill(0,s,s+this.extraBytes)}}return t},t.exports=encode=function(t,e){return void 0===e&&(e=100),{data:new n(t).encode(),width:t.width,height:t.height}}}).call(this,n(0).Buffer)},function(t,e,n){(function(e){function n(t){if(this.pos=0,this.buffer=t,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),"BM"!=this.flag)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}n.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP<24){var t=1<<this.bitPP;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),o=this.buffer.readUInt8(this.pos++);this.palette[e]={red:r,green:i,blue:n,quad:o}}}},n.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,n=this.width*this.height*4;this.data=new e(n),this[t]()}catch(t){console.log("bit decode error:"+t)}},n.prototype.bit1=function(){for(var t=Math.ceil(this.width/8),e=t%4,n=this.height-1;n>=0;n--){for(var i=0;i<t;i++)for(var r=this.buffer.readUInt8(this.pos++),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var s=this.palette[r>>7-a&1];this.data[o+4*a]=s.blue,this.data[o+4*a+1]=s.green,this.data[o+4*a+2]=s.red,this.data[o+4*a+3]=255}0!=e&&(this.pos+=4-e)}},n.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=0;i<t;i++){var r=this.buffer.readUInt8(this.pos++),o=n*this.width*4+2*i*4,a=r>>4,s=15&r,l=this.palette[a];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[s],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}0!=e&&(this.pos+=4-e)}},n.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=0;n<this.width;n++){var i=this.buffer.readUInt8(this.pos++),r=e*this.width*4+4*n,o=this.palette[i];this.data[r]=o.blue,this.data[r+1]=o.green,this.data[r+2]=o.red,this.data[r+3]=255}0!=t&&(this.pos+=4-t)}},n.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=0;e<this.width;e++){var n=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),r=this.buffer.readUInt8(this.pos++),o=t*this.width*4+4*e;this.data[o]=r,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},n.prototype.getData=function(){return this.data},t.exports=decode=function(t){var e=new n(t);return{data:e.getData(),width:e.width,height:e.height}}}).call(this,n(0).Buffer)},function(t,e,n){"use strict";n.r(e);var i=n(3),r=n(27),o=n(28),a=n(29),s=n(30),l={};function c(t){if(!t)throw Error("assert :P")}function u(t,e,n){for(var i=0;4>i;i++)if(t[e+i]!=n.charCodeAt(i))return!0;return!1}function f(t,e,n,i,r){for(var o=0;o<r;o++)t[e+o]=n[i+o]}function p(t,e,n,i){for(var r=0;r<i;r++)t[e+r]=n}function h(t){return new Int32Array(t)}function d(t,e){for(var n=[],i=0;i<t;i++)n.push(new e);return n}function v(t,e){var n=[];return function t(n,i,r){for(var o=r[i],a=0;a<o&&(n.push(r.length>i+1?[]:new e),!(r.length<i+1));a++)t(n[a],i+1,r)}(n,0,t),n}function _(){function t(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function e(t,e,n,i,r){c(!(i%n));do{t[e+(i-=n)]=r}while(0<i)}function n(n,r,o,a,s){if(c(2328>=s),512>=s)var l=h(512);else if(null==(l=h(s)))return 0;return function(n,r,o,a,s,l){var u,f,p=r,d=1<<o,v=h(16),_=h(16);for(c(0!=s),c(null!=a),c(null!=n),c(0<o),f=0;f<s;++f){if(15<a[f])return 0;++v[a[f]]}if(v[0]==s)return 0;for(_[1]=0,u=1;15>u;++u){if(v[u]>1<<u)return 0;_[u+1]=_[u]+v[u]}for(f=0;f<s;++f)u=a[f],0<a[f]&&(l[_[u]++]=f);if(1==_[15])return(a=new i).g=0,a.value=l[0],e(n,p,1,d,a),d;var m,g=-1,y=d-1,b=0,w=1,x=1,k=1<<o;for(f=0,u=1,s=2;u<=o;++u,s<<=1){if(w+=x<<=1,0>(x-=v[u]))return 0;for(;0<v[u];--v[u])(a=new i).g=u,a.value=l[f++],e(n,p+b,s,k,a),b=t(b,u)}for(u=o+1,s=2;15>=u;++u,s<<=1){if(w+=x<<=1,0>(x-=v[u]))return 0;for(;0<v[u];--v[u]){if(a=new i,(b&y)!=g){for(p+=k,m=1<<(g=u)-o;15>g&&!(0>=(m-=v[g]));)++g,m<<=1;d+=k=1<<(m=g-o),n[r+(g=b&y)].g=m+o,n[r+g].value=p-r-g}a.g=u-o,a.value=l[f++],e(n,p+(b>>o),s,k,a),b=t(b,u)}}return w!=2*_[15]-1?0:d}(n,r,o,a,s,l)}function i(){this.value=this.g=0}function r(){this.value=this.g=0}function o(){this.G=d(5,i),this.H=h(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(jn,r)}function a(t,e,n,i){c(null!=t),c(null!=e),c(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=e,t.pa=n,t.Jd=e,t.Yc=n+i,t.Zc=4<=i?n+i-4+1:n,A(t)}function s(t,e){for(var n=0;0<e--;)n|=P(t,128)<<e;return n}function _(t,e){var n=s(t,e);return T(t)?-n:n}function m(t,e,n,i){var r,o=0;for(c(null!=t),c(null!=e),c(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),r=0;r<i;++r)o+=e[n+r]<<8*r;t.Ra=o,t.bb=i,t.oa=e,t.pa=n}function g(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Tn-8>>>0,++t.bb,t.u-=8;k(t)&&(t.h=1,t.u=0)}function y(t,e){if(c(0<=e),!t.h&&e<=An){var n=x(t)&En[e];return t.u+=e,g(t),n}return t.h=1,t.u=0}function b(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(t){return t.Ra>>>(t.u&Tn-1)>>>0}function k(t){return c(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Tn}function j(t,e){t.u=e,t.h=k(t)}function E(t){t.u>=Pn&&(c(t.u>=Pn),g(t))}function A(t){c(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(c(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function T(t){return s(t,1)}function P(t,e){var n=t.Ca;0>t.b&&A(t);var i=t.b,r=n*e>>>8,o=(t.I>>>i>r)+0;for(o?(n-=r,t.I-=r+1<<i>>>0):n=r+1,i=n,r=0;256<=i;)r+=8,i>>=8;return i=7^r+Sn[i],t.b-=i,t.Ca=(n<<i)-1,o}function S(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255}function R(t,e){return t[e+0]<<0|t[e+1]<<8}function F(t,e){return R(t,e)|t[e+2]<<16}function C(t,e){return R(t,e)|R(t,e+2)<<16}function I(t,e){var n=1<<e;return c(null!=t),c(0<e),t.X=h(n),null==t.X?0:(t.Mb=32-e,t.Xa=e,1)}function L(t,e){c(null!=t),c(null!=e),c(t.Xa==e.Xa),f(e.X,0,t.X,0,1<<e.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function U(t,e,n,i){c(null!=n),c(null!=i);var r=n[0],o=i[0];return 0==r&&(r=(t*o+e/2)/e),0==o&&(o=(e*r+t/2)/t),0>=r||0>=o?0:(n[0]=r,i[0]=o,1)}function D(t,e){return t+(1<<e)-1>>>e}function z(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function B(t,e){l[e]=function(e,n,i,r,o,a,s){var c;for(c=0;c<o;++c){var u=l[t](a[s+c-1],i,r+c);a[s+c]=z(e[n+c],u)}}}function M(){this.ud=this.hd=this.jd=0}function N(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function H(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function V(t,e){return H(t+(t-e+.5>>1))}function Z(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function q(t,e,n,i,r,o,a){for(i=o[a-1],n=0;n<r;++n)o[a+n]=i=z(t[e+n],i)}function W(t,e,n,i,r){var o;for(o=0;o<n;++o){var a=t[e+o],s=a>>8&255,l=16711935&(l=(l=16711935&a)+((s<<16)+s));i[r+o]=(4278255360&a)+l>>>0}}function Y(t,e){e.jd=t>>0&255,e.hd=t>>8&255,e.ud=t>>16&255}function G(t,e,n,i,r,o){var a;for(a=0;a<i;++a){var s=e[n+a],l=s>>>8,c=s,u=255&(u=(u=s>>>16)+((t.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c=c+((t.hd<<24>>24)*(l<<24>>24)>>>5))+((t.ud<<24>>24)*(u<<24>>24)>>>5));r[o+a]=(4278255360&s)+(u<<16)+c}}function $(t,e,n,i,r){l[e]=function(t,e,n,o,a,s,l,c,u){for(o=l;o<c;++o)for(l=0;l<u;++l)a[s++]=r(n[i(t[e++])])},l[t]=function(t,e,o,a,s,c,u){var f=8>>t.b,p=t.Ea,h=t.K[0],d=t.w;if(8>f)for(t=(1<<t.b)-1,d=(1<<f)-1;e<o;++e){var v,_=0;for(v=0;v<p;++v)v&t||(_=i(a[s++])),c[u++]=r(h[_&d]),_>>=f}else l["VP8LMapColor"+n](a,s,h,d,c,u,e,o,p)}}function J(t,e,n,i,r){for(n=e+n;e<n;){var o=t[e++];i[r++]=o>>16&255,i[r++]=o>>8&255,i[r++]=o>>0&255}}function Q(t,e,n,i,r){for(n=e+n;e<n;){var o=t[e++];i[r++]=o>>16&255,i[r++]=o>>8&255,i[r++]=o>>0&255,i[r++]=o>>24&255}}function X(t,e,n,i,r){for(n=e+n;e<n;){var o=(a=t[e++])>>16&240|a>>12&15,a=a>>0&240|a>>28&15;i[r++]=o,i[r++]=a}}function K(t,e,n,i,r){for(n=e+n;e<n;){var o=(a=t[e++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;i[r++]=o,i[r++]=a}}function tt(t,e,n,i,r){for(n=e+n;e<n;){var o=t[e++];i[r++]=o>>0&255,i[r++]=o>>8&255,i[r++]=o>>16&255}}function et(t,e,n,i,r,o){if(0==o)for(n=e+n;e<n;)S(i,((o=t[e++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),r+=32;else f(i,r,t,e,n)}function nt(t,e){l[e][0]=l[t+"0"],l[e][1]=l[t+"1"],l[e][2]=l[t+"2"],l[e][3]=l[t+"3"],l[e][4]=l[t+"4"],l[e][5]=l[t+"5"],l[e][6]=l[t+"6"],l[e][7]=l[t+"7"],l[e][8]=l[t+"8"],l[e][9]=l[t+"9"],l[e][10]=l[t+"10"],l[e][11]=l[t+"11"],l[e][12]=l[t+"12"],l[e][13]=l[t+"13"],l[e][14]=l[t+"0"],l[e][15]=l[t+"0"]}function it(t){return t==Pi||t==Si||t==Ri||t==Fi}function rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new function(){this.eb=[],this.size=this.A=this.fb=0},this.f.kb=new function(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0},this.sd=null}function ot(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function at(t,e){var n=t.T,i=e.ba.f.RGBA,r=i.eb,o=i.fb+t.ka*i.A,a=nr[e.ba.S],s=t.y,l=t.O,c=t.f,u=t.N,p=t.ea,h=t.W,d=e.cc,v=e.dc,_=e.Mc,m=e.Nc,g=t.ka,y=t.ka+t.T,b=t.U,w=b+1>>1;for(0==g?a(s,l,null,null,c,u,p,h,c,u,p,h,r,o,null,null,b):(a(e.ec,e.fc,s,l,d,v,_,m,c,u,p,h,r,o-i.A,r,o,b),++n);g+2<y;g+=2)d=c,v=u,_=p,m=h,u+=t.Rc,h+=t.Rc,o+=2*i.A,a(s,(l+=2*t.fa)-t.fa,s,l,d,v,_,m,c,u,p,h,r,o-i.A,r,o,b);return l+=t.fa,t.j+y<t.o?(f(e.ec,e.fc,s,l,b),f(e.cc,e.dc,c,u,w),f(e.Mc,e.Nc,p,h,w),n--):1&y||a(s,l,null,null,c,u,p,h,c,u,p,h,r,o+i.A,null,null,b),n}function st(t,e,n){var i=t.F,r=[t.J];if(null!=i){var o=t.U,a=e.ba.S,s=a==Ei||a==Ri;e=e.ba.f.RGBA;var l=[0],u=t.ka;l[0]=t.T,t.Kb&&(0==u?--l[0]:(--u,r[0]-=t.width),t.j+t.ka+t.T==t.o&&(l[0]=t.o-t.j-u));var f=e.eb;u=e.fb+u*e.A;t=ui(i,r[0],t.width,o,l,f,u+(s?0:3),e.A),c(n==l),t&&it(a)&&li(f,u,s,o,l,e.A)}return 0}function lt(t){var e=t.ma,n=e.ba.S,i=11>n,r=n==xi||n==ji||n==Ei||n==Ai||12==n||it(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!wn(e.Oa,t,r?11:12))return 0;if(r&&it(n)&&rn(),t.da)alert("todo:use_scaling");else{if(i){if(e.Ib=ot,t.Kb){if(n=t.U+1>>1,e.memory=h(t.U+2*n),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=at,rn()}}else alert("todo:EmitYUV");r&&(e.Jb=st,i&&en())}if(i&&!_r){for(t=0;256>t;++t)mr[t]=89858*(t-128)+fr>>ur,br[t]=-22014*(t-128)+fr,yr[t]=-45773*(t-128),gr[t]=113618*(t-128)+fr>>ur;for(t=pr;t<hr;++t)e=76283*(t-16)+fr>>ur,wr[t-pr]=Ot(e,255),xr[t-pr]=Ot(e+8>>4,15);_r=1}return 1}function ct(t){var e=t.ma,n=t.U,i=t.T;return c(!(1&t.ka)),0>=n||0>=i?0:(n=e.Ib(t,e),null!=e.Jb&&e.Jb(t,e,n),e.Dc+=n,1)}function ut(t){t.ma.memory=null}function ft(t,e,n,i){return 47!=y(t,8)?0:(e[0]=y(t,14)+1,n[0]=y(t,14)+1,i[0]=y(t,1),0!=y(t,3)?0:!t.h)}function pt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+y(e,n)+1}function ht(t,e){return 120<e?e-120:1<=(n=((n=Di[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function dt(t,e,n){var i=x(n),r=t[e+=255&i].g-8;return 0<r&&(j(n,n.u+8),i=x(n),e+=t[e].value,e+=i&(1<<r)-1),j(n,n.u+t[e].g),t[e].value}function vt(t,e,n){return n.g+=t.g,n.value+=t.value<<e>>>0,c(8>=n.g),t.g}function _t(t,e,n){var i=t.xc;return c((e=0==i?0:t.vc[t.md*(n>>i)+(e>>i)])<t.Wb),t.Ya[e]}function mt(t,e,n,i){var r=t.ab,o=t.c*e,a=t.C;e=a+e;var s=n,l=i;for(i=t.Ta,n=t.Ua;0<r--;){var u=t.gc[r],p=a,h=e,d=s,v=l,_=(l=i,s=n,u.Ea);switch(c(p<h),c(h<=u.nc),u.hc){case 2:Cn(d,v,(h-p)*_,l,s);break;case 0:var m=p,g=h,y=l,b=s,w=(A=u).Ea;0==m&&(Rn(d,v,null,null,1,y,b),q(d,v+1,0,0,w-1,y,b+1),v+=w,b+=w,++m);for(var x=1<<A.b,k=x-1,j=D(w,A.b),E=A.K,A=A.w+(m>>A.b)*j;m<g;){var T=E,P=A,S=1;for(Fn(d,v,y,b-w,1,y,b);S<w;){var R=Dn[T[P++]>>8&15],F=(S&~k)+x;F>w&&(F=w),R(d,v+ +S,y,b+S-w,F-S,y,b+S),S=F}v+=w,b+=w,++m&k||(A+=j)}h!=u.nc&&f(l,s-_,l,s+(h-p-1)*_,_);break;case 1:for(_=d,g=v,w=(d=u.Ea)-(b=d&~(y=(v=1<<u.b)-1)),m=D(d,u.b),x=u.K,u=u.w+(p>>u.b)*m;p<h;){for(k=x,j=u,E=new M,A=g+b,T=g+d;g<A;)Y(k[j++],E),zn(E,_,g,v,l,s),g+=v,s+=v;g<T&&(Y(k[j++],E),zn(E,_,g,w,l,s),g+=w,s+=w),++p&y||(u+=m)}break;case 3:if(d==l&&v==s&&0<u.b){for(g=l,d=_=s+(h-p)*_-(b=(h-p)*D(u.Ea,u.b)),v=l,y=s,m=[],b=(w=b)-1;0<=b;--b)m[b]=v[y+b];for(b=w-1;0<=b;--b)g[d+b]=m[b];In(u,p,h,l,_,l,s)}else In(u,p,h,d,v,l,s)}s=i,l=n}l!=n&&f(i,n,s,l,o)}function gt(t,e){var n=t.V,i=t.Ba+t.c*t.C,r=e-t.C;if(c(e<=t.l.o),c(16>=r),0<r){var o=t.l,a=t.Ta,s=t.Ua,l=o.width;if(mt(t,r,n,i),r=s=[s],c((n=t.C)<(i=e)),c(o.v<o.va),i>o.o&&(i=o.o),n<o.j){var u=o.j-n;n=o.j;r[0]+=u*l}if(n>=i?n=0:(r[0]+=4*o.v,o.ka=n-o.j,o.U=o.va-o.v,o.T=i-n,n=1),n){if(s=s[0],11>(n=t.ca).S){var f=n.f.RGBA,p=(i=n.S,r=o.U,o=o.T,u=f.eb,f.A),h=o;for(f=f.fb+t.Ma*f.A;0<h--;){var d=a,v=s,_=r,m=u,g=f;switch(i){case wi:Bn(d,v,_,m,g);break;case xi:Mn(d,v,_,m,g);break;case Pi:Mn(d,v,_,m,g),li(m,g,0,_,1,0);break;case ki:Vn(d,v,_,m,g);break;case ji:et(d,v,_,m,g,1);break;case Si:et(d,v,_,m,g,1),li(m,g,0,_,1,0);break;case Ei:et(d,v,_,m,g,0);break;case Ri:et(d,v,_,m,g,0),li(m,g,1,_,1,0);break;case Ai:Nn(d,v,_,m,g);break;case Fi:Nn(d,v,_,m,g),ci(m,g,_,1,0);break;case Ti:Hn(d,v,_,m,g);break;default:c(0)}s+=l,f+=p}t.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");c(t.Ma<=n.height)}}t.C=e,c(t.C<=t.i)}function yt(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,i=t.Ya[e].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function bt(t,e,n,i,r,o){if(0!=t.Z){var a=t.qd,s=t.rd;for(c(null!=er[t.Z]);e<n;++e)er[t.Z](a,s,i,r,i,r,o),a=i,s=r,r+=o;t.qd=a,t.rd=s}}function wt(t,e){var n=t.l.ma,i=0==n.Z||1==n.Z?t.l.j:t.C;i=t.C<i?i:t.C;if(c(e<=t.l.o),e>i){var r=t.l.width,o=n.ca,a=n.tb+r*i,s=t.V,l=t.Ba+t.c*i,u=t.gc;c(1==t.ab),c(3==u[0].hc),On(u[0],i,e,s,l,o,a),bt(n,i,e,o,a,r)}t.C=t.Ma=e}function xt(t,e,n,i,r,o,a){var s=t.$/i,l=t.$%i,u=t.m,f=t.s,p=n+t.$,h=p;r=n+i*r;var d=n+i*o,v=280+f.ua,_=t.Pb?s:16777216,m=0<f.ua?f.Wa:null,g=f.wc,y=p<d?_t(f,l,s):null;c(t.C<o),c(d<=r);var b=!1;t:for(;;){for(;b||p<d;){var w=0;if(s>=_){var A=p-n;c((_=t).Pb),_.wd=_.m,_.xd=A,0<_.s.ua&&L(_.s.Wa,_.s.vb),_=s+Bi}if(l&g||(y=_t(f,l,s)),c(null!=y),y.Qb&&(e[p]=y.qb,b=!0),!b)if(E(u),y.jc){w=u,A=e;var T=p,P=y.pd[x(w)&jn-1];c(y.jc),256>P.g?(j(w,w.u+P.g),A[T]=P.value,w=0):(j(w,w.u+P.g-256),c(256<=P.value),w=P.value),0==w&&(b=!0)}else w=dt(y.G[0],y.H[0],u);if(u.h)break;if(b||256>w){if(!b)if(y.nd)e[p]=(y.qb|w<<8)>>>0;else{if(E(u),b=dt(y.G[1],y.H[1],u),E(u),A=dt(y.G[2],y.H[2],u),T=dt(y.G[3],y.H[3],u),u.h)break;e[p]=(T<<24|b<<16|w<<8|A)>>>0}if(b=!1,++p,++l>=i&&(l=0,++s,null!=a&&s<=o&&!(s%16)&&a(t,s),null!=m))for(;h<p;)w=e[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else if(280>w){if(w=pt(w-256,u),A=dt(y.G[4],y.H[4],u),E(u),A=ht(i,A=pt(A,u)),u.h)break;if(p-n<A||r-p<w)break t;for(T=0;T<w;++T)e[p+T]=e[p+T-A];for(p+=w,l+=w;l>=i;)l-=i,++s,null!=a&&s<=o&&!(s%16)&&a(t,s);if(c(p<=r),l&g&&(y=_t(f,l,s)),null!=m)for(;h<p;)w=e[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w}else{if(!(w<v))break t;for(b=w-280,c(null!=m);h<p;)w=e[h++],m.X[(506832829*w&4294967295)>>>m.Mb]=w;w=p,c(!(b>>>(A=m).Xa)),e[w]=A.X[b],b=!0}b||c(u.h==k(u))}if(t.Pb&&u.h&&p<r)c(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&L(t.s.vb,t.s.Wa);else{if(u.h)break t;null!=a&&a(t,s>o?o:s),t.a=0,t.$=p-n}return 1}return t.a=3,0}function kt(t){c(null!=t),t.vc=null,t.yc=null,t.Ya=null;var e=t.Wa;null!=e&&(e.X=null),t.vb=null,c(null!=t)}function jt(){var t=new function(){this.xb=this.a=0,this.l=new Ut,this.ca=new rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new function(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new o,this.yc=new i},this.ab=0,this.gc=d(4,We),this.Oc=0};return null==t?null:(t.a=0,t.xb=tr,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Cn=W,zn=G,Bn=J,Mn=Q,Nn=X,Hn=K,Vn=tt,l.VP8LMapColor32b=Ln,l.VP8LMapColor8b=Un,t)}function Et(t,e,r,a,s){var l=1,u=[t],f=[e],v=a.m,_=a.s,m=null,g=0;t:for(;;){if(r)for(;l&&y(v,1);){var b=u,w=f,k=a,A=1,T=k.m,P=k.gc[k.ab],S=y(T,2);if(k.Oc&1<<S)l=0;else{switch(k.Oc|=1<<S,P.hc=S,P.Ea=b[0],P.nc=w[0],P.K=[null],++k.ab,c(4>=k.ab),S){case 0:case 1:P.b=y(T,3)+2,A=Et(D(P.Ea,P.b),D(P.nc,P.b),0,k,P.K),P.K=P.K[0];break;case 3:var R,F=y(T,8)+1,C=16<F?0:4<F?1:2<F?2:3;if(b[0]=D(P.Ea,C),P.b=C,R=A=Et(F,1,0,k,P.K)){var L,O=F,U=P,B=1<<(8>>U.b),M=h(B);if(null==M)R=0;else{var N=U.K[0],H=U.w;for(M[0]=U.K[0][0],L=1;L<1*O;++L)M[L]=z(N[H+L],M[L-1]);for(;L<4*B;++L)M[L]=0;U.K[0]=null,U.K[0]=M,R=1}}A=R;break;case 2:break;default:c(0)}l=A}}if(u=u[0],f=f[0],l&&y(v,1)&&!(l=1<=(g=y(v,4))&&11>=g)){a.a=3;break t}var V;if(V=l)e:{var Z,q,W,Y=a,G=u,$=f,J=g,Q=r,X=Y.m,K=Y.s,tt=[null],et=1,nt=0,it=zi[J];n:for(;;){if(Q&&y(X,1)){var rt=y(X,3)+2,ot=D(G,rt),at=D($,rt),st=ot*at;if(!Et(ot,at,0,Y,tt))break n;for(tt=tt[0],K.xc=rt,Z=0;Z<st;++Z){var lt=tt[Z]>>8&65535;tt[Z]=lt,lt>=et&&(et=lt+1)}}if(X.h)break n;for(q=0;5>q;++q){var ct=Li[q];!q&&0<J&&(ct+=1<<J),nt<ct&&(nt=ct)}var ut=d(et*it,i),ft=et,pt=d(ft,o);if(null==pt)var ht=null;else c(65536>=ft),ht=pt;var dt=h(nt);if(null==ht||null==dt||null==ut){Y.a=1;break n}var _t=ut;for(Z=W=0;Z<et;++Z){var mt=ht[Z],gt=mt.G,yt=mt.H,bt=0,wt=1,jt=0;for(q=0;5>q;++q){ct=Li[q],gt[q]=_t,yt[q]=W,!q&&0<J&&(ct+=1<<J);i:{var At,Tt=ct,Pt=Y,St=dt,Rt=_t,Ft=W,Ct=0,It=Pt.m,Lt=y(It,1);if(p(St,0,0,Tt),Lt){var Ot=y(It,1)+1,Ut=y(It,0==y(It,1)?1:8);St[Ut]=1,2==Ot&&(St[Ut=y(It,8)]=1);var Dt=1}else{var zt=h(19),Bt=y(It,4)+4;if(19<Bt){Pt.a=3;var Mt=0;break i}for(At=0;At<Bt;++At)zt[Ui[At]]=y(It,3);var Nt=void 0,Ht=void 0,Vt=Pt,Zt=zt,qt=Tt,Wt=St,Yt=0,Gt=Vt.m,$t=8,Jt=d(128,i);r:for(;n(Jt,0,7,Zt,19);){if(y(Gt,1)){if((Nt=2+y(Gt,2+2*y(Gt,3)))>qt)break r}else Nt=qt;for(Ht=0;Ht<qt&&Nt--;){E(Gt);var Qt=Jt[0+(127&x(Gt))];j(Gt,Gt.u+Qt.g);var Xt=Qt.value;if(16>Xt)Wt[Ht++]=Xt,0!=Xt&&($t=Xt);else{var Kt=16==Xt,te=Xt-16,ee=Ii[te],ne=y(Gt,Ci[te])+ee;if(Ht+ne>qt)break r;for(var ie=Kt?$t:0;0<ne--;)Wt[Ht++]=ie}}Yt=1;break r}Yt||(Vt.a=3),Dt=Yt}(Dt=Dt&&!It.h)&&(Ct=n(Rt,Ft,8,St,Tt)),Dt&&0!=Ct?Mt=Ct:(Pt.a=3,Mt=0)}if(0==Mt)break n;if(wt&&1==Oi[q]&&(wt=0==_t[W].g),bt+=_t[W].g,W+=Mt,3>=q){var re,oe=dt[0];for(re=1;re<ct;++re)dt[re]>oe&&(oe=dt[re]);jt+=oe}}if(mt.nd=wt,mt.Qb=0,wt&&(mt.qb=(gt[3][yt[3]+0].value<<24|gt[1][yt[1]+0].value<<16|gt[2][yt[2]+0].value)>>>0,0==bt&&256>gt[0][yt[0]+0].value&&(mt.Qb=1,mt.qb+=gt[0][yt[0]+0].value<<8)),mt.jc=!mt.Qb&&6>jt,mt.jc){var ae,se=mt;for(ae=0;ae<jn;++ae){var le=ae,ce=se.pd[le],ue=se.G[0][se.H[0]+le];256<=ue.value?(ce.g=ue.g+256,ce.value=ue.value):(ce.g=0,ce.value=0,le>>=vt(ue,8,ce),le>>=vt(se.G[1][se.H[1]+le],16,ce),le>>=vt(se.G[2][se.H[2]+le],0,ce),vt(se.G[3][se.H[3]+le],24,ce))}}}K.vc=tt,K.Wb=et,K.Ya=ht,K.yc=ut,V=1;break e}V=0}if(!(l=V)){a.a=3;break t}if(0<g){if(_.ua=1<<g,!I(_.Wa,g)){a.a=1,l=0;break t}}else _.ua=0;var fe=a,pe=u,he=f,de=fe.s,ve=de.xc;if(fe.c=pe,fe.i=he,de.md=D(pe,ve),de.wc=0==ve?-1:(1<<ve)-1,r){a.xb=Ki;break t}if(null==(m=h(u*f))){a.a=1,l=0;break t}l=(l=xt(a,m,0,u,f,f,null))&&!v.h;break t}return l?(null!=s?s[0]=m:(c(null==m),c(r)),a.$=0,r||kt(_)):kt(_),l}function At(t,e){var n=t.c*t.i,i=n+e+16*e;return c(t.c<=e),t.V=h(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+n+e,1)}function Tt(t,e){var n=t.C,i=e-n,r=t.V,o=t.Ba+t.c*n;for(c(e<=t.l.o);0<i;){var a=16<i?16:i,s=t.l.ma,l=t.l.width,u=l*a,f=s.ca,p=s.tb+l*n,h=t.Ta,d=t.Ua;mt(t,a,r,o),fi(h,d,f,p,u),bt(s,n,n+a,f,p,l),i-=a,r+=a*t.c,n+=a}c(n==e),t.C=t.Ma=e}function Pt(){this.Yb=function(){var t=[];return function t(e,n,i){for(var r=i[n],o=0;o<r&&(e.push(i.length>n+1?[]:0),!(i.length<n+1));o++)t(e[o],n+1,i)}(t,0,[3,11]),t}()}function St(){this.ld=this.La=this.dd=this.tc=0}function Rt(){this.Na=this.la=0}function Ft(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ct(){this.ad=h(384),this.Za=0,this.Ob=h(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function It(){this.y=h(16),this.f=h(8),this.ea=h(8)}function Lt(){this.cb=this.a=0,this.sc="",this.m=new b,this.Od=new function(){this.ub=this.yd=this.td=this.Rb=0},this.Kc=new function(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0},this.ed=new function(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new h(4),this.od=new h(4)},this.Qa=new function(){this.Fb=this.Bb=this.Cb=0,this.Zb=h(4),this.Lb=h(4)},this.Ic=this.$c=this.Aa=0,this.D=new function(){this.uc=this.M=this.Nb=0,this.wa=Array(new St),this.Y=0,this.ya=Array(new Ct),this.aa=0,this.l=new Ut},this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,b),this.ia=0,new function(){h(55)},this.pb=d(4,Ft),this.Pa=new function(){this.jb=h(3),this.Wc=v([4,8],Pt),this.Xc=v([4,17],Pt)},this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new It),this.Hd=0,this.rb=Array(new Rt),this.sb=0,this.wa=Array(new St),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ct),this.L=this.aa=0,this.gd=v([4,2],St),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ot(t,e){return 0>t?0:t>e?e:t}function Ut(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dt(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function zt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Bt(t,e){if(null==t)return 0;if(t.a=0,t.sc="OK",null==e)return Dt(t,2,"null VP8Io passed to VP8GetHeaders()");var n=e.data,i=e.w,r=e.ha;if(4>r)return Dt(t,7,"Truncated header.");var o=n[i+0]|n[i+1]<<8|n[i+2]<<16,l=t.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Dt(t,3,"Incorrect keyframe parameters.");if(!l.yd)return Dt(t,4,"Frame not displayable.");i+=3,r-=3;var u=t.Kc;if(l.Rb){if(7>r)return Dt(t,7,"cannot parse picture header");if(!zt(n,i,r))return Dt(t,3,"Bad code word");u.c=16383&(n[i+4]<<8|n[i+3]),u.Td=n[i+4]>>6,u.i=16383&(n[i+6]<<8|n[i+5]),u.Ud=n[i+6]>>6,i+=7,r-=7,t.za=u.c+15>>4,t.Ub=u.i+15>>4,e.width=u.c,e.height=u.i,e.Da=0,e.j=0,e.v=0,e.va=e.width,e.o=e.height,e.da=0,e.ib=e.width,e.hb=e.height,e.U=e.width,e.T=e.height,p((o=t.Pa).jb,0,255,o.jb.length),c(null!=(o=t.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,p(o.Zb,0,0,o.Zb.length),p(o.Lb,0,0,o.Lb)}if(l.ub>r)return Dt(t,7,"bad partition length");a(o=t.m,n,i,l.ub),i+=l.ub,r-=l.ub,l.Rb&&(u.Ld=T(o),u.Kd=T(o)),u=t.Qa;var f,h=t.Pa;if(c(null!=o),c(null!=u),u.Cb=T(o),u.Cb){if(u.Bb=T(o),T(o)){for(u.Fb=T(o),f=0;4>f;++f)u.Zb[f]=T(o)?_(o,7):0;for(f=0;4>f;++f)u.Lb[f]=T(o)?_(o,6):0}if(u.Bb)for(f=0;3>f;++f)h.jb[f]=T(o)?s(o,8):255}else u.Bb=0;if(o.Ka)return Dt(t,3,"cannot parse segment header");if((u=t.ed).zd=T(o),u.Tb=s(o,6),u.wb=s(o,3),u.Pc=T(o),u.Pc&&T(o)){for(h=0;4>h;++h)T(o)&&(u.vd[h]=_(o,6));for(h=0;4>h;++h)T(o)&&(u.od[h]=_(o,6))}if(t.L=0==u.Tb?0:u.zd?1:2,o.Ka)return Dt(t,3,"cannot parse filter header");var d=r;if(r=f=i,i=f+d,u=d,t.Xb=(1<<s(t.m,2))-1,d<3*(h=t.Xb))n=7;else{for(f+=3*h,u-=3*h,d=0;d<h;++d){var v=n[r+0]|n[r+1]<<8|n[r+2]<<16;v>u&&(v=u),a(t.Jc[+d],n,f,v),f+=v,u-=v,r+=3}a(t.Jc[+h],n,f,u),n=f<i?0:5}if(0!=n)return Dt(t,n,"cannot parse partitions");for(n=s(f=t.m,7),r=T(f)?_(f,4):0,i=T(f)?_(f,4):0,u=T(f)?_(f,4):0,h=T(f)?_(f,4):0,f=T(f)?_(f,4):0,d=t.Qa,v=0;4>v;++v){if(d.Cb){var m=d.Zb[v];d.Fb||(m+=n)}else{if(0<v){t.pb[v]=t.pb[0];continue}m=n}var g=t.pb[v];g.Sc[0]=Mi[Ot(m+r,127)],g.Sc[1]=Ni[Ot(m+0,127)],g.Eb[0]=2*Mi[Ot(m+i,127)],g.Eb[1]=101581*Ni[Ot(m+u,127)]>>16,8>g.Eb[1]&&(g.Eb[1]=8),g.Qc[0]=Mi[Ot(m+h,117)],g.Qc[1]=Ni[Ot(m+f,127)],g.lc=m+f}if(!l.Rb)return Dt(t,4,"Not a key frame.");for(T(o),l=t.Pa,n=0;4>n;++n){for(r=0;8>r;++r)for(i=0;3>i;++i)for(u=0;11>u;++u)h=P(o,Gi[n][r][i][u])?s(o,8):Wi[n][r][i][u],l.Wc[n][r].Yb[i][u]=h;for(r=0;17>r;++r)l.Xc[n][r]=l.Wc[n][$i[r]]}return t.kc=T(o),t.kc&&(t.Bd=s(o,8)),t.cb=1}function Mt(t,e,n,i,r,o,a){var s=e[r].Yb[n];for(n=0;16>r;++r){if(!P(t,s[n+0]))return r;for(;!P(t,s[n+1]);)if(s=e[++r].Yb[0],n=0,16==r)return 16;var l=e[r+1].Yb;if(P(t,s[n+2])){var c=t,u=0;if(P(c,(p=s)[(f=n)+3]))if(P(c,p[f+6])){for(s=0,f=2*(u=P(c,p[f+8]))+(p=P(c,p[f+9+u])),u=0,p=Vi[f];p[s];++s)u+=u+P(c,p[s]);u+=3+(8<<f)}else P(c,p[f+7])?(u=7+2*P(c,165),u+=P(c,145)):u=5+P(c,159);else u=P(c,p[f+4])?3+P(c,p[f+5]):2;s=l[2]}else u=1,s=l[1];l=a+Zi[r],0>(c=t).b&&A(c);var f,p=c.b,h=(f=c.Ca>>1)-(c.I>>p)>>31;--c.b,c.Ca+=h,c.Ca|=1,c.I-=(f+1&h)<<p,o[l]=((u^h)-h)*i[(0<r)+0]}return 16}function Nt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,p(t.zc,0,0,t.zc.length),t.ja=0}function Ht(t,e){if(null==t)return 0;if(null==e)return Dt(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Bt(t,e))return 0;if(c(t.cb),null==e.ac||e.ac(e)){e.ob&&(t.L=0);var n=jr[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=e.v-n>>4,t.zb=e.j-n>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=e.o+15+n>>4,t.Hb=e.va+15+n>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var i=t.ed;for(n=0;4>n;++n){var r;if(t.Qa.Cb){var o=t.Qa.Lb[n];t.Qa.Fb||(o+=i.Tb)}else o=i.Tb;for(r=0;1>=r;++r){var a=t.gd[n][r],s=o;if(i.Pc&&(s+=i.vd[0],r&&(s+=i.od[0])),0<(s=0>s?0:63<s?63:s)){var l=s;0<i.wb&&((l=4<i.wb?l>>2:l>>1)>9-i.wb&&(l=9-i.wb)),1>l&&(l=1),a.dd=l,a.tc=2*s+l,a.ld=40<=s?2:15<=s?1:0}else a.tc=0;a.La=r}}}n=0}else Dt(t,6,"Frame setup failed"),n=t.a;if(n=0==n){if(n){t.$c=0,0<t.Aa||(t.Ic=Ar);t:{n=t.Ic;i=4*(l=t.za);var u=32*l,v=l+1,_=0<t.L?l*(0<t.Aa?2:1):0,m=(2==t.Aa?2:1)*l;if((a=i+832+(r=3*(16*n+jr[t.L])/2*u)+(o=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=a)n=0;else{if(a>t.Vb){if(t.Vb=0,t.Ec=h(a),t.Fc=0,null==t.Ec){n=Dt(t,1,"no memory during frame initialization.");break t}t.Vb=a}a=t.Ec,s=t.Fc,t.Ac=a,t.Bc=s,s+=i,t.Gd=d(u,It),t.Hd=0,t.rb=d(v+1,Rt),t.sb=1,t.wa=_?d(_,St):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=l),c(!0),t.oc=a,t.pc=s,s+=832,t.ya=d(m,Ct),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=l),t.R=16*l,t.B=8*l,l=(u=jr[t.L])*t.R,u=u/2*t.B,t.sa=a,t.ta=s+l,t.qa=t.sa,t.ra=t.ta+16*n*t.R+u,t.Ha=t.qa,t.Ia=t.ra+8*n*t.B+u,t.$c=0,s+=r,t.mb=o?a:null,t.nb=o?s:null,c(s+o<=t.Fc+t.Vb),Nt(t),p(t.Ac,t.Bc,0,i),n=1}}if(n){if(e.ka=0,e.y=t.sa,e.O=t.ta,e.f=t.qa,e.N=t.ra,e.ea=t.Ha,e.Vd=t.Ia,e.fa=t.R,e.Rc=t.B,e.F=null,e.J=0,!_i){for(n=-255;255>=n;++n)pi[255+n]=0>n?-n:n;for(n=-1020;1020>=n;++n)hi[1020+n]=-128>n?-128:127<n?127:n;for(n=-112;112>=n;++n)di[112+n]=-16>n?-16:15<n?15:n;for(n=-255;510>=n;++n)vi[255+n]=0>n?0:255<n?255:n;_i=1}Zn=Xt,qn=Gt,Yn=$t,Gn=Jt,$n=Qt,Wn=Yt,Jn=De,Qn=ze,Xn=Ne,Kn=He,ti=Be,ei=Me,ni=Ve,ii=Ze,ri=Fe,oi=Ce,ai=Ie,si=Le,Qi[0]=he,Qi[1]=te,Qi[2]=fe,Qi[3]=pe,Qi[4]=de,Qi[5]=_e,Qi[6]=ve,Qi[7]=me,Qi[8]=ye,Qi[9]=ge,Ji[0]=ae,Ji[1]=ne,Ji[2]=ie,Ji[3]=re,Ji[4]=se,Ji[5]=le,Ji[6]=ce,Xi[0]=ke,Xi[1]=ee,Xi[2]=be,Xi[3]=we,Xi[4]=Ee,Xi[5]=je,Xi[6]=Ae,n=1}else n=0}n&&(n=function(t,e){for(t.M=0;t.M<t.Va;++t.M){var n,i=t.Jc[t.M&t.Xb],r=t.m,o=t;for(n=0;n<o.za;++n){var a=r,s=o,l=s.Ac,u=s.Bc+4*n,d=s.zc,v=s.ya[s.aa+n];if(s.Qa.Bb?v.$b=P(a,s.Pa.jb[0])?2+P(a,s.Pa.jb[2]):P(a,s.Pa.jb[1]):v.$b=0,s.kc&&(v.Ad=P(a,s.Bd)),v.Za=!P(a,145)+0,v.Za){var _=v.Ob,m=0;for(s=0;4>s;++s){var g,y=d[0+s];for(g=0;4>g;++g){y=Yi[l[u+g]][y];for(var b=qi[P(a,y[0])];0<b;)b=qi[2*b+P(a,y[b])];y=-b,l[u+g]=y}f(_,m,l,u,4),m+=4,d[0+s]=y}}else y=P(a,156)?P(a,128)?1:3:P(a,163)?2:0,v.Ob[0]=y,p(l,u,y,4),p(d,0,y,4);v.Dd=P(a,142)?P(a,114)?P(a,183)?1:3:2:0}if(o.m.Ka)return Dt(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(o=i,a=(r=t).rb[r.sb-1],l=r.rb[r.sb+r.ja],n=r.ya[r.aa+r.ja],u=r.kc?n.Ad:0)a.la=l.la=0,n.Za||(a.Na=l.Na=0),n.Hc=0,n.Gc=0,n.ia=0;else{var w,x;if(a=l,l=o,u=r.Pa.Xc,d=r.ya[r.aa+r.ja],v=r.pb[d.$b],s=d.ad,_=0,m=r.rb[r.sb-1],y=g=0,p(s,_,0,384),d.Za)var k=0,j=u[3];else{b=h(16);var E=a.Na+m.Na;if(E=Hi(l,u[1],E,v.Eb,0,b,0),a.Na=m.Na=(0<E)+0,1<E)Zn(b,0,s,_);else{var A=b[0]+3>>3;for(b=0;256>b;b+=16)s[_+b]=A}k=1,j=u[0]}var T=15&a.la,S=15&m.la;for(b=0;4>b;++b){var R=1&S;for(A=x=0;4>A;++A)T=T>>1|(R=(E=Hi(l,j,E=R+(1&T),v.Sc,k,s,_))>k)<<7,x=x<<2|(3<E?3:1<E?2:0!=s[_+0]),_+=16;T>>=4,S=S>>1|R<<7,g=(g<<8|x)>>>0}for(j=T,k=S>>4,w=0;4>w;w+=2){for(x=0,T=a.la>>4+w,S=m.la>>4+w,b=0;2>b;++b){for(R=1&S,A=0;2>A;++A)E=R+(1&T),T=T>>1|(R=0<(E=Hi(l,u[2],E,v.Qc,0,s,_)))<<3,x=x<<2|(3<E?3:1<E?2:0!=s[_+0]),_+=16;T>>=2,S=S>>1|R<<5}y|=x<<4*w,j|=T<<4<<w,k|=(240&S)<<w}a.la=j,m.la=k,d.Hc=g,d.Gc=y,d.ia=43690&y?0:v.ia,u=!(g|y)}if(0<r.L&&(r.wa[r.Y+r.ja]=r.gd[n.$b][n.Za],r.wa[r.Y+r.ja].La|=!u),o.Ka)return Dt(t,7,"Premature end-of-file encountered.")}if(Nt(t),r=e,o=1,n=(i=t).D,a=0<i.L&&i.M>=i.zb&&i.M<=i.Va,0==i.Aa)t:{if(n.M=i.M,n.uc=a,yn(i,n),o=1,n=(x=i.D).Nb,a=(y=jr[i.L])*i.R,l=y/2*i.B,b=16*n*i.R,A=8*n*i.B,u=i.sa,d=i.ta-a+b,v=i.qa,s=i.ra-l+A,_=i.Ha,m=i.Ia-l+A,S=0==(T=x.M),g=T>=i.Va-1,2==i.Aa&&yn(i,x),x.uc)for(R=(E=i).D.M,c(E.D.uc),x=E.yb;x<E.Hb;++x){k=x,j=R;var F=(C=(N=E).D).Nb;w=N.R;var C=C.wa[C.Y+k],I=N.sa,L=N.ta+16*F*w+16*k,O=C.dd,U=C.tc;if(0!=U)if(c(3<=U),1==N.L)0<k&&oi(I,L,w,U+4),C.La&&si(I,L,w,U),0<j&&ri(I,L,w,U+4),C.La&&ai(I,L,w,U);else{var D=N.B,z=N.qa,B=N.ra+8*F*D+8*k,M=N.Ha,N=N.Ia+8*F*D+8*k;F=C.ld,0<k&&(Qn(I,L,w,U+4,O,F),Kn(z,B,M,N,D,U+4,O,F)),C.La&&(ei(I,L,w,U,O,F),ii(z,B,M,N,D,U,O,F)),0<j&&(Jn(I,L,w,U+4,O,F),Xn(z,B,M,N,D,U+4,O,F)),C.La&&(ti(I,L,w,U,O,F),ni(z,B,M,N,D,U,O,F))}}if(i.ia&&alert("todo:DitherRow"),null!=r.put){if(x=16*T,T=16*(T+1),S?(r.y=i.sa,r.O=i.ta+b,r.f=i.qa,r.N=i.ra+A,r.ea=i.Ha,r.W=i.Ia+A):(x-=y,r.y=u,r.O=d,r.f=v,r.N=s,r.ea=_,r.W=m),g||(T-=y),T>r.o&&(T=r.o),r.F=null,r.J=null,null!=i.Fa&&0<i.Fa.length&&x<T&&(r.J=Je(i,r,x,T-x),r.F=i.mb,null==r.F&&0==r.F.length)){o=Dt(i,3,"Could not decode alpha data.");break t}x<r.j&&(y=r.j-x,x=r.j,c(!(1&y)),r.O+=i.R*y,r.N+=i.B*(y>>1),r.W+=i.B*(y>>1),null!=r.F&&(r.J+=r.width*y)),x<T&&(r.O+=r.v,r.N+=r.v>>1,r.W+=r.v>>1,null!=r.F&&(r.J+=r.v),r.ka=x-r.j,r.U=r.va-r.v,r.T=T-x,o=r.put(r))}n+1!=i.Ic||g||(f(i.sa,i.ta-a,u,d+16*i.R,a),f(i.qa,i.ra-l,v,s+8*i.B,l),f(i.Ha,i.Ia-l,_,m+8*i.B,l))}if(!o)return Dt(t,6,"Output aborted.")}return 1}(t,e)),null!=e.bc&&e.bc(e),n&=1}return n?(t.cb=0,n):0}function Vt(t,e,n,i,r){r=t[e+n+32*i]+(r>>3),t[e+n+32*i]=-256&r?0>r?0:255:r}function Zt(t,e,n,i,r,o){Vt(t,e,0,n,i+r),Vt(t,e,1,n,i+o),Vt(t,e,2,n,i-o),Vt(t,e,3,n,i-r)}function qt(t){return(20091*t>>16)+t}function Wt(t,e,n,i){var r,o=0,a=h(16);for(r=0;4>r;++r){var s=t[e+0]+t[e+8],l=t[e+0]-t[e+8],c=(35468*t[e+4]>>16)-qt(t[e+12]),u=qt(t[e+4])+(35468*t[e+12]>>16);a[o+0]=s+u,a[o+1]=l+c,a[o+2]=l-c,a[o+3]=s-u,o+=4,e++}for(r=o=0;4>r;++r)s=(t=a[o+0]+4)+a[o+8],l=t-a[o+8],c=(35468*a[o+4]>>16)-qt(a[o+12]),Vt(n,i,0,0,s+(u=qt(a[o+4])+(35468*a[o+12]>>16))),Vt(n,i,1,0,l+c),Vt(n,i,2,0,l-c),Vt(n,i,3,0,s-u),o++,i+=32}function Yt(t,e,n,i){var r=t[e+0]+4,o=35468*t[e+4]>>16,a=qt(t[e+4]),s=35468*t[e+1]>>16;Zt(n,i,0,r+a,t=qt(t[e+1]),s),Zt(n,i,1,r+o,t,s),Zt(n,i,2,r-o,t,s),Zt(n,i,3,r-a,t,s)}function Gt(t,e,n,i,r){Wt(t,e,n,i),r&&Wt(t,e+16,n,i+4)}function $t(t,e,n,i){qn(t,e+0,n,i,1),qn(t,e+32,n,i+128,1)}function Jt(t,e,n,i){var r;for(t=t[e+0]+4,r=0;4>r;++r)for(e=0;4>e;++e)Vt(n,i,e,r,t)}function Qt(t,e,n,i){t[e+0]&&Gn(t,e+0,n,i),t[e+16]&&Gn(t,e+16,n,i+4),t[e+32]&&Gn(t,e+32,n,i+128),t[e+48]&&Gn(t,e+48,n,i+128+4)}function Xt(t,e,n,i){var r,o=h(16);for(r=0;4>r;++r){var a=t[e+0+r]+t[e+12+r],s=t[e+4+r]+t[e+8+r],l=t[e+4+r]-t[e+8+r],c=t[e+0+r]-t[e+12+r];o[0+r]=a+s,o[8+r]=a-s,o[4+r]=c+l,o[12+r]=c-l}for(r=0;4>r;++r)a=(t=o[0+4*r]+3)+o[3+4*r],s=o[1+4*r]+o[2+4*r],l=o[1+4*r]-o[2+4*r],c=t-o[3+4*r],n[i+0]=a+s>>3,n[i+16]=c+l>>3,n[i+32]=a-s>>3,n[i+48]=c-l>>3,i+=64}function Kt(t,e,n){var i,r=e-32,o=yi,a=255-t[r-1];for(i=0;i<n;++i){var s,l=o,c=a+t[e-1];for(s=0;s<n;++s)t[e+s]=l[c+t[r+s]];e+=32}}function te(t,e){Kt(t,e,4)}function ee(t,e){Kt(t,e,8)}function ne(t,e){Kt(t,e,16)}function ie(t,e){var n;for(n=0;16>n;++n)f(t,e+32*n,t,e-32,16)}function re(t,e){var n;for(n=16;0<n;--n)p(t,e,t[e-1],16),e+=32}function oe(t,e,n){var i;for(i=0;16>i;++i)p(e,n+32*i,t,16)}function ae(t,e){var n,i=16;for(n=0;16>n;++n)i+=t[e-1+32*n]+t[e+n-32];oe(i>>5,t,e)}function se(t,e){var n,i=8;for(n=0;16>n;++n)i+=t[e-1+32*n];oe(i>>4,t,e)}function le(t,e){var n,i=8;for(n=0;16>n;++n)i+=t[e+n-32];oe(i>>4,t,e)}function ce(t,e){oe(128,t,e)}function ue(t,e,n){return t+2*e+n+2>>2}function fe(t,e){var n,i=e-32;i=new Uint8Array([ue(t[i-1],t[i+0],t[i+1]),ue(t[i+0],t[i+1],t[i+2]),ue(t[i+1],t[i+2],t[i+3]),ue(t[i+2],t[i+3],t[i+4])]);for(n=0;4>n;++n)f(t,e+32*n,i,0,i.length)}function pe(t,e){var n=t[e-1],i=t[e-1+32],r=t[e-1+64],o=t[e-1+96];S(t,e+0,16843009*ue(t[e-1-32],n,i)),S(t,e+32,16843009*ue(n,i,r)),S(t,e+64,16843009*ue(i,r,o)),S(t,e+96,16843009*ue(r,o,o))}function he(t,e){var n,i=4;for(n=0;4>n;++n)i+=t[e+n-32]+t[e-1+32*n];for(i>>=3,n=0;4>n;++n)p(t,e+32*n,i,4)}function de(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],o=t[e-1-32],a=t[e+0-32],s=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+96]=ue(i,r,t[e-1+96]),t[e+1+96]=t[e+0+64]=ue(n,i,r),t[e+2+96]=t[e+1+64]=t[e+0+32]=ue(o,n,i),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=ue(a,o,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=ue(s,a,o),t[e+3+32]=t[e+2+0]=ue(l,s,a),t[e+3+0]=ue(c,l,s)}function ve(t,e){var n=t[e+1-32],i=t[e+2-32],r=t[e+3-32],o=t[e+4-32],a=t[e+5-32],s=t[e+6-32],l=t[e+7-32];t[e+0+0]=ue(t[e+0-32],n,i),t[e+1+0]=t[e+0+32]=ue(n,i,r),t[e+2+0]=t[e+1+32]=t[e+0+64]=ue(i,r,o),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=ue(r,o,a),t[e+3+32]=t[e+2+64]=t[e+1+96]=ue(o,a,s),t[e+3+64]=t[e+2+96]=ue(a,s,l),t[e+3+96]=ue(s,l,l)}function _e(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],o=t[e-1-32],a=t[e+0-32],s=t[e+1-32],l=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=o+a+1>>1,t[e+1+0]=t[e+2+64]=a+s+1>>1,t[e+2+0]=t[e+3+64]=s+l+1>>1,t[e+3+0]=l+c+1>>1,t[e+0+96]=ue(r,i,n),t[e+0+64]=ue(i,n,o),t[e+0+32]=t[e+1+96]=ue(n,o,a),t[e+1+32]=t[e+2+96]=ue(o,a,s),t[e+2+32]=t[e+3+96]=ue(a,s,l),t[e+3+32]=ue(s,l,c)}function me(t,e){var n=t[e+0-32],i=t[e+1-32],r=t[e+2-32],o=t[e+3-32],a=t[e+4-32],s=t[e+5-32],l=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+i+1>>1,t[e+1+0]=t[e+0+64]=i+r+1>>1,t[e+2+0]=t[e+1+64]=r+o+1>>1,t[e+3+0]=t[e+2+64]=o+a+1>>1,t[e+0+32]=ue(n,i,r),t[e+1+32]=t[e+0+96]=ue(i,r,o),t[e+2+32]=t[e+1+96]=ue(r,o,a),t[e+3+32]=t[e+2+96]=ue(o,a,s),t[e+3+64]=ue(a,s,l),t[e+3+96]=ue(s,l,c)}function ge(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],o=t[e-1+96];t[e+0+0]=n+i+1>>1,t[e+2+0]=t[e+0+32]=i+r+1>>1,t[e+2+32]=t[e+0+64]=r+o+1>>1,t[e+1+0]=ue(n,i,r),t[e+3+0]=t[e+1+32]=ue(i,r,o),t[e+3+32]=t[e+1+64]=ue(r,o,o),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=o}function ye(t,e){var n=t[e-1+0],i=t[e-1+32],r=t[e-1+64],o=t[e-1+96],a=t[e-1-32],s=t[e+0-32],l=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+a+1>>1,t[e+0+32]=t[e+2+64]=i+n+1>>1,t[e+0+64]=t[e+2+96]=r+i+1>>1,t[e+0+96]=o+r+1>>1,t[e+3+0]=ue(s,l,c),t[e+2+0]=ue(a,s,l),t[e+1+0]=t[e+3+32]=ue(n,a,s),t[e+1+32]=t[e+3+64]=ue(i,n,a),t[e+1+64]=t[e+3+96]=ue(r,i,n),t[e+1+96]=ue(o,r,i)}function be(t,e){var n;for(n=0;8>n;++n)f(t,e+32*n,t,e-32,8)}function we(t,e){var n;for(n=0;8>n;++n)p(t,e,t[e-1],8),e+=32}function xe(t,e,n){var i;for(i=0;8>i;++i)p(e,n+32*i,t,8)}function ke(t,e){var n,i=8;for(n=0;8>n;++n)i+=t[e+n-32]+t[e-1+32*n];xe(i>>4,t,e)}function je(t,e){var n,i=4;for(n=0;8>n;++n)i+=t[e+n-32];xe(i>>3,t,e)}function Ee(t,e){var n,i=4;for(n=0;8>n;++n)i+=t[e-1+32*n];xe(i>>3,t,e)}function Ae(t,e){xe(128,t,e)}function Te(t,e,n){var i=t[e-n],r=t[e+0],o=3*(r-i)+mi[1020+t[e-2*n]-t[e+n]],a=gi[112+(o+4>>3)];t[e-n]=yi[255+i+gi[112+(o+3>>3)]],t[e+0]=yi[255+r-a]}function Pe(t,e,n,i){var r=t[e+0],o=t[e+n];return bi[255+t[e-2*n]-t[e-n]]>i||bi[255+o-r]>i}function Se(t,e,n,i){return 4*bi[255+t[e-n]-t[e+0]]+bi[255+t[e-2*n]-t[e+n]]<=i}function Re(t,e,n,i,r){var o=t[e-3*n],a=t[e-2*n],s=t[e-n],l=t[e+0],c=t[e+n],u=t[e+2*n],f=t[e+3*n];return 4*bi[255+s-l]+bi[255+a-c]>i?0:bi[255+t[e-4*n]-o]<=r&&bi[255+o-a]<=r&&bi[255+a-s]<=r&&bi[255+f-u]<=r&&bi[255+u-c]<=r&&bi[255+c-l]<=r}function Fe(t,e,n,i){var r=2*i+1;for(i=0;16>i;++i)Se(t,e+i,n,r)&&Te(t,e+i,n)}function Ce(t,e,n,i){var r=2*i+1;for(i=0;16>i;++i)Se(t,e+i*n,1,r)&&Te(t,e+i*n,1)}function Ie(t,e,n,i){var r;for(r=3;0<r;--r)Fe(t,e+=4*n,n,i)}function Le(t,e,n,i){var r;for(r=3;0<r;--r)Ce(t,e+=4,n,i)}function Oe(t,e,n,i,r,o,a,s){for(o=2*o+1;0<r--;){if(Re(t,e,n,o,a))if(Pe(t,e,n,s))Te(t,e,n);else{var l=t,c=e,u=n,f=l[c-2*u],p=l[c-u],h=l[c+0],d=l[c+u],v=l[c+2*u],_=27*(g=mi[1020+3*(h-p)+mi[1020+f-d]])+63>>7,m=18*g+63>>7,g=9*g+63>>7;l[c-3*u]=yi[255+l[c-3*u]+g],l[c-2*u]=yi[255+f+m],l[c-u]=yi[255+p+_],l[c+0]=yi[255+h-_],l[c+u]=yi[255+d-m],l[c+2*u]=yi[255+v-g]}e+=i}}function Ue(t,e,n,i,r,o,a,s){for(o=2*o+1;0<r--;){if(Re(t,e,n,o,a))if(Pe(t,e,n,s))Te(t,e,n);else{var l=t,c=e,u=n,f=l[c-u],p=l[c+0],h=l[c+u],d=gi[112+((v=3*(p-f))+4>>3)],v=gi[112+(v+3>>3)],_=d+1>>1;l[c-2*u]=yi[255+l[c-2*u]+_],l[c-u]=yi[255+f+v],l[c+0]=yi[255+p-d],l[c+u]=yi[255+h-_]}e+=i}}function De(t,e,n,i,r,o){Oe(t,e,n,1,16,i,r,o)}function ze(t,e,n,i,r,o){Oe(t,e,1,n,16,i,r,o)}function Be(t,e,n,i,r,o){var a;for(a=3;0<a;--a)Ue(t,e+=4*n,n,1,16,i,r,o)}function Me(t,e,n,i,r,o){var a;for(a=3;0<a;--a)Ue(t,e+=4,1,n,16,i,r,o)}function Ne(t,e,n,i,r,o,a,s){Oe(t,e,r,1,8,o,a,s),Oe(n,i,r,1,8,o,a,s)}function He(t,e,n,i,r,o,a,s){Oe(t,e,1,r,8,o,a,s),Oe(n,i,1,r,8,o,a,s)}function Ve(t,e,n,i,r,o,a,s){Ue(t,e+4*r,r,1,8,o,a,s),Ue(n,i+4*r,r,1,8,o,a,s)}function Ze(t,e,n,i,r,o,a,s){Ue(t,e+4,1,r,8,o,a,s),Ue(n,i+4,1,r,8,o,a,s)}function qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ye(t,e,n,i,r,o,a){for(t=null==t?0:t[e+0],e=0;e<a;++e)r[o+e]=t+n[i+e]&255,t=r[o+e]}function Ge(t,e,n,i,r,o,a){var s;if(null==t)Ye(null,null,n,i,r,o,a);else for(s=0;s<a;++s)r[o+s]=t[e+s]+n[i+s]&255}function $e(t,e,n,i,r,o,a){if(null==t)Ye(null,null,n,i,r,o,a);else{var s,l=t[e+0],c=l,u=l;for(s=0;s<a;++s)c=u+(l=t[e+s])-c,u=n[i+s]+(-256&c?0>c?0:255:c)&255,c=l,r[o+s]=u}}function Je(t,e,n,i){var r=e.width,o=e.o;if(c(null!=t&&null!=e),0>n||0>=i||n+i>o)return null;if(!t.Cc){if(null==t.ga){var a;if(t.ga=new function(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ut,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0},(a=null==t.ga)||(a=e.width*e.o,c(0==t.Gb.length),t.Gb=h(a),t.Uc=0,null==t.Gb?a=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,a=1),a=!a),!a){a=t.ga;var s=t.Fa,l=t.P,u=t.qc,p=t.mb,d=t.nb,v=l+1,_=u-1,g=a.l;if(c(null!=s&&null!=p&&null!=e),er[0]=null,er[1]=Ye,er[2]=Ge,er[3]=$e,a.ca=p,a.tb=d,a.c=e.width,a.i=e.height,c(0<a.c&&0<a.i),1>=u)e=0;else if(a.$a=s[l+0]>>0&3,a.Z=s[l+0]>>2&3,a.Lc=s[l+0]>>4&3,l=s[l+0]>>6&3,0>a.$a||1<a.$a||4<=a.Z||1<a.Lc||l)e=0;else if(g.put=ct,g.ac=lt,g.bc=ut,g.ma=a,g.width=e.width,g.height=e.height,g.Da=e.Da,g.v=e.v,g.va=e.va,g.j=e.j,g.o=e.o,a.$a)t:{c(1==a.$a),e=jt();e:for(;;){if(null==e){e=0;break t}if(c(null!=a),a.mc=e,e.c=a.c,e.i=a.i,e.l=a.l,e.l.ma=a,e.l.width=a.c,e.l.height=a.i,e.a=0,m(e.m,s,v,_),!Et(a.c,a.i,1,e,null))break e;if(1==e.ab&&3==e.gc[0].hc&&yt(e.s)?(a.ic=1,s=e.c*e.i,e.Ta=null,e.Ua=0,e.V=h(s),e.Ba=0,null==e.V?(e.a=1,e=0):e=1):(a.ic=0,e=At(e,a.c)),!e)break e;e=1;break t}a.mc=null,e=0}else e=_>=a.c*a.i;a=!e}if(a)return null;1!=t.ga.Lc?t.Ga=0:i=o-n}c(null!=t.ga),c(n+i<=o);t:{if(e=(s=t.ga).c,o=s.l.o,0==s.$a){if(v=t.rc,_=t.Vc,g=t.Fa,l=t.P+1+n*e,u=t.mb,p=t.nb+n*e,c(l<=t.P+t.qc),0!=s.Z)for(c(null!=er[s.Z]),a=0;a<i;++a)er[s.Z](v,_,g,l,u,p,e),v=u,_=p,p+=e,l+=e;else for(a=0;a<i;++a)f(u,p,g,l,e),v=u,_=p,p+=e,l+=e;t.rc=v,t.Vc=_}else{if(c(null!=s.mc),e=n+i,c(null!=(a=s.mc)),c(e<=a.i),a.C>=e)e=1;else if(s.ic||en(),s.ic){s=a.V,v=a.Ba,_=a.c;var y=a.i,b=(g=1,l=a.$/_,u=a.$%_,p=a.m,d=a.s,a.$),w=_*y,x=_*e,j=d.wc,A=b<x?_t(d,u,l):null;c(b<=w),c(e<=y),c(yt(d));e:for(;;){for(;!p.h&&b<x;){if(u&j||(A=_t(d,u,l)),c(null!=A),E(p),256>(y=dt(A.G[0],A.H[0],p)))s[v+b]=y,++b,++u>=_&&(u=0,++l<=e&&!(l%16)&&wt(a,l));else{if(!(280>y)){g=0;break e}y=pt(y-256,p);var T,P=dt(A.G[4],A.H[4],p);if(E(p),!(b>=(P=ht(_,P=pt(P,p)))&&w-b>=y)){g=0;break e}for(T=0;T<y;++T)s[v+b+T]=s[v+b+T-P];for(b+=y,u+=y;u>=_;)u-=_,++l<=e&&!(l%16)&&wt(a,l);b<x&&u&j&&(A=_t(d,u,l))}c(p.h==k(p))}wt(a,l>e?e:l);break e}!g||p.h&&b<w?(g=0,a.a=p.h?5:3):a.$=b,e=g}else e=xt(a,a.V,a.Ba,a.c,a.i,e,Tt);if(!e){i=0;break t}}n+i>=o&&(t.Cc=1),i=1}if(!i)return null;if(t.Cc&&(null!=(i=t.ga)&&(i.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+n*r}function Qe(t,e,n,i,r,o){for(;0<r--;){var a,s=t,l=e+(n?1:0),c=t,u=e+(n?0:3);for(a=0;a<i;++a){var f=c[u+4*a];255!=f&&(f*=32897,s[l+4*a+0]=s[l+4*a+0]*f>>23,s[l+4*a+1]=s[l+4*a+1]*f>>23,s[l+4*a+2]=s[l+4*a+2]*f>>23)}e+=o}}function Xe(t,e,n,i,r){for(;0<i--;){var o;for(o=0;o<n;++o){var a=t[e+2*o+0],s=15&(c=t[e+2*o+1]),l=4369*s,c=(240&c|c>>4)*l>>16;t[e+2*o+0]=(240&a|a>>4)*l>>16&240|(15&a|a<<4)*l>>16>>4&15,t[e+2*o+1]=240&c|s}e+=r}}function Ke(t,e,n,i,r,o,a,s){var l,c,u=255;for(c=0;c<r;++c){for(l=0;l<i;++l){var f=t[e+l];o[a+4*l]=f,u&=f}e+=n,a+=s}return 255!=u}function tn(t,e,n,i,r){var o;for(o=0;o<r;++o)n[i+o]=t[e+o]>>8}function en(){li=Qe,ci=Xe,ui=Ke,fi=tn}function nn(t,e,n){l[t]=function(t,i,r,o,a,s,l,u,f,p,h,d,v,_,m,g,y){var b,w=y-1>>1,x=a[s+0]|l[u+0]<<16,k=f[p+0]|h[d+0]<<16;c(null!=t);var j=3*x+k+131074>>2;for(e(t[i+0],255&j,j>>16,v,_),null!=r&&(j=3*k+x+131074>>2,e(r[o+0],255&j,j>>16,m,g)),b=1;b<=w;++b){var E=a[s+b]|l[u+b]<<16,A=f[p+b]|h[d+b]<<16,T=x+E+k+A+524296,P=T+2*(E+k)>>3;j=P+x>>1,x=(T=T+2*(x+A)>>3)+E>>1,e(t[i+2*b-1],255&j,j>>16,v,_+(2*b-1)*n),e(t[i+2*b-0],255&x,x>>16,v,_+(2*b-0)*n),null!=r&&(j=T+k>>1,x=P+A>>1,e(r[o+2*b-1],255&j,j>>16,m,g+(2*b-1)*n),e(r[o+2*b+0],255&x,x>>16,m,g+(2*b+0)*n)),x=E,k=A}1&y||(j=3*x+k+131074>>2,e(t[i+y-1],255&j,j>>16,v,_+(y-1)*n),null!=r&&(j=3*k+x+131074>>2,e(r[o+y-1],255&j,j>>16,m,g+(y-1)*n)))}}function rn(){nr[wi]=ir,nr[xi]=or,nr[ki]=rr,nr[ji]=ar,nr[Ei]=sr,nr[Ai]=lr,nr[Ti]=cr,nr[Pi]=or,nr[Si]=ar,nr[Ri]=sr,nr[Fi]=lr}function on(t){return t&~vr?0>t?0:255:t>>dr}function an(t,e){return on((19077*t>>8)+(26149*e>>8)-14234)}function sn(t,e,n){return on((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function ln(t,e){return on((19077*t>>8)+(33050*e>>8)-17685)}function cn(t,e,n,i,r){i[r+0]=an(t,n),i[r+1]=sn(t,e,n),i[r+2]=ln(t,e)}function un(t,e,n,i,r){i[r+0]=ln(t,e),i[r+1]=sn(t,e,n),i[r+2]=an(t,n)}function fn(t,e,n,i,r){var o=sn(t,e,n);e=o<<3&224|ln(t,e)>>3,i[r+0]=248&an(t,n)|o>>5,i[r+1]=e}function pn(t,e,n,i,r){var o=240&ln(t,e)|15;i[r+0]=240&an(t,n)|sn(t,e,n)>>4,i[r+1]=o}function hn(t,e,n,i,r){i[r+0]=255,cn(t,e,n,i,r+1)}function dn(t,e,n,i,r){un(t,e,n,i,r),i[r+3]=255}function vn(t,e,n,i,r){cn(t,e,n,i,r),i[r+3]=255}function Ot(t,e){return 0>t?0:t>e?e:t}function _n(t,e,n){l[t]=function(t,i,r,o,a,s,l,c,u){for(var f=c+(-2&u)*n;c!=f;)e(t[i+0],r[o+0],a[s+0],l,c),e(t[i+1],r[o+0],a[s+0],l,c+n),i+=2,++o,++s,c+=2*n;1&u&&e(t[i+0],r[o+0],a[s+0],l,c)}}function mn(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function gn(t,e,n,i,r){switch(t>>>30){case 3:qn(e,n,i,r,0);break;case 2:Wn(e,n,i,r);break;case 1:Gn(e,n,i,r)}}function yn(t,e){var n,i,r=e.M,o=e.Nb,a=t.oc,s=t.pc+40,l=t.oc,c=t.pc+584,u=t.oc,h=t.pc+600;for(n=0;16>n;++n)a[s+32*n-1]=129;for(n=0;8>n;++n)l[c+32*n-1]=129,u[h+32*n-1]=129;for(0<r?a[s-1-32]=l[c-1-32]=u[h-1-32]=129:(p(a,s-32-1,127,21),p(l,c-32-1,127,9),p(u,h-32-1,127,9)),i=0;i<t.za;++i){var d=e.ya[e.aa+i];if(0<i){for(n=-1;16>n;++n)f(a,s+32*n-4,a,s+32*n+12,4);for(n=-1;8>n;++n)f(l,c+32*n-4,l,c+32*n+4,4),f(u,h+32*n-4,u,h+32*n+4,4)}var v=t.Gd,_=t.Hd+i,m=d.ad,g=d.Hc;if(0<r&&(f(a,s-32,v[_].y,0,16),f(l,c-32,v[_].f,0,8),f(u,h-32,v[_].ea,0,8)),d.Za){var y=a,b=s-32+16;for(0<r&&(i>=t.za-1?p(y,b,v[_].y[15],4):f(y,b,v[_+1].y,0,4)),n=0;4>n;n++)y[b+128+n]=y[b+256+n]=y[b+384+n]=y[b+0+n];for(n=0;16>n;++n,g<<=2)y=a,b=s+kr[n],Qi[d.Ob[n]](y,b),gn(g,m,16*+n,y,b)}else if(y=mn(i,r,d.Ob[0]),Ji[y](a,s),0!=g)for(n=0;16>n;++n,g<<=2)gn(g,m,16*+n,a,s+kr[n]);for(n=d.Gc,y=mn(i,r,d.Dd),Xi[y](l,c),Xi[y](u,h),g=m,y=l,b=c,255&(d=n>>0)&&(170&d?Yn(g,256,y,b):$n(g,256,y,b)),d=u,g=h,255&(n>>=8)&&(170&n?Yn(m,320,d,g):$n(m,320,d,g)),r<t.Ub-1&&(f(v[_].y,0,a,s+480,16),f(v[_].f,0,l,c+224,8),f(v[_].ea,0,u,h+224,8)),n=8*o*t.B,v=t.sa,_=t.ta+16*i+16*o*t.R,m=t.qa,d=t.ra+8*i+n,g=t.Ha,y=t.Ia+8*i+n,n=0;16>n;++n)f(v,_+n*t.R,a,s+32*n,16);for(n=0;8>n;++n)f(m,d+n*t.B,l,c+32*n,8),f(g,y+n*t.B,u,h+32*n,8)}}function bn(t,e,n,i,r,o,a,s,l){var f=[0],p=[0],h=0,d=null!=l?l.kd:0,v=null!=l?l:new qe;if(null==t||12>n)return 7;v.data=t,v.w=e,v.ha=n,e=[e],n=[n],v.gb=[v.gb];t:{var _=e,g=n,y=v.gb;if(c(null!=t),c(null!=g),c(null!=y),y[0]=0,12<=g[0]&&!u(t,_[0],"RIFF")){if(u(t,_[0]+8,"WEBP")){y=3;break t}var b=C(t,_[0]+4);if(12>b||4294967286<b){y=3;break t}if(d&&b>g[0]-8){y=7;break t}y[0]=b,_[0]+=12,g[0]-=12}y=0}if(0!=y)return y;for(b=0<v.gb[0],n=n[0];;){t:{var x=t;g=e,y=n;var k=f,j=p,E=_=[0];if((P=h=[h])[0]=0,8>y[0])y=7;else{if(!u(x,g[0],"VP8X")){if(10!=C(x,g[0]+4)){y=3;break t}if(18>y[0]){y=7;break t}var A=C(x,g[0]+8),T=1+F(x,g[0]+12);if(2147483648<=T*(x=1+F(x,g[0]+15))){y=3;break t}null!=E&&(E[0]=A),null!=k&&(k[0]=T),null!=j&&(j[0]=x),g[0]+=18,y[0]-=18,P[0]=1}y=0}}if(h=h[0],_=_[0],0!=y)return y;if(g=!!(2&_),!b&&h)return 3;if(null!=o&&(o[0]=!!(16&_)),null!=a&&(a[0]=g),null!=s&&(s[0]=0),a=f[0],_=p[0],h&&g&&null==l){y=0;break}if(4>n){y=7;break}if(b&&h||!b&&!h&&!u(t,e[0],"ALPH")){n=[n],v.na=[v.na],v.P=[v.P],v.Sa=[v.Sa];t:{A=t,y=e,b=n;var P=v.gb;k=v.na,j=v.P,E=v.Sa;T=22,c(null!=A),c(null!=b),x=y[0];var S=b[0];for(c(null!=k),c(null!=E),k[0]=null,j[0]=null,E[0]=0;;){if(y[0]=x,b[0]=S,8>S){y=7;break t}var R=C(A,x+4);if(4294967286<R){y=3;break t}var I=8+R+1&-2;if(T+=I,0<P&&T>P){y=3;break t}if(!u(A,x,"VP8 ")||!u(A,x,"VP8L")){y=0;break t}if(S[0]<I){y=7;break t}u(A,x,"ALPH")||(k[0]=A,j[0]=x+8,E[0]=R),x+=I,S-=I}}if(n=n[0],v.na=v.na[0],v.P=v.P[0],v.Sa=v.Sa[0],0!=y)break}n=[n],v.Ja=[v.Ja],v.xa=[v.xa];t:if(P=t,y=e,b=n,k=v.gb[0],j=v.Ja,E=v.xa,A=y[0],x=!u(P,A,"VP8 "),T=!u(P,A,"VP8L"),c(null!=P),c(null!=b),c(null!=j),c(null!=E),8>b[0])y=7;else{if(x||T){if(P=C(P,A+4),12<=k&&P>k-12){y=3;break t}if(d&&P>b[0]-8){y=7;break t}j[0]=P,y[0]+=8,b[0]-=8,E[0]=T}else E[0]=5<=b[0]&&47==P[A+0]&&!(P[A+4]>>5),j[0]=b[0];y=0}if(n=n[0],v.Ja=v.Ja[0],v.xa=v.xa[0],e=e[0],0!=y)break;if(4294967286<v.Ja)return 3;if(null==s||g||(s[0]=v.xa?2:1),a=[a],_=[_],v.xa){if(5>n){y=7;break}s=a,d=_,g=o,null==t||5>n?t=0:5<=n&&47==t[e+0]&&!(t[e+4]>>5)?(b=[0],P=[0],k=[0],m(j=new w,t,e,n),ft(j,b,P,k)?(null!=s&&(s[0]=b[0]),null!=d&&(d[0]=P[0]),null!=g&&(g[0]=k[0]),t=1):t=0):t=0}else{if(10>n){y=7;break}s=_,null==t||10>n||!zt(t,e+3,n-3)?t=0:(d=t[e+0]|t[e+1]<<8|t[e+2]<<16,g=16383&(t[e+7]<<8|t[e+6]),t=16383&(t[e+9]<<8|t[e+8]),1&d||3<(d>>1&7)||!(d>>4&1)||d>>5>=v.Ja||!g||!t?t=0:(a&&(a[0]=g),s&&(s[0]=t),t=1))}if(!t)return 3;if(a=a[0],_=_[0],h&&(f[0]!=a||p[0]!=_))return 3;null!=l&&(l[0]=v,l.offset=e-l.w,c(4294967286>e-l.w),c(l.offset==l.ha-n));break}return 0==y||7==y&&h&&null==l?(null!=o&&(o[0]|=null!=v.na&&0<v.na.length),null!=i&&(i[0]=a),null!=r&&(r[0]=_),0):y}function wn(t,e,n){var i=e.width,r=e.height,o=0,a=0,s=i,l=r;if(e.Da=null!=t&&0<t.Da,e.Da&&(s=t.cd,l=t.bd,o=t.v,a=t.j,11>n||(o&=-2,a&=-2),0>o||0>a||0>=s||0>=l||o+s>i||a+l>r))return 0;if(e.v=o,e.j=a,e.va=o+s,e.o=a+l,e.U=s,e.T=l,e.da=null!=t&&0<t.da,e.da){if(!U(s,l,n=[t.ib],o=[t.hb]))return 0;e.ib=n[0],e.hb=o[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*i/4&&e.hb<3*r/4,e.Kb=0),1}function xn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else e=t.f.kb,t=t.height,e.O+=(t-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function kn(t,e,n,i){if(null==i||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var r=n.cd,o=n.bd,a=-2&n.v,s=-2&n.j;if(0>a||0>s||0>=r||0>=o||a+r>t||s+o>e)return 2;t=r,e=o}if(n.da){if(!U(t,e,r=[n.ib],o=[n.hb]))return 2;t=r[0],e=o[0]}}i.width=t,i.height=e;t:{var l=i.width,c=i.height;if(t=i.S,0>=l||0>=c||!(t>=wi&&13>t))t=2;else{if(0>=i.Rd&&null==i.sd){a=o=r=e=0;var u=(s=l*Tr[t])*c;if(11>t||(o=(c+1)/2*(e=(l+1)/2),12==t&&(a=(r=l)*c)),null==(c=h(u+2*o+a))){t=1;break t}i.sd=c,11>t?((l=i.f.RGBA).eb=c,l.fb=0,l.A=s,l.size=u):((l=i.f.kb).y=c,l.O=0,l.fa=s,l.Fd=u,l.f=c,l.N=0+u,l.Ab=e,l.Cd=o,l.ea=c,l.W=0+u+o,l.Db=e,l.Ed=o,12==t&&(l.F=c,l.J=0+u+2*o),l.Tc=a,l.lb=r)}if(e=1,r=i.S,o=i.width,a=i.height,r>=wi&&13>r)if(11>r)t=i.f.RGBA,e&=(s=Math.abs(t.A))*(a-1)+o<=t.size,e&=s>=o*Tr[r],e&=null!=t.eb;else{t=i.f.kb,s=(o+1)/2,u=(a+1)/2,l=Math.abs(t.fa);c=Math.abs(t.Ab);var f=Math.abs(t.Db),p=Math.abs(t.lb),d=p*(a-1)+o;e&=l*(a-1)+o<=t.Fd,e&=c*(u-1)+s<=t.Cd,e=(e&=f*(u-1)+s<=t.Ed)&l>=o&c>=s&f>=s,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==r&&(e&=p>=o,e&=d<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t?t:(null!=n&&n.fd&&(t=xn(i)),t)}var jn=64,En=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],An=24,Tn=32,Pn=8,Sn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];B("Predictor0","PredictorAdd0"),l.Predictor0=function(){return 4278190080},l.Predictor1=function(t){return t},l.Predictor2=function(t,e,n){return e[n+0]},l.Predictor3=function(t,e,n){return e[n+1]},l.Predictor4=function(t,e,n){return e[n-1]},l.Predictor5=function(t,e,n){return N(N(t,e[n+1]),e[n+0])},l.Predictor6=function(t,e,n){return N(t,e[n-1])},l.Predictor7=function(t,e,n){return N(t,e[n+0])},l.Predictor8=function(t,e,n){return N(e[n-1],e[n+0])},l.Predictor9=function(t,e,n){return N(e[n+0],e[n+1])},l.Predictor10=function(t,e,n){return N(N(t,e[n-1]),N(e[n+0],e[n+1]))},l.Predictor11=function(t,e,n){var i=e[n+0];return 0>=Z(i>>24&255,t>>24&255,(e=e[n-1])>>24&255)+Z(i>>16&255,t>>16&255,e>>16&255)+Z(i>>8&255,t>>8&255,e>>8&255)+Z(255&i,255&t,255&e)?i:t},l.Predictor12=function(t,e,n){var i=e[n+0];return(H((t>>24&255)+(i>>24&255)-((e=e[n-1])>>24&255))<<24|H((t>>16&255)+(i>>16&255)-(e>>16&255))<<16|H((t>>8&255)+(i>>8&255)-(e>>8&255))<<8|H((255&t)+(255&i)-(255&e)))>>>0},l.Predictor13=function(t,e,n){var i=e[n-1];return(V((t=N(t,e[n+0]))>>24&255,i>>24&255)<<24|V(t>>16&255,i>>16&255)<<16|V(t>>8&255,i>>8&255)<<8|V(t>>0&255,i>>0&255))>>>0};var Rn=l.PredictorAdd0;l.PredictorAdd1=q,B("Predictor2","PredictorAdd2"),B("Predictor3","PredictorAdd3"),B("Predictor4","PredictorAdd4"),B("Predictor5","PredictorAdd5"),B("Predictor6","PredictorAdd6"),B("Predictor7","PredictorAdd7"),B("Predictor8","PredictorAdd8"),B("Predictor9","PredictorAdd9"),B("Predictor10","PredictorAdd10"),B("Predictor11","PredictorAdd11"),B("Predictor12","PredictorAdd12"),B("Predictor13","PredictorAdd13");var Fn=l.PredictorAdd2;$("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),$("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Cn,In=l.ColorIndexInverseTransform,Ln=l.MapARGB,On=l.VP8LColorIndexInverseTransformAlpha,Un=l.MapAlpha,Dn=l.VP8LPredictorsAdd=[];Dn.length=16,(l.VP8LPredictors=[]).length=16,(l.VP8LPredictorsAdd_C=[]).length=16,(l.VP8LPredictors_C=[]).length=16;var zn,Bn,Mn,Nn,Hn,Vn,Zn,qn,Wn,Yn,Gn,$n,Jn,Qn,Xn,Kn,ti,ei,ni,ii,ri,oi,ai,si,li,ci,ui,fi,pi=h(511),hi=h(2041),di=h(225),vi=h(767),_i=0,mi=hi,gi=di,yi=vi,bi=pi,wi=0,xi=1,ki=2,ji=3,Ei=4,Ai=5,Ti=6,Pi=7,Si=8,Ri=9,Fi=10,Ci=[2,3,7],Ii=[3,3,11],Li=[280,256,256,256,40],Oi=[0,1,1,1,0],Ui=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Di=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bi=8,Mi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hi=null,Vi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Zi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Wi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gi=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],$i=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ji=[],Qi=[],Xi=[],Ki=1,tr=2,er=[],nr=[];nn("UpsampleRgbLinePair",cn,3),nn("UpsampleBgrLinePair",un,3),nn("UpsampleRgbaLinePair",vn,4),nn("UpsampleBgraLinePair",dn,4),nn("UpsampleArgbLinePair",hn,4),nn("UpsampleRgba4444LinePair",pn,2),nn("UpsampleRgb565LinePair",fn,2);var ir=l.UpsampleRgbLinePair,rr=l.UpsampleBgrLinePair,or=l.UpsampleRgbaLinePair,ar=l.UpsampleBgraLinePair,sr=l.UpsampleArgbLinePair,lr=l.UpsampleRgba4444LinePair,cr=l.UpsampleRgb565LinePair,ur=16,fr=1<<ur-1,pr=-227,hr=482,dr=6,vr=(256<<dr)-1,_r=0,mr=h(256),gr=h(256),yr=h(256),br=h(256),wr=h(hr-pr),xr=h(hr-pr);_n("YuvToRgbRow",cn,3),_n("YuvToBgrRow",un,3),_n("YuvToRgbaRow",vn,4),_n("YuvToBgraRow",dn,4),_n("YuvToArgbRow",hn,4),_n("YuvToRgba4444Row",pn,2),_n("YuvToRgb565Row",fn,2);var kr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jr=[0,2,8],Er=[8,7,6,4,4,2,2,2,1,1,1,1],Ar=1;this.WebPDecodeRGBA=function(t,e,n,i,r){var o=xi,a=new function(){this.ba=new rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new function(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0},this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"},s=new rt;a.ba=s,s.S=o,s.width=[s.width],s.height=[s.height];var l=s.width,u=s.height,f=new function(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]};if(null==f||null==t)var p=2;else c(null!=f),p=bn(t,e,n,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=p?l=0:(null!=l&&(l[0]=f.width[0]),null!=u&&(u[0]=f.height[0]),l=1),l){s.width=s.width[0],s.height=s.height[0],null!=i&&(i[0]=s.width),null!=r&&(r[0]=s.height);t:{if(i=new Ut,(r=new qe).data=t,r.w=e,r.ha=n,r.kd=1,e=[0],c(null!=r),(0==(t=bn(r.data,r.w,r.ha,null,null,null,e,null,r))||7==t)&&e[0]&&(t=4),0==(e=t)){if(c(null!=a),i.data=r.data,i.w=r.w+r.offset,i.ha=r.ha-r.offset,i.put=ct,i.ac=lt,i.bc=ut,i.ma=a,r.xa){if(null==(t=jt())){a=1;break t}if(function(t,e){var n=[0],i=[0],r=[0];e:for(;;){if(null==t)return 0;if(null==e)return t.a=2,0;if(t.l=e,t.a=0,m(t.m,e.data,e.w,e.ha),!ft(t.m,n,i,r)){t.a=3;break e}if(t.xb=tr,e.width=n[0],e.height=i[0],!Et(n[0],i[0],1,t,null))break e;return 1}return c(0!=t.a),0}(t,i)){if(i=0==(e=kn(i.width,i.height,a.Oa,a.ba))){e:{i=t;n:for(;;){if(null==i){i=0;break e}if(c(null!=i.s.yc),c(null!=i.s.Ya),c(0<i.s.Wb),c(null!=(n=i.l)),c(null!=(r=n.ma)),0!=i.xb){if(i.ca=r.ba,i.tb=r.tb,c(null!=i.ca),!wn(r.Oa,n,ji)){i.a=2;break n}if(!At(i,n.width))break n;if(n.da)break n;if((n.da||it(i.ca.S))&&en(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&en()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!I(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!xt(i,i.V,i.Ba,i.c,i.i,n.o,gt))break n;r.Dc=i.Ma,i=1;break e}c(0!=i.a),i=0}i=!i}i&&(e=t.a)}else e=t.a}else{if(null==(t=new function(){var t=new Lt;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,Hi||(Hi=Mt)),t})){a=1;break t}if(t.Fa=r.na,t.P=r.P,t.qc=r.Sa,Bt(t,i)){if(0==(e=kn(i.width,i.height,a.Oa,a.ba))){if(t.Aa=0,n=a.Oa,c(null!=(r=t)),null!=n){if(0<(l=0>(l=n.Md)?0:100<l?255:255*l/100)){for(u=f=0;4>u;++u)12>(p=r.pb[u]).lc&&(p.ia=l*Er[0>p.lc?0:p.lc]>>3),f|=p.ia;f&&(alert("todo:VP8InitRandom"),r.ia=1)}r.Ga=n.Id,100<r.Ga?r.Ga=100:0>r.Ga&&(r.Ga=0)}Ht(t,i)||(e=t.a)}}else e=t.a}0==e&&null!=a.Oa&&a.Oa.fd&&(e=xn(a.ba))}a=e}o=0!=a?null:11>o?s.f.RGBA.eb:s.f.kb.y}else o=null;return o};var Tr=[3,4,3,4,4,2,2,4,4,4,2,1,1]}function m(t,e){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(t[e++]);return n}function g(t,e){return t[e+0]<<0|t[e+1]<<8}function y(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16)>>>0}function b(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}const w=async t=>{const e=await i.createBuffer(t),{frames:n}=function(t,e){var n={},i=0,r=!1,o=0,a=0;if(n.frames=[],!function(t,e,n,i){for(var r=0;r<i;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}(t,e,"RIFF",4)){for(b(t,e+=4),e+=8;e<t.length;){var s=m(t,e),l=b(t,e+=4);e+=4;var c=l+(1&l);switch(s){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={}),(p=n.frames[i]).src_off=r?a:e-8,p.src_size=o+l+8,i++,r&&(r=!1,o=0,a=0);break;case"VP8X":(p=n.header={}).feature_flags=t[e];var u=e+4;p.canvas_width=1+y(t,u),u+=3,p.canvas_height=1+y(t,u),u+=3;break;case"ALPH":r=!0,o=c+8,a=e-8;break;case"ANIM":(p=n.header).bgcolor=b(t,e),u=e+4,p.loop_count=g(t,u),u+=2;break;case"ANMF":var f,p;(p=n.frames[i]={}).offset_x=2*y(t,e),e+=3,p.offset_y=2*y(t,e),e+=3,p.width=1+y(t,e),e+=3,p.height=1+y(t,e),e+=3,p.duration=y(t,e),e+=3,f=t[e++],p.dispose=1&f,p.blend=f>>1&1}"ANMF"!=s&&(e+=c)}return n}}(e,0),r=new _;return n.map(t=>{const n={w:[],h:[]},o=r.WebPDecodeRGBA(e,t.src_off,t.src_size,n.w,n.h),a=i.createImageData(n.w[0],n.h[0]);return i.set(a,{data:o}),a.meta=t,a})};e.default=(async t=>{const e=await i.detect(t);switch(e.ext){case"gif":return r.parse(t);case"png":return a.parse(t);case"jpg":return o.parse(t);case"bmp":return s.parse(t);case"webp":return w(t);default:return Promise.reject(new Error(e.ext+" is Unsupported type."))}})}]).default});
//# sourceMappingURL=index.browser.js.map